import{r as Yi,a as nv,g as Kt,b as v,c as iv,u as Er,d as sr,L as Gi,e as ol,R as Lt,B as av,f as ov,h as It}from"./vendor-Dv8AxyHh.js";import{a as sv,v as si}from"./utils-BjhivJ9o.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var _a={exports:{}},an={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c;function lv(){if($c)return an;$c=1;var e=Yi(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)n.call(l,c)&&!a.hasOwnProperty(c)&&(d[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:s,key:f,ref:h,props:d,_owner:i.current}}return an.Fragment=r,an.jsx=o,an.jsxs=o,an}var Rc;function cv(){return Rc||(Rc=1,_a.exports=lv()),_a.exports}var p=cv(),qn={},Bc;function uv(){if(Bc)return qn;Bc=1;var e=nv();return qn.createRoot=e.createRoot,qn.hydrateRoot=e.hydrateRoot,qn}var dv=uv();const fv=Kt(dv);function Ip(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Ip(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Ip(e))&&(n&&(n+=" "),n+=t);return n}var Ia={},Ma={},Lc;function pv(){return Lc||(Lc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(Ma)),Ma}var $a={},Fc;function Mp(){return Fc||(Fc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}($a)),$a}var Ra={},zc;function $p(){return zc||(zc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(Ra)),Ra}var Ba={},Wc;function sl(){return Wc||(Wc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];s?u==="\\"&&a+1<i?(a++,o+=r[a]):u===s?s="":o+=u:l?u==='"'||u==="'"?s=u:u==="]"?(l=!1,n.push(o),o=""):o+=u:u==="["?(l=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,a++}return o&&n.push(o),n}e.toPath=t}(Ba)),Ba}var qc;function ll(){return qc||(qc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv(),r=Mp(),n=$p(),i=sl();function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a}(Ia)),Ia}var La,Uc;function hv(){return Uc||(Uc=1,La=ll().get),La}var gv=hv();const jr=Kt(gv);var Fa={exports:{}},ye={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc;function mv(){if(Hc)return ye;Hc=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var g=y.$$typeof;switch(g){case e:switch(y=y.type,y){case r:case i:case n:case l:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case o:case s:case d:case c:return y;case a:return y;default:return g}}case t:return g}}}return ye.ContextConsumer=a,ye.ContextProvider=o,ye.Element=e,ye.ForwardRef=s,ye.Fragment=r,ye.Lazy=d,ye.Memo=c,ye.Portal=t,ye.Profiler=i,ye.StrictMode=n,ye.Suspense=l,ye.SuspenseList=u,ye.isContextConsumer=function(y){return m(y)===a},ye.isContextProvider=function(y){return m(y)===o},ye.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ye.isForwardRef=function(y){return m(y)===s},ye.isFragment=function(y){return m(y)===r},ye.isLazy=function(y){return m(y)===d},ye.isMemo=function(y){return m(y)===c},ye.isPortal=function(y){return m(y)===t},ye.isProfiler=function(y){return m(y)===i},ye.isStrictMode=function(y){return m(y)===n},ye.isSuspense=function(y){return m(y)===l},ye.isSuspenseList=function(y){return m(y)===u},ye.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===o||y.$$typeof===a||y.$$typeof===s||y.$$typeof===h||y.getModuleId!==void 0)},ye.typeOf=m,ye}var Kc;function yv(){return Kc||(Kc=1,Fa.exports=mv()),Fa.exports}var vv=yv(),Ct=e=>e===0?0:e>0?1:-1,ut=e=>typeof e=="number"&&e!=+e,mr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!ut(e),vt=e=>ie(e)||typeof e=="string",xv=0,bn=e=>{var t=++xv;return"".concat(e||"").concat(t)},ar=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var a;if(mr(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ut(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Rp=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},on=(e,t)=>ie(e)&&ie(t)?r=>e+r*(t-e):()=>t;function cl(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):jr(n,t))===r)}var Ee=e=>e===null||typeof e>"u",ul=e=>Ee(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),bv=["viewBox","children"],wv=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vc=["points","pathLength"],za={svg:bv,polygon:Vc,polyline:Vc},dl=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fl=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{dl.includes(i)&&(n[i]=a=>r[i](r,a))}),n},Sv=(e,t,r)=>n=>(e(t,r,n),null),Av=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];dl.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=Sv(a,t,r))}),n},Yc=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Gc=null,Wa=null,Bp=e=>{if(e===Gc&&Array.isArray(Wa))return Wa;var t=[];return v.Children.forEach(e,r=>{Ee(r)||(vv.isFragment(r)?t=t.concat(Bp(r.props.children)):t.push(r))}),Wa=t,Gc=e,t};function Lp(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Yc(i)):n=[Yc(t)],Bp(e).forEach(i=>{var a=jr(i,"type.displayName")||jr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var Fp=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Pv=(e,t,r,n)=>{var i,a=(i=n&&za?.[n])!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&a.includes(t)||wv.includes(t))||r&&dl.includes(t)},we=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;Pv((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},jv=["children","width","height","viewBox","className","style","title","desc"];function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(null,arguments)}function kv(e,t){if(e==null)return{};var r,n,i=Cv(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zp=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=kv(e,jv),d=a||{width:n,height:i,x:0,y:0},f=xe("recharts-surface",o);return v.createElement("svg",gs({},we(c,!0,"svg"),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),r)}),Ov=["children","className"];function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(null,arguments)}function Ev(e,t){if(e==null)return{};var r,n,i=Tv(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zt=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Ev(e,Ov),a=xe("recharts-layer",n);return v.createElement("g",ms({className:a},we(i,!0),{ref:t}),r)}),Dv=v.createContext(null);function Oe(e){return function(){return e}}const ys=Math.PI,vs=2*ys,pr=1e-6,Nv=vs-pr;function Wp(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _v(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wp;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Iv{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wp:_v(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>pr)if(!(Math.abs(d*l-u*c)>pr)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,m=i-s,y=l*l+u*u,g=h*h+m*m,x=Math.sqrt(y),b=Math.sqrt(f),w=a*Math.tan((ys-Math.acos((y+f-g)/(2*x*b)))/2),j=w/b,A=w/x;Math.abs(j-1)>pr&&this._append`L${t+j*c},${r+j*d}`,this._append`A${a},${a},0,0,${+(d*h>c*m)},${this._x1=t+A*l},${this._y1=r+A*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>pr||Math.abs(this._y1-c)>pr)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%vs+vs),f>Nv?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:f>pr&&this._append`A${n},${n},0,${+(f>=ys)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Iv(t)}function pl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ji(e){return new Up(e)}function Hp(e){return e[0]}function Kp(e){return e[1]}function Vp(e,t){var r=Oe(!0),n=null,i=Ji,a=null,o=qp(s);e=typeof e=="function"?e:e===void 0?Hp:Oe(e),t=typeof t=="function"?t:t===void 0?Kp:Oe(t);function s(l){var u,c=(l=pl(l)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,u,l),+t(d,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Oe(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Oe(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Oe(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Un(e,t,r){var n=null,i=Oe(!0),a=null,o=Ji,s=null,l=qp(u);e=typeof e=="function"?e:e===void 0?Hp:Oe(+e),t=typeof t=="function"?t:Oe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Kp:Oe(+r);function u(d){var f,h,m,y=(d=pl(d)).length,g,x=!1,b,w=new Array(y),j=new Array(y);for(a==null&&(s=o(b=l())),f=0;f<=y;++f){if(!(f<y&&i(g=d[f],f,d))===x)if(x=!x)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=h;--m)s.point(w[m],j[m]);s.lineEnd(),s.areaEnd()}x&&(w[f]=+e(g,f,d),j[f]=+t(g,f,d),s.point(n?+n(g,f,d):w[f],r?+r(g,f,d):j[f]))}if(b)return s=null,b+""||null}function c(){return Vp().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Oe(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Oe(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Oe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Oe(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Oe(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Oe(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Oe(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class Yp{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Mv(e){return new Yp(e,!0)}function $v(e){return new Yp(e,!1)}function li(){}function ci(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Gp(e){this._context=e}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ci(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ci(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rv(e){return new Gp(e)}function Jp(e){this._context=e}Jp.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ci(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bv(e){return new Jp(e)}function Xp(e){this._context=e}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ci(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lv(e){return new Xp(e)}function Qp(e){this._context=e}Qp.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Fv(e){return new Qp(e)}function Jc(e){return e<0?-1:1}function Xc(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Jc(a)+Jc(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Qc(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qa(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function ui(e){this._context=e}ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qa(this,this._t0,Qc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qa(this,Qc(this,r=Xc(this,e,t)),r);break;default:qa(this,this._t0,r=Xc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Zp(e){this._context=new eh(e)}(Zp.prototype=Object.create(ui.prototype)).point=function(e,t){ui.prototype.point.call(this,t,e)};function eh(e){this._context=e}eh.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function zv(e){return new ui(e)}function Wv(e){return new Zp(e)}function th(e){this._context=e}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zc(e),i=Zc(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zc(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qv(e){return new th(e)}function Xi(e,t){this._context=e,this._t=t}Xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Uv(e){return new Xi(e,.5)}function Hv(e){return new Xi(e,0)}function Kv(e){return new Xi(e,1)}function zr(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function xs(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vv(e,t){return e[t]}function Yv(e){const t=[];return t.key=e,t}function Gv(){var e=Oe([]),t=xs,r=zr,n=Vv;function i(a){var o=Array.from(e.apply(this,arguments),Yv),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=pl(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Oe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Oe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?xs:typeof a=="function"?a:Oe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??zr,i):r},i}function Jv(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}zr(e,t)}}function Xv(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}zr(e,t)}}function Qv(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,f=c[n-1][1]||0,h=(d-f)/2,m=0;m<s;++m){var y=e[t[m]],g=y[n][1]||0,x=y[n-1][1]||0;h+=g-x}l+=d,u+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,zr(e,t)}}var Ua={},Ha={},eu;function Zv(){return eu||(eu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t}(Ha)),Ha}var Ka={},tu;function rh(){return tu||(tu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(Ka)),Ka}var Va={},Ya={},Ga={},ru;function e0(){return ru||(ru=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Ga)),Ga}var nu;function hl(){return nu||(nu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(Ya)),Ya}var Ja={},iu;function t0(){return iu||(iu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Ja)),Ja}var au;function r0(){return au||(au=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hl(),r=t0();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n}(Va)),Va}var Xa={},Qa={},ou;function n0(){return ou||(ou=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ll();function r(n){return function(i){return t.get(i,n)}}e.property=r}(Qa)),Qa}var Za={},eo={},to={},ro={},su;function nh(){return su||(su=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(ro)),ro}var no={},lu;function ih(){return lu||(lu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(no)),no}var io={},cu;function gl(){return cu||(cu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(io)),io}var uu;function i0(){return uu||(uu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ml(),r=nh(),n=ih(),i=gl();function a(d,f,h){return typeof h!="function"?t.isMatch(d,f):o(d,f,function m(y,g,x,b,w,j){const A=h(y,g,x,b,w,j);return A!==void 0?!!A:o(y,g,m,j)},new Map)}function o(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?o(d,{...f},h,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return u(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const y=Object.keys(f);if(d==null)return y.length===0;if(y.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let g=0;g<y.length;g++){const x=y[g];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,g]of f.entries()){const x=d.get(y);if(h(x,g,y,d,f,m)===!1)return!1}return!0}function u(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let g=0;g<f.length;g++){const x=f[g];let b=!1;for(let w=0;w<d.length;w++){if(y.has(w))continue;const j=d[w];let A=!1;if(h(j,x,g,d,f,m)&&(A=!0),A){y.add(w),b=!0;break}}if(!b)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?u([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=c}(to)),to}var du;function ml(){return du||(du=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(eo)),eo}var ao={},oo={},so={},fu;function ah(){return fu||(fu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(so)),so}var lo={},pu;function yl(){return pu||(pu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(lo)),lo}var co={},hu;function vl(){return hu||(hu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",m="[object Error]",y="[object DataView]",g="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",A="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=y,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=I,e.float64ArrayTag=$,e.functionTag=d,e.int16ArrayTag=k,e.int32ArrayTag=P,e.int8ArrayTag=A,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=x}(co)),co}var uo={},gu;function a0(){return gu||(gu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(uo)),uo}var mu;function oh(){return mu||(mu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ah(),r=yl(),n=vl(),i=ih(),a=a0();function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,f,h=new Map,m=void 0){const y=m?.(c,d,f,h);if(y!=null)return y;if(i.isPrimitive(c))return c;if(h.has(c))return h.get(c);if(Array.isArray(c)){const g=new Array(c.length);h.set(c,g);for(let x=0;x<c.length;x++)g[x]=s(c[x],x,f,h,m);return Object.hasOwn(c,"index")&&(g.index=c.index),Object.hasOwn(c,"input")&&(g.input=c.input),g}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const g=new RegExp(c.source,c.flags);return g.lastIndex=c.lastIndex,g}if(c instanceof Map){const g=new Map;h.set(c,g);for(const[x,b]of c)g.set(x,s(b,x,f,h,m));return g}if(c instanceof Set){const g=new Set;h.set(c,g);for(const x of c)g.add(s(x,void 0,f,h,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const g=new(Object.getPrototypeOf(c)).constructor(c.length);h.set(c,g);for(let x=0;x<c.length;x++)g[x]=s(c[x],x,f,h,m);return g}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const g=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return h.set(c,g),l(g,c,f,h,m),g}if(typeof File<"u"&&c instanceof File){const g=new File([c],c.name,{type:c.type});return h.set(c,g),l(g,c,f,h,m),g}if(c instanceof Blob){const g=new Blob([c],{type:c.type});return h.set(c,g),l(g,c,f,h,m),g}if(c instanceof Error){const g=new c.constructor;return h.set(c,g),g.message=c.message,g.name=c.name,g.stack=c.stack,g.cause=c.cause,l(g,c,f,h,m),g}if(typeof c=="object"&&u(c)){const g=Object.create(Object.getPrototypeOf(c));return h.set(c,g),l(g,c,f,h,m),g}return c}function l(c,d,f=c,h,m){const y=[...Object.keys(d),...t.getSymbols(d)];for(let g=0;g<y.length;g++){const x=y[g],b=Object.getOwnPropertyDescriptor(c,x);(b==null||b.writable)&&(c[x]=s(d[x],x,f,h,m))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l}(oo)),oo}var yu;function o0(){return yu||(yu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oh();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(ao)),ao}var vu;function s0(){return vu||(vu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ml(),r=o0();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n}(Za)),Za}var fo={},po={},ho={},xu;function l0(){return xu||(xu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oh(),r=vl();function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a?.(o,s,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i?.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n}(ho)),ho}var bu;function c0(){return bu||(bu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(po)),po}var go={},mo={},wu;function sh(){return wu||(wu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(mo)),mo}var yo={},Su;function u0(){return Su||(Su=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yl();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(yo)),yo}var Au;function d0(){return Au||(Au=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mp(),r=sh(),n=u0(),i=sl();function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&o?.[s]==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a}(go)),go}var Pu;function f0(){return Pu||(Pu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ml(),r=$p(),n=c0(),i=ll(),a=d0();function o(s,l){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o}(fo)),fo}var ju;function p0(){return ju||(ju=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh(),r=n0(),n=s0(),i=f0();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a}(Xa)),Xa}var ku;function h0(){return ku||(ku=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv(),r=rh(),n=r0(),i=p0();function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a}(Ua)),Ua}var vo,Cu;function g0(){return Cu||(Cu=1,vo=h0().uniqBy),vo}var m0=g0();const Ou=Kt(m0);function y0(e,t,r){return t===!0?Ou(e,r):typeof t=="function"?Ou(e,t):e}var xo={exports:{}},bo={},wo={exports:{}},So={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu;function v0(){if(Eu)return So;Eu=1;var e=Yi();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(d,f){var h=f(),m=n({inst:{value:h,getSnapshot:f}}),y=m[0].inst,g=m[1];return a(function(){y.value=h,y.getSnapshot=f,l(y)&&g({inst:y})},[d,h,f]),i(function(){return l(y)&&g({inst:y}),d(function(){l(y)&&g({inst:y})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!r(d,h)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return So.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,So}var Tu;function x0(){return Tu||(Tu=1,wo.exports=v0()),wo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du;function b0(){if(Du)return bo;Du=1;var e=Yi(),t=x0();function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return bo.useSyncExternalStoreWithSelector=function(u,c,d,f,h){var m=a(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=s(function(){function x(k){if(!b){if(b=!0,w=k,k=f(k),h!==void 0&&y.hasValue){var P=y.value;if(h(P,k))return j=P}return j=k}if(P=j,n(w,k))return P;var T=f(k);return h!==void 0&&h(P,T)?(w=k,P):(w=k,j=T)}var b=!1,w,j,A=d===void 0?null:d;return[function(){return x(c())},A===null?void 0:function(){return x(A())}]},[c,d,f,h]);var g=i(u,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=g},[g]),l(g),g},bo}var Nu;function w0(){return Nu||(Nu=1,xo.exports=b0()),xo.exports}var S0=w0(),xl=v.createContext(null),A0=e=>e,Ue=()=>{var e=v.useContext(xl);return e?e.store.dispatch:A0},oi=()=>{},P0=()=>oi,j0=(e,t)=>e===t;function te(e){var t=v.useContext(xl);return S0.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:P0,t?t.store.getState:oi,t?t.store.getState:oi,t?e:oi,j0)}function k0(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function C0(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O0(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _u=e=>Array.isArray(e)?e:[e];function E0(e){const t=Array.isArray(e[0])?e[0]:e;return O0(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function T0(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var D0=class{constructor(e){this.value=e}deref(){return this.value}},N0=typeof WeakRef<"u"?WeakRef:D0,_0=0,Iu=1;function Hn(){return{s:_0,v:void 0,o:null,p:null}}function lh(e,t={}){let r=Hn();const{resultEqualityCheck:n}=t;let i,a=0;function o(){let s=r;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let m=s.o;m===null&&(s.o=m=new WeakMap);const y=m.get(h);y===void 0?(s=Hn(),m.set(h,s)):s=y}else{let m=s.p;m===null&&(s.p=m=new Map);const y=m.get(h);y===void 0?(s=Hn(),m.set(h,s)):s=y}}const u=s;let c;if(s.s===Iu)c=s.v;else if(c=e.apply(null,arguments),a++,n){const d=i?.deref?.()??i;d!=null&&n(d,c)&&(c=d,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new N0(c):c}return u.s=Iu,u.v=c,c}return o.clearCache=()=>{r=Hn(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function I0(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),k0(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=lh,argsMemoizeOptions:m=[]}=c,y=_u(f),g=_u(m),x=E0(i),b=d(function(){return a++,u.apply(null,arguments)},...y),w=h(function(){o++;const A=T0(x,arguments);return s=b.apply(null,A),s},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var _=I0(lh),M0=Object.assign((e,t=_)=>{C0(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>M0}),Ao={},Po={},jo={},Mu;function $0(){return Mu||(Mu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r}(jo)),jo}var ko={},Co={},$u;function ch(){return $u||($u=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(Co)),Co}var Ru;function R0(){return Ru||(Ru=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ch(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i}(ko)),ko}var Bu;function B0(){return Bu||(Bu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$0(),r=R0(),n=sl();function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const u=(h,m)=>{let y=h;for(let g=0;g<m.length&&y!=null;++g)y=y[m[g]];return y},c=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:u(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?u(m,h):typeof m=="object"?m[h]:m,d=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:d.map(m=>c(m,h))})).slice().sort((h,m)=>{for(let y=0;y<d.length;y++){const g=t.compareValues(h.criteria[y],m.criteria[y],s[y]);if(g!==0)return g}return 0}).map(h=>h.original)}e.orderBy=i}(Po)),Po}var Oo={},Lu;function L0(){return Lu||(Lu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t}(Oo)),Oo}var Eo={},Fu;function uh(){return Fu||(Fu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sh(),r=hl(),n=nh(),i=gl();function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a}(Eo)),Eo}var zu;function F0(){return zu||(zu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0(),r=L0(),n=uh();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i}(Ao)),Ao}var To,Wu;function z0(){return Wu||(Wu=1,To=F0().sortBy),To}var W0=z0();const Qi=Kt(W0);var dh=e=>e.legend.settings,q0=e=>e.legend.size,U0=e=>e.legend.payload;_([U0,dh],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Qi(n,r):n});var Kn=1;function H0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Kn||Math.abs(o.left-t.left)>Kn||Math.abs(o.top-t.top)>Kn||Math.abs(o.width-t.width)>Kn)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Fe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K0=typeof Symbol=="function"&&Symbol.observable||"@@observable",qu=K0,Do=()=>Math.random().toString(36).substring(7).split("").join("."),V0={INIT:`@@redux/INIT${Do()}`,REPLACE:`@@redux/REPLACE${Do()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Do()}`},di=V0;function bl(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function fh(e,t,r){if(typeof e!="function")throw new Error(Fe(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Fe(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Fe(1));return r(fh)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((g,x)=>{o.set(x,g)}))}function c(){if(l)throw new Error(Fe(3));return i}function d(g){if(typeof g!="function")throw new Error(Fe(4));if(l)throw new Error(Fe(5));let x=!0;u();const b=s++;return o.set(b,g),function(){if(x){if(l)throw new Error(Fe(6));x=!1,u(),o.delete(b),a=null}}}function f(g){if(!bl(g))throw new Error(Fe(7));if(typeof g.type>"u")throw new Error(Fe(8));if(typeof g.type!="string")throw new Error(Fe(17));if(l)throw new Error(Fe(9));try{l=!0,i=n(i,g)}finally{l=!1}return(a=o).forEach(b=>{b()}),g}function h(g){if(typeof g!="function")throw new Error(Fe(10));n=g,f({type:di.REPLACE})}function m(){const g=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Fe(11));function b(){const j=x;j.next&&j.next(c())}return b(),{unsubscribe:g(b)}},[qu](){return this}}}return f({type:di.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[qu]:m}}function Y0(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:di.INIT})>"u")throw new Error(Fe(12));if(typeof r(void 0,{type:di.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fe(13))})}function ph(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{Y0(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],f=r[d],h=o[d],m=f(h,s);if(typeof m>"u")throw s&&s.type,new Error(Fe(14));u[d]=m,l=l||m!==h}return l=l||n.length!==Object.keys(o).length,l?u:o}}function fi(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function G0(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Fe(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=fi(...s)(i.dispatch),{...i,dispatch:a}}}function hh(e){return bl(e)&&"type"in e&&typeof e.type=="string"}var gh=Symbol.for("immer-nothing"),Uu=Symbol.for("immer-draftable"),dt=Symbol.for("immer-state");function jt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wr=Object.getPrototypeOf;function kr(e){return!!e&&!!e[dt]}function Wt(e){return e?mh(e)||Array.isArray(e)||!!e[Uu]||!!e.constructor?.[Uu]||ea(e)||ta(e):!1}var J0=Object.prototype.constructor.toString();function mh(e){if(!e||typeof e!="object")return!1;const t=Wr(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===J0}function pi(e,t){Zi(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Zi(e){const t=e[dt];return t?t.type_:Array.isArray(e)?1:ea(e)?2:ta(e)?3:0}function bs(e,t){return Zi(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yh(e,t,r){const n=Zi(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function X0(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ea(e){return e instanceof Map}function ta(e){return e instanceof Set}function hr(e){return e.copy_||e.base_}function ws(e,t){if(ea(e))return new Map(e);if(ta(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mh(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Wr(e),n)}else{const n=Wr(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function wl(e,t=!1){return ra(e)||kr(e)||!Wt(e)||(Zi(e)>1&&(e.set=e.add=e.clear=e.delete=Q0),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>wl(n,!0))),e}function Q0(){jt(2)}function ra(e){return Object.isFrozen(e)}var Z0={};function Cr(e){const t=Z0[e];return t||jt(0,e),t}var wn;function vh(){return wn}function ex(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hu(e,t){t&&(Cr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ss(e){As(e),e.drafts_.forEach(tx),e.drafts_=null}function As(e){e===wn&&(wn=e.parent_)}function Ku(e){return wn=ex(wn,e)}function tx(e){const t=e[dt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Vu(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dt].modified_&&(Ss(t),jt(4)),Wt(e)&&(e=hi(t,e),t.parent_||gi(t,e)),t.patches_&&Cr("Patches").generateReplacementPatches_(r[dt].base_,e,t.patches_,t.inversePatches_)):e=hi(t,r,[]),Ss(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gh?e:void 0}function hi(e,t,r){if(ra(t))return t;const n=t[dt];if(!n)return pi(t,(i,a)=>Yu(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return gi(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),pi(a,(s,l)=>Yu(e,n,i,s,l,r,o)),gi(e,i,!1),r&&e.patches_&&Cr("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Yu(e,t,r,n,i,a,o){if(kr(i)){const s=a&&t&&t.type_!==3&&!bs(t.assigned_,n)?a.concat(n):void 0,l=hi(e,i,s);if(yh(r,n,l),kr(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Wt(i)&&!ra(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hi(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&gi(e,i)}}function gi(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wl(t,r)}function rx(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vh(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Sl;r&&(i=[n],a=Sn);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var Sl={get(e,t){if(t===dt)return e;const r=hr(e);if(!bs(r,t))return nx(e,r,t);const n=r[t];return e.finalized_||!Wt(n)?n:n===No(e.base_,t)?(_o(e),e.copy_[t]=js(n,e)):n},has(e,t){return t in hr(e)},ownKeys(e){return Reflect.ownKeys(hr(e))},set(e,t,r){const n=xh(hr(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=No(hr(e),t),a=i?.[dt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(X0(r,i)&&(r!==void 0||bs(e.base_,t)))return!0;_o(e),Ps(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return No(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_o(e),Ps(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){jt(11)},getPrototypeOf(e){return Wr(e.base_)},setPrototypeOf(){jt(12)}},Sn={};pi(Sl,(e,t)=>{Sn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sn.deleteProperty=function(e,t){return Sn.set.call(this,e,t,void 0)};Sn.set=function(e,t,r){return Sl.set.call(this,e[0],t,r,e[0])};function No(e,t){const r=e[dt];return(r?hr(r):e)[t]}function nx(e,t,r){const n=xh(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function xh(e,t){if(!(t in e))return;let r=Wr(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wr(r)}}function Ps(e){e.modified_||(e.modified_=!0,e.parent_&&Ps(e.parent_))}function _o(e){e.copy_||(e.copy_=ws(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ix=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&jt(6),n!==void 0&&typeof n!="function"&&jt(7);let i;if(Wt(t)){const a=Ku(this),o=js(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Ss(a):As(a)}return Hu(a,n),Vu(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===gh&&(i=void 0),this.autoFreeze_&&wl(i,!0),n){const a=[],o=[];Cr("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else jt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wt(e)||jt(8),kr(e)&&(e=nr(e));const t=Ku(this),r=js(e,void 0);return r[dt].isManual_=!0,As(t),r}finishDraft(e,t){const r=e&&e[dt];(!r||!r.isManual_)&&jt(9);const{scope_:n}=r;return Hu(n,t),Vu(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Cr("Patches").applyPatches_;return kr(e)?n(e,t):this.produce(e,i=>n(i,t))}};function js(e,t){const r=ea(e)?Cr("MapSet").proxyMap_(e,t):ta(e)?Cr("MapSet").proxySet_(e,t):rx(e,t);return(t?t.scope_:vh()).drafts_.push(r),r}function nr(e){return kr(e)||jt(10,e),bh(e)}function bh(e){if(!Wt(e)||ra(e))return e;const t=e[dt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ws(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ws(e,!0);return pi(r,(n,i)=>{yh(r,n,bh(i))}),t&&(t.finalized_=!1),r}var ft=new ix,wh=ft.produce;ft.produceWithPatches.bind(ft);ft.setAutoFreeze.bind(ft);ft.setUseStrictShallowCopy.bind(ft);ft.applyPatches.bind(ft);ft.createDraft.bind(ft);ft.finishDraft.bind(ft);function Sh(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var ax=Sh(),ox=Sh,sx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fi:fi.apply(null,arguments)};function xt(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(lt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>hh(n)&&n.type===e,r}var Ah=class mn extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mn.prototype)}static get[Symbol.species](){return mn}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mn(...t[0].concat(this)):new mn(...t.concat(this))}};function Gu(e){return Wt(e)?wh(e,()=>{}):e}function Vn(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function lx(e){return typeof e=="boolean"}var cx=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new Ah;return r&&(lx(r)?o.push(ax):o.push(ox(r.extraArgument))),o},ux="RTK_autoBatch",Ju=e=>t=>{setTimeout(t,e)},dx=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ju(10):e.type==="callback"?e.queueNotification:Ju(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),f=n.subscribe(d);return s.add(c),()=>{f(),s.delete(c)}},dispatch(c){try{return i=!c?.meta?.[ux],a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},fx=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Ah(e);return n&&i.push(dx(typeof n=="object"?n:void 0)),i};function px(e){const t=cx(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(bl(r))s=ph(r);else throw new Error(lt(1));let l;typeof n=="function"?l=n(t):l=t();let u=fi;i&&(u=sx({trace:!1,...typeof i=="object"&&i}));const c=G0(...l),d=fx(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return fh(s,a,h)}function Ph(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(lt(28));if(s in t)throw new Error(lt(29));return t[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function hx(e){return typeof e=="function"}function gx(e,t){let[r,n,i]=Ph(t),a;if(hx(e))a=()=>Gu(e());else{const s=Gu(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(kr(c)){const h=d(c,l);return h===void 0?c:h}else{if(Wt(c))return wh(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},s)}return o.getInitialState=a,o}var mx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yx=(e=21)=>{let t="",r=e;for(;r--;)t+=mx[Math.random()*64|0];return t},vx=Symbol.for("rtk-slice-createasyncthunk");function xx(e,t){return`${e}/${t}`}function bx({creators:e}={}){const t=e?.asyncThunk?.[vx];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(lt(11));const o=(typeof n.reducers=="function"?n.reducers(Sx()):n.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,j){const A=typeof w=="string"?w:w.type;if(!A)throw new Error(lt(12));if(A in l.sliceCaseReducersByType)throw new Error(lt(13));return l.sliceCaseReducersByType[A]=j,u},addMatcher(w,j){return l.sliceMatchers.push({matcher:w,reducer:j}),u},exposeAction(w,j){return l.actionCreators[w]=j,u},exposeCaseReducer(w,j){return l.sliceCaseReducersByName[w]=j,u}};s.forEach(w=>{const j=o[w],A={reducerName:w,type:xx(i,w),createNotation:typeof n.reducers=="function"};Px(j)?kx(A,j,u,t):Ax(A,j,u)});function c(){const[w={},j=[],A=void 0]=typeof n.extraReducers=="function"?Ph(n.extraReducers):[n.extraReducers],k={...w,...l.sliceCaseReducersByType};return gx(n.initialState,P=>{for(let T in k)P.addCase(T,k[T]);for(let T of l.sliceMatchers)P.addMatcher(T.matcher,T.reducer);for(let T of j)P.addMatcher(T.matcher,T.reducer);A&&P.addDefaultCase(A)})}const d=w=>w,f=new Map,h=new WeakMap;let m;function y(w,j){return m||(m=c()),m(w,j)}function g(){return m||(m=c()),m.getInitialState()}function x(w,j=!1){function A(P){let T=P[w];return typeof T>"u"&&j&&(T=Vn(h,A,g)),T}function k(P=d){const T=Vn(f,j,()=>new WeakMap);return Vn(T,P,()=>{const I={};for(const[$,O]of Object.entries(n.selectors??{}))I[$]=wx(O,P,()=>Vn(h,P,g),j);return I})}return{reducerPath:w,getSelectors:k,get selectors(){return k(A)},selectSlice:A}}const b={name:i,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...x(a),injectInto(w,{reducerPath:j,...A}={}){const k=j??a;return w.inject({reducerPath:k,reducer:y},A),{...b,...x(k,!0)}}};return b}}function wx(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var wt=bx();function Sx(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Ax({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!jx(n))throw new Error(lt(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?xt(e,o):xt(e))}function Px(e){return e._reducerDefinitionType==="asyncThunk"}function jx(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kx({type:e,reducerName:t},r,n,i){if(!i)throw new Error(lt(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Yn,pending:s||Yn,rejected:l||Yn,settled:u||Yn})}function Yn(){}var Cx="task",jh="listener",kh="completed",Al="cancelled",Ox=`task-${Al}`,Ex=`task-${kh}`,ks=`${jh}-${Al}`,Tx=`${jh}-${kh}`,na=class{constructor(e){this.code=e,this.message=`${Cx} ${Al} (reason: ${e})`}name="TaskAbortError";message},Pl=(e,t)=>{if(typeof e!="function")throw new TypeError(lt(32))},mi=()=>{},Ch=(e,t=mi)=>(e.catch(t),e),Oh=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),br=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wr=e=>{if(e.aborted){const{reason:t}=e;throw new na(t)}};function Eh(e,t){let r=mi;return new Promise((n,i)=>{const a=()=>i(new na(e.reason));if(e.aborted){a();return}r=Oh(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=mi})}var Dx=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof na?"cancelled":"rejected",error:r}}finally{t?.()}},yi=e=>t=>Ch(Eh(e,t).then(r=>(wr(e),r))),Th=e=>{const t=yi(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Lr}=Object,Xu={},ia="listenerMiddleware",Nx=(e,t)=>{const r=n=>Oh(e,()=>br(n,e.reason));return(n,i)=>{Pl(n);const a=new AbortController;r(a);const o=Dx(async()=>{wr(e),wr(a.signal);const s=await n({pause:yi(a.signal),delay:Th(a.signal),signal:a.signal});return wr(a.signal),s},()=>br(a,Ex));return i?.autoJoin&&t.push(o.catch(mi)),{result:yi(e)(o),cancel(){br(a,Ox)}}}},_x=(e,t)=>{const r=async(n,i)=>{wr(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Eh(t,Promise.race(s));return wr(t),l}finally{a()}};return(n,i)=>Ch(r(n,i))},Dh=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=xt(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(lt(21));return Pl(a),{predicate:i,type:t,effect:a}},Nh=Lr(e=>{const{type:t,predicate:r,effect:n}=Dh(e);return{id:yx(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lt(22))}}},{withTypes:()=>Nh}),Qu=(e,t)=>{const{type:r,effect:n,predicate:i}=Dh(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Cs=e=>{e.pending.forEach(t=>{br(t,ks)})},Ix=e=>()=>{e.forEach(Cs),e.clear()},Zu=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_h=Lr(xt(`${ia}/add`),{withTypes:()=>_h}),Mx=xt(`${ia}/removeAll`),Ih=Lr(xt(`${ia}/remove`),{withTypes:()=>Ih}),$x=(...e)=>{console.error(`${ia}/error`,...e)},Dn=(e={})=>{const t=new Map,{extra:r,onError:n=$x}=e;Pl(n);const i=c=>(c.unsubscribe=()=>t.delete(c.id),t.set(c.id,c),d=>{c.unsubscribe(),d?.cancelActive&&Cs(c)}),a=c=>{const d=Qu(t,c)??Nh(c);return i(d)};Lr(a,{withTypes:()=>a});const o=c=>{const d=Qu(t,c);return d&&(d.unsubscribe(),c.cancelActive&&Cs(d)),!!d};Lr(o,{withTypes:()=>o});const s=async(c,d,f,h)=>{const m=new AbortController,y=_x(a,m.signal),g=[];try{c.pending.add(m),await Promise.resolve(c.effect(d,Lr({},f,{getOriginalState:h,condition:(x,b)=>y(x,b).then(Boolean),take:y,delay:Th(m.signal),pause:yi(m.signal),extra:r,signal:m.signal,fork:Nx(m.signal,g),unsubscribe:c.unsubscribe,subscribe:()=>{t.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((x,b,w)=>{x!==m&&(br(x,ks),w.delete(x))})},cancel:()=>{br(m,ks),c.pending.delete(m)},throwIfCancelled:()=>{wr(m.signal)}})))}catch(x){x instanceof na||Zu(n,x,{raisedBy:"effect"})}finally{await Promise.all(g),br(m,Tx),c.pending.delete(m)}},l=Ix(t);return{middleware:c=>d=>f=>{if(!hh(f))return d(f);if(_h.match(f))return a(f.payload);if(Mx.match(f)){l();return}if(Ih.match(f))return o(f.payload);let h=c.getState();const m=()=>{if(h===Xu)throw new Error(lt(23));return h};let y;try{if(y=d(f),t.size>0){const g=c.getState(),x=Array.from(t.values());for(const b of x){let w=!1;try{w=b.predicate(f,g,h)}catch(j){w=!1,Zu(n,j,{raisedBy:"predicate"})}w&&s(b,f,c,m)}}}finally{h=Xu}return y},startListening:a,stopListening:o,clearListeners:l}};function lt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rx={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Mh=wt({name:"chartLayout",initialState:Rx,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Bx,setLayout:Lx,setChartSize:Fx,setScale:zx}=Mh.actions,Wx=Mh.reducer;function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(n){qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qx(e,t,r){return(t=Ux(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ux(e){var t=Hx(e,"string");return typeof t=="symbol"?t:t+""}function Hx(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vi=Math.PI/180,Kx=e=>e*180/Math.PI,We=(e,t,r,n)=>({x:e+Math.cos(-vi*n)*r,y:t+Math.sin(-vi*n)*r}),Vx=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Yx=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},Gx=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=Yx({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:Kx(l),angleInRadian:l}},Jx=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Xx=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},Qx=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=Gx({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=Jx(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?td(td({},t),{},{radius:i,angle:Xx(c,t)}):null};function rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rd(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zx(e,t,r){return(t=eb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eb(e){var t=tb(e,"string");return typeof t=="symbol"?t:t+""}function tb(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t,r){return Ee(e)||Ee(t)?r:vt(t)?jr(e,t,r):typeof t=="function"?t(e):r}var rb=(e,t,r,n,i)=>{var a,o=-1,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(Ct(c-u)!==Ct(d-c)){var h=[];if(Ct(d-c)===Ct(i[1]-i[0])){f=d;var m=c+i[1]-i[0];h[0]=Math.min(m,(m+u)/2),h[1]=Math.max(m,(m+u)/2)}else{f=u;var y=d+i[1]-i[0];h[0]=Math.min(c,(y+c)/2),h[1]=Math.max(c,(y+c)/2)}var g=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:o}=r[l]);break}}else{var x=Math.min(u,d),b=Math.max(u,d);if(e>(x+c)/2&&e<=(b+c)/2){({index:o}=r[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},nb=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ie(e[a]))return gt(gt({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ie(e[o]))return gt(gt({},e),{},{[o]:e[o]+(i||0)})}return e},lr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nd=1e-4,ib=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-nd,a=Math.max(n[0],n[1])+nd,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},ab=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=ut(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},ob=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=ut(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},sb={sign:ab,expand:Jv,none:zr,silhouette:Xv,wiggle:Qv,positive:ob},lb=(e,t,r)=>{var n=sb[r],i=Gv().keys(t).value((a,o)=>+ct(a,o,0)).order(xs).offset(n);return i(e)};function cb(e){return e==null?void 0:String(e)}function id(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ee(i[t.dataKey])){var s=cl(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ct(i,Ee(o)?t.dataKey:o);return Ee(l)?null:t.scale(l)}var ub=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},db=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fb=(e,t,r)=>{if(e!=null)return db(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=ub(u.slice(t,r+1));return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},ad=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,od=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Os=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Qi(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function sd(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return gt(gt({},t),{},{dataKey:r,payload:n,value:i,name:a})}function $h(e,t){if(e)return String(e);if(typeof t=="string")return t}function pb(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?Qx({x:e,y:t},n):null}var hb=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return gt(gt(gt({},n),We(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return gt(gt(gt({},n),We(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},gb=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,cr=e=>e.layout.width,ur=e=>e.layout.height,mb=e=>e.layout.scale,Rh=e=>e.layout.margin,jl=_(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),kl=_(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yb="data-recharts-item-index",vb="data-recharts-item-data-key",aa=60;function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ld(Object(r),!0).forEach(function(n){xb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xb(e,t,r){return(t=bb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bb(e){var t=wb(e,"string");return typeof t=="symbol"?t:t+""}function wb(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sb=e=>e.brush.height,He=_([cr,ur,Rh,Sb,jl,kl,dh,q0],(e,t,r,n,i,a,o,s)=>{var l=a.reduce((m,y)=>{var{orientation:g}=y;if(!y.mirror&&!y.hide){var x=typeof y.width=="number"?y.width:aa;return Qt(Qt({},m),{},{[g]:m[g]+x})}return m},{left:r.left||0,right:r.right||0}),u=i.reduce((m,y)=>{var{orientation:g}=y;return!y.mirror&&!y.hide?Qt(Qt({},m),{},{[g]:jr(m,"".concat(g))+y.height}):m},{top:r.top||0,bottom:r.bottom||0}),c=Qt(Qt({},u),l),d=c.bottom;c.bottom+=n,c=nb(c,o,s);var f=e-c.left-c.right,h=t-c.top-c.bottom;return Qt(Qt({brushBottom:d},c),{},{width:Math.max(f,0),height:Math.max(h,0)})}),Ab=_(He,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Bh=_(cr,ur,(e,t)=>({x:0,y:0,width:e,height:t})),Pb=v.createContext(null),et=()=>v.useContext(Pb)!=null,oa=e=>e.brush,sa=_([oa,He,Rh],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ie(e.width)?e.width:t.width})),la=()=>{var e,t=et(),r=te(Ab),n=te(sa),i=(e=te(oa))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},jb={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ca=()=>{var e;return(e=te(He))!==null&&e!==void 0?e:jb},kb=()=>te(cr),Cb=()=>te(ur),ke=e=>e.layout.layoutType,Cl=()=>te(ke),Ob={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Lh=wt({name:"legend",initialState:Ob,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=nr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:o2,setLegendSettings:s2,addLegendPayload:Eb,removeLegendPayload:Tb}=Lh.actions,Db=Lh.reducer;function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(null,arguments)}function cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cd(Object(r),!0).forEach(function(n){Nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nb(e,t,r){return(t=_b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _b(e){var t=Ib(e,"string");return typeof t=="symbol"?t:t+""}function Ib(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mb(e){return Array.isArray(e)&&vt(e[0])&&vt(e[1])?e.join(" ~ "):e}var $b=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=!1}=e,h=()=>{if(a&&a.length){var A={padding:0,margin:0},k=(s?Qi(a,s):a).map((P,T)=>{if(P.type==="none")return null;var I=P.formatter||o||Mb,{value:$,name:O}=P,z=$,N=O;if(I){var D=I($,O,P,T,a);if(Array.isArray(D))[z,N]=D;else if(D!=null)z=D;else return null}var U=Io({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:U},vt(N)?v.createElement("span",{className:"recharts-tooltip-item-name"},N):null,vt(N)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},z),v.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},k)}return null},m=Io({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Io({margin:0},i),g=!Ee(c),x=g?c:"",b=xe("recharts-default-tooltip",l),w=xe("recharts-tooltip-label",u);g&&d&&a!==void 0&&a!==null&&(x=d(c,a));var j=f?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Es({className:b,style:m},j),v.createElement("p",{className:w,style:y},v.isValidElement(x)?x:"".concat(x)),h())},sn="recharts-tooltip-wrapper",Rb={visibility:"hidden"};function Bb(e){var{coordinate:t,translateX:r,translateY:n}=e;return xe(sn,{["".concat(sn,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(sn,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(sn,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(sn,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function ud(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&ie(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var f=l[n];if(f==null)return 0;if(o[n]){var h=c,m=f;return h<m?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var y=d+s,g=f+u;return y>g?Math.max(c,f):Math.max(d,f)}function Lb(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fb(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=ud({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=ud({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Lb({translateX:c,translateY:d,useTranslate3d:s})):u=Rb,{cssProperties:u,cssClasses:Bb({translateX:c,translateY:d,coordinate:r})}}function dd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dd(Object(r),!0).forEach(function(n){Ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ts(e,t,r){return(t=zb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zb(e){var t=Wb(e,"string");return typeof t=="symbol"?t:t+""}function Wb(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qb extends v.PureComponent{constructor(){super(...arguments),Ts(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ts(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:m,lastBoundingBox:y,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=Fb({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),j=x?{}:Gn(Gn({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),A=Gn(Gn({},j),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:A,ref:g},a)}}var Ub=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nn={isSsr:Ub()},Fh=()=>te(e=>e.rootProps.accessibilityLayer);function Ot(e){return Number.isFinite(e)}function xi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(null,arguments)}function fd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fd(Object(r),!0).forEach(function(n){Hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hb(e,t,r){return(t=Kb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kb(e){var t=Vb(e,"string");return typeof t=="symbol"?t:t+""}function Vb(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hd={curveBasisClosed:Bv,curveBasisOpen:Lv,curveBasis:Rv,curveBumpX:Mv,curveBumpY:$v,curveLinearClosed:Fv,curveLinear:Ji,curveMonotoneX:zv,curveMonotoneY:Wv,curveNatural:qv,curveStep:Uv,curveStepAfter:Kv,curveStepBefore:Hv},Jn=e=>Ot(e.x)&&Ot(e.y),ln=e=>e.x,cn=e=>e.y,Yb=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ul(e));return(r==="curveMonotone"||r==="curveBump")&&t?hd["".concat(r).concat(t==="vertical"?"Y":"X")]:hd[r]||Ji},Gb=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=Yb(t,i),s=a?r.filter(Jn):r,l;if(Array.isArray(n)){var u=a?n.filter(d=>Jn(d)):n,c=s.map((d,f)=>pd(pd({},d),{},{base:u[f]}));return i==="vertical"?l=Un().y(cn).x1(ln).x0(d=>d.base.x):l=Un().x(ln).y1(cn).y0(d=>d.base.y),l.defined(Jn).curve(o),l(c)}return i==="vertical"&&ie(n)?l=Un().y(cn).x1(ln).x0(n):ie(n)?l=Un().x(ln).y1(cn).y0(n):l=Vp().x(ln).y(cn),l.defined(Jn).curve(o),l(s)},zh=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Gb(e):n;return v.createElement("path",Ds({},we(e,!1),fl(e),{className:xe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Jb=["x","y","top","left","width","height","className"];function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}function gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gd(Object(r),!0).forEach(function(n){Qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qb(e,t,r){return(t=Zb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zb(e){var t=ew(e,"string");return typeof t=="symbol"?t:t+""}function ew(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tw(e,t){if(e==null)return{};var r,n,i=rw(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nw=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),iw=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=tw(e,Jb),u=Xb({x:t,y:r,top:n,left:i,width:a,height:o},l);return!ie(t)||!ie(r)||!ie(a)||!ie(o)||!ie(n)||!ie(i)?null:v.createElement("path",Ns({},we(u,!0),{className:xe("recharts-cross",s),d:nw(t,r,a,o,n,i)}))};function aw(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?md(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):md(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sw(e,t,r){return(t=lw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lw(e){var t=cw(e,"string");return typeof t=="symbol"?t:t+""}function cw(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var r=ow({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var Mo={},$o={},Ro={},yd;function uw(){return yd||(yd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(Ro)),Ro}var vd;function dw(){return vd||(vd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uw(),r=ah(),n=yl(),i=vl(),a=gl();function o(u,c,d){return s(u,c,void 0,void 0,void 0,void 0,d)}function s(u,c,d,f,h,m,y){const g=y(u,c,d,f,h,m);if(g!==void 0)return g;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,m,y)}return l(u,c,m,y)}function l(u,c,d,f){if(Object.is(u,c))return!0;let h=n.getTag(u),m=n.getTag(c);if(h===i.argumentsTag&&(h=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),h!==m)return!1;switch(h){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const x=u.valueOf(),b=c.valueOf();return a.eq(x,b)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}d=d??new Map;const y=d.get(u),g=d.get(c);if(y!=null&&g!=null)return y===c;d.set(u,c),d.set(c,u);try{switch(h){case i.mapTag:{if(u.size!==c.size)return!1;for(const[x,b]of u.entries())if(!c.has(x)||!s(b,c.get(x),x,u,c,d,f))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const x=Array.from(u.values()),b=Array.from(c.values());for(let w=0;w<x.length;w++){const j=x[w],A=b.findIndex(k=>s(j,k,void 0,u,c,d,f));if(A===-1)return!1;b.splice(A,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let x=0;x<u.length;x++)if(!s(u[x],c[x],x,u,c,d,f))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),d,f);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),d,f);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,d,f)||t.isPlainObject(u)&&t.isPlainObject(c)))return!1;const b=[...Object.keys(u),...r.getSymbols(u)],w=[...Object.keys(c),...r.getSymbols(c)];if(b.length!==w.length)return!1;for(let j=0;j<b.length;j++){const A=b[j],k=u[A];if(!Object.hasOwn(c,A))return!1;const P=c[A];if(!s(k,P,A,u,c,d,f))return!1}return!0}default:return!1}}finally{d.delete(u),d.delete(c)}}e.isEqualWith=o}($o)),$o}var Bo={},xd;function fw(){return xd||(xd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Bo)),Bo}var bd;function pw(){return bd||(bd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dw(),r=fw();function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n}(Mo)),Mo}var Lo,wd;function hw(){return wd||(wd=1,Lo=pw().isEqual),Lo}var gw=hw();const mw=Kt(gw);function yw(e){var t={},r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var bi=1e-4,Wh=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],qh=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Sd=(e,t)=>r=>{var n=Wh(e,t);return qh(n,r)},vw=(e,t)=>r=>{var n=Wh(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return qh(i,r)},Ad=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,i]=o);var u=Sd(t,r),c=Sd(n,i),d=vw(t,r),f=m=>m>1?1:m<0?0:m,h=m=>{for(var y=m>1?1:m,g=y,x=0;x<8;++x){var b=u(g)-y,w=d(g);if(Math.abs(b-y)<bi||w<bi)return c(g);g=f(g-b/w)}return c(g)};return h.isStepper=!1,h},xw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<bi&&Math.abs(d)<bi?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},bw=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ad(e);case"spring":return xw();default:if(e.split("(")[0]==="cubic-bezier")return Ad(e)}return typeof e=="function"?e:null};function Pd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(r),!0).forEach(function(n){ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ww(e,t,r){return(t=Sw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sw(e){var t=Aw(e,"string");return typeof t=="symbol"?t:t+""}function Aw(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pw=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),jw=(e,t,r)=>e.map(n=>"".concat(Pw(n)," ").concat(t,"ms ").concat(r)).join(","),kw=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),An=(e,t)=>Object.keys(t).reduce((r,n)=>jd(jd({},r),{},{[n]:e(n,t[n])}),{});function kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cw(e,t,r){return(t=Ow(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ow(e){var t=Ew(e,"string");return typeof t=="symbol"?t:t+""}function Ew(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi=(e,t,r)=>e+(t-e)*r,_s=e=>{var{from:t,to:r}=e;return t!==r},Uh=(e,t,r)=>{var n=An((i,a)=>{if(_s(a)){var[o,s]=e(a.from,a.to,a.velocity);return ze(ze({},a),{},{from:o,velocity:s})}return a},t);return r<1?An((i,a)=>_s(a)?ze(ze({},a),{},{velocity:wi(a.velocity,n[i].velocity,r),from:wi(a.from,n[i].from,r)}):a,t):Uh(e,n,r-1)};function Tw(e,t,r,n,i,a){var o,s=n.reduce((f,h)=>ze(ze({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>An((f,h)=>h.from,s),u=()=>!Object.values(s).filter(_s).length,c=null,d=f=>{o||(o=f);var h=f-o,m=h/r.dt;s=Uh(r,s,m),i(ze(ze(ze({},e),t),l())),o=f,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{c()})}function Dw(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,f)=>ze(ze({},d),{},{[f]:[e[f],t[f]]}),{}),u,c=d=>{u||(u=d);var f=(d-u)/n,h=An((y,g)=>wi(...g,r(f)),l);if(a(ze(ze(ze({},e),t),h)),f<1)s=o.setTimeout(c);else{var m=An((y,g)=>wi(...g,r(1)),l);a(ze(ze(ze({},e),t),m))}};return()=>(s=o.setTimeout(c),()=>{s()})}const Nw=(e,t,r,n,i,a)=>{var o=kw(e,t);return r.isStepper===!0?Tw(e,t,r,o,i,a):Dw(e,t,r,n,o,i,a)};class _w{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var Iw=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function Mw(e,t){if(e==null)return{};var r,n,i=$w(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $w(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cd(Object(r),!0).forEach(function(n){yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yr(e,t,r){return(t=Rw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rw(e){var t=Bw(e,"string");return typeof t=="symbol"?t:t+""}function Bw(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lw(){return yw(new _w)}class Ol extends v.PureComponent{constructor(t,r){super(t,r),yr(this,"mounted",!1),yr(this,"manager",null),yr(this,"stopJSAnimation",null),yr(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:s,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(a){if(typeof s=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:s}=this.props,{style:l}=this.state;if(n){if(!r){var u={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(u);return}if(!(mw(t.to,o)&&t.canBegin&&t.isActive)){var c=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?s:t.to;if(this.state&&l){var f={style:i?{[i]:d}:d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(f)}this.runAnimation(Zt(Zt({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l}=t,u=Nw(r,n,bw(a),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,o,c,i,s])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:s,onAnimationEnd:l,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var c=i?{[i]:a}:a,d=jw(Object.keys(c),n,o);this.manager.start([s,r,Zt(Zt({},c),{},{transition:d}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:u,canBegin:c,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:h,animationManager:m}=t,y=Mw(t,Iw),g=v.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!s||g===0||i<=0)return r;var b=w=>{var{style:j={},className:A}=w.props,k=v.cloneElement(w,Zt(Zt({},y),{},{style:Zt(Zt({},j),x),className:A}));return k};return g===1?b(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,w=>b(w)))}}yr(Ol,"displayName","Animate");yr(Ol,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Fw=v.createContext(null);function Si(e){var t,r,n=v.useContext(Fw);return v.createElement(Ol,Is({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:Lw()}))}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(null,arguments)}var Od=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,f=4;d<f;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+s*h,",").concat(t,`
            L `).concat(e+r-s*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-s*h,",").concat(t+n,`
            L `).concat(e+s*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},zw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ww=e=>{var t=Yr(e,zw),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:y}=t;if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var g=xe("recharts-rectangle",c);return y?v.createElement(Si,{canBegin:n>0,from:{width:s,height:l,x:a,y:o},to:{width:s,height:l,x:a,y:o},duration:f,animationEasing:d,isActive:y},x=>{var{width:b,height:w,x:j,y:A}=x;return v.createElement(Si,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:m,easing:d},v.createElement("path",Ai({},we(t,!0),{className:g,d:Od(j,A,b,w,u),ref:r})))}):v.createElement("path",Ai({},we(t,!0),{className:g,d:Od(a,o,s,l,u)}))};function Hh(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=We(t,r,n,i),s=We(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}var qw=(e,t)=>{var r=Ct(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Xn=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/vi,d=l?i:i+a*c,f=We(t,r,u,d),h=We(t,r,n,d),m=l?i-a*c:i,y=We(t,r,u*Math.cos(c*vi),m);return{center:f,circleTangency:h,lineTangency:y,theta:c}},Kh=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=qw(a,o),l=a+s,u=We(t,r,i,a),c=We(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var f=We(t,r,n,a),h=We(t,r,n,l);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},Uw=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Ct(u-l),{circleTangency:d,lineTangency:f,theta:h}=Xn({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:y,theta:g}=Xn({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-h-g;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Kh({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:A}=Xn({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:P,theta:T}=Xn({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-A-T;if(I<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},Hw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Kw=e=>{var t=Yr(e,Hw),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var f=xe("recharts-sector",d),h=a-i,m=ar(o,h,0,!0),y;return m>0&&Math.abs(u-c)<360?y=Uw({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=Kh({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),v.createElement("path",Ms({},we(t,!0),{className:f,d:y}))};function Vw(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:u,outerRadius:c,angle:d}=t,f=We(s,l,u,d),h=We(s,l,c,d);n=f.x,i=f.y,a=h.x,o=h.y}else return Hh(t);return[{x:n,y:i},{x:a,y:o}]}var Fo={},zo={},Wo={},Ed;function Yw(){return Ed||(Ed=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ch();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Wo)),Wo}var Td;function Gw(){return Td||(Td=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(zo)),zo}var Dd;function Jw(){return Dd||(Dd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uh(),r=Gw();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n}(Fo)),Fo}var qo,Nd;function Xw(){return Nd||(Nd=1,qo=Jw().range),qo}var Qw=Xw();const Vh=Kt(Qw);function ir(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zw(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function El(e){let t,r,n;e.length!==2?(t=ir,r=(s,l)=>ir(e(s),l),n=(s,l)=>e(s)-l):(t=e===ir||e===Zw?e:e1,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function e1(){return 0}function Yh(e){return e===null?NaN:+e}function*t1(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const r1=El(ir),_n=r1.right;El(Yh).center;class _d extends Map{constructor(t,r=a1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Id(this,t))}has(t){return super.has(Id(this,t))}set(t,r){return super.set(n1(this,t),r)}delete(t){return super.delete(i1(this,t))}}function Id({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function n1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function i1({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function a1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o1(e=ir){if(e===ir)return Gh;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Gh(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const s1=Math.sqrt(50),l1=Math.sqrt(10),c1=Math.sqrt(2);function Pi(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=s1?10:a>=l1?5:a>=c1?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Pi(e,t,r*2):[s,l,u]}function $s(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Pi(t,e,r):Pi(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Rs(e,t,r){return t=+t,e=+e,r=+r,Pi(e,t,r)[2]}function Bs(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Rs(t,e,r):Rs(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Md(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $d(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Jh(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Gh:o1(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*d/l+f)),m=Math.min(n,Math.floor(t+(l-u)*d/l+f));Jh(e,t,h,m,i)}const a=e[t];let o=r,s=n;for(un(e,r,t),i(e[n],a)>0&&un(e,r,n);o<s;){for(un(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?un(e,r,s):(++s,un(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function un(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function u1(e,t,r){if(e=Float64Array.from(t1(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $d(e);if(t>=1)return Md(e);var n,i=(n-1)*t,a=Math.floor(i),o=Md(Jh(e,a).subarray(0,a+1)),s=$d(e.subarray(a+1));return o+(s-o)*(i-a)}}function d1(e,t,r=Yh){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function f1(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function St(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ls=Symbol("implicit");function Tl(){var e=new _d,t=[],r=[],n=Ls;function i(a){let o=e.get(a);if(o===void 0){if(n!==Ls)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _d;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Tl(t,r).unknown(n)},St.apply(i,arguments),i}function Dl(){var e=Tl().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<n,m=h?i:n,y=h?n:i;a=(y-m)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),m+=(y-m-a*(f-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var g=f1(f).map(function(x){return m+a*x});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return Dl(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},St.apply(d(),arguments)}function Xh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xh(t())},e}function p1(){return Xh(Dl.apply(null,arguments).paddingInner(1))}function Nl(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qh(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function In(){}var Pn=.7,ji=1/Pn,Fr="\\s*([+-]?\\d+)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h1=/^#([0-9a-f]{3,8})$/,g1=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),m1=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),y1=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${jn}\\)$`),v1=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${jn}\\)$`),x1=new RegExp(`^hsl\\(${jn},${Dt},${Dt}\\)$`),b1=new RegExp(`^hsla\\(${jn},${Dt},${Dt},${jn}\\)$`),Rd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nl(In,kn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bd,formatHex:Bd,formatHex8:w1,formatHsl:S1,formatRgb:Ld,toString:Ld});function Bd(){return this.rgb().formatHex()}function w1(){return this.rgb().formatHex8()}function S1(){return Zh(this).formatHsl()}function Ld(){return this.rgb().formatRgb()}function kn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=h1.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Fd(t):r===3?new Ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g1.exec(e))?new Ze(t[1],t[2],t[3],1):(t=m1.exec(e))?new Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y1.exec(e))?Qn(t[1],t[2],t[3],t[4]):(t=v1.exec(e))?Qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x1.exec(e))?qd(t[1],t[2]/100,t[3]/100,1):(t=b1.exec(e))?qd(t[1],t[2]/100,t[3]/100,t[4]):Rd.hasOwnProperty(e)?Fd(Rd[e]):e==="transparent"?new Ze(NaN,NaN,NaN,0):null}function Fd(e){return new Ze(e>>16&255,e>>8&255,e&255,1)}function Qn(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ze(e,t,r,n)}function A1(e){return e instanceof In||(e=kn(e)),e?(e=e.rgb(),new Ze(e.r,e.g,e.b,e.opacity)):new Ze}function Fs(e,t,r,n){return arguments.length===1?A1(e):new Ze(e,t,r,n??1)}function Ze(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Nl(Ze,Fs,Qh(In,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ze(Sr(this.r),Sr(this.g),Sr(this.b),ki(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zd,formatHex:zd,formatHex8:P1,formatRgb:Wd,toString:Wd}));function zd(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}`}function P1(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}${vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wd(){const e=ki(this.opacity);return`${e===1?"rgb(":"rgba("}${Sr(this.r)}, ${Sr(this.g)}, ${Sr(this.b)}${e===1?")":`, ${e})`}`}function ki(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vr(e){return e=Sr(e),(e<16?"0":"")+e.toString(16)}function qd(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kt(e,t,r,n)}function Zh(e){if(e instanceof kt)return new kt(e.h,e.s,e.l,e.opacity);if(e instanceof In||(e=kn(e)),!e)return new kt;if(e instanceof kt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new kt(o,s,l,e.opacity)}function j1(e,t,r,n){return arguments.length===1?Zh(e):new kt(e,t,r,n??1)}function kt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Nl(kt,j1,Qh(In,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new kt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new kt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ze(Uo(e>=240?e-240:e+120,i,n),Uo(e,i,n),Uo(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new kt(Ud(this.h),Zn(this.s),Zn(this.l),ki(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ki(this.opacity);return`${e===1?"hsl(":"hsla("}${Ud(this.h)}, ${Zn(this.s)*100}%, ${Zn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ud(e){return e=(e||0)%360,e<0?e+360:e}function Zn(e){return Math.max(0,Math.min(1,e||0))}function Uo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _l=e=>()=>e;function k1(e,t){return function(r){return e+r*t}}function C1(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O1(e){return(e=+e)==1?eg:function(t,r){return r-t?C1(t,r,e):_l(isNaN(t)?r:t)}}function eg(e,t){var r=t-e;return r?k1(e,r):_l(isNaN(e)?t:e)}const Hd=function e(t){var r=O1(t);function n(i,a){var o=r((i=Fs(i)).r,(a=Fs(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=eg(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function E1(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function T1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D1(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Gr(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function N1(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ci(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _1(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Gr(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var zs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ho=new RegExp(zs.source,"g");function I1(e){return function(){return e}}function M1(e){return function(t){return e(t)+""}}function $1(e,t){var r=zs.lastIndex=Ho.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=zs.exec(e))&&(i=Ho.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ci(n,i)})),r=Ho.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?M1(l[0].x):I1(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Gr(e,t){var r=typeof t,n;return t==null||r==="boolean"?_l(t):(r==="number"?Ci:r==="string"?(n=kn(t))?(t=n,Hd):$1:t instanceof kn?Hd:t instanceof Date?N1:T1(t)?E1:Array.isArray(t)?D1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_1:Ci)(e,t)}function Il(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function R1(e,t){t===void 0&&(t=e,e=Gr);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function B1(e){return function(){return e}}function Oi(e){return+e}var Kd=[0,1];function Ve(e){return e}function Ws(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:B1(isNaN(t)?NaN:.5)}function L1(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function F1(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Ws(i,n),a=r(o,a)):(n=Ws(n,i),a=r(a,o)),function(s){return a(n(s))}}function z1(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Ws(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=_n(e,s,1,n)-1;return a[l](i[l](s))}}function Mn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ua(){var e=Kd,t=Kd,r=Gr,n,i,a,o=Ve,s,l,u;function c(){var f=Math.min(e.length,t.length);return o!==Ve&&(o=L1(e[0],e[f-1])),s=f>2?z1:F1,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((u||(u=s(t,e.map(n),Ci)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Oi),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Il,c()},d.clamp=function(f){return arguments.length?(o=f?!0:Ve,c()):o!==Ve},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,c()}}function Ml(){return ua()(Ve,Ve)}function W1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ei(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qr(e){return e=Ei(Math.abs(e)),e?e[1]:NaN}function q1(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function U1(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var H1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cn(e){if(!(t=H1.exec(e)))throw new Error("invalid format: "+e);var t;return new $l({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cn.prototype=$l.prototype;function $l(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K1(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var tg;function V1(e,t){var r=Ei(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(tg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ei(e,Math.max(0,t+a-1))[0]}function Vd(e,t){var r=Ei(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Yd={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W1,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vd(e*100,t),r:Vd,s:V1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gd(e){return e}var Jd=Array.prototype.map,Xd=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Y1(e){var t=e.grouping===void 0||e.thousands===void 0?Gd:q1(Jd.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Gd:U1(Jd.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Cn(d);var f=d.fill,h=d.align,m=d.sign,y=d.symbol,g=d.zero,x=d.width,b=d.comma,w=d.precision,j=d.trim,A=d.type;A==="n"?(b=!0,A="g"):Yd[A]||(w===void 0&&(w=12),j=!0,A="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=y==="$"?n:/[%p]/.test(A)?o:"",T=Yd[A],I=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(O){var z=k,N=P,D,U,R;if(A==="c")N=T(O)+N,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?l:T(Math.abs(O),w),j&&(O=K1(O)),L&&+O==0&&m!=="+"&&(L=!1),z=(L?m==="("?m:s:m==="-"||m==="("?"":m)+z,N=(A==="s"?Xd[8+tg/3]:"")+N+(L&&m==="("?")":""),I){for(D=-1,U=O.length;++D<U;)if(R=O.charCodeAt(D),48>R||R>57){N=(R===46?i+O.slice(D+1):O.slice(D))+N,O=O.slice(0,D);break}}}b&&!g&&(O=t(O,1/0));var Z=z.length+O.length+N.length,ee=Z<x?new Array(x-Z+1).join(f):"";switch(b&&g&&(O=t(ee+O,ee.length?x-N.length:1/0),ee=""),h){case"<":O=z+O+N+ee;break;case"=":O=z+ee+O+N;break;case"^":O=ee.slice(0,Z=ee.length>>1)+z+O+N+ee.slice(Z);break;default:O=ee+z+O+N;break}return a(O)}return $.toString=function(){return d+""},$}function c(d,f){var h=u((d=Cn(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(qr(f)/3)))*3,y=Math.pow(10,-m),g=Xd[8+m/3];return function(x){return h(y*x)+g}}return{format:u,formatPrefix:c}}var ei,Rl,rg;G1({thousands:",",grouping:[3],currency:["$",""]});function G1(e){return ei=Y1(e),Rl=ei.format,rg=ei.formatPrefix,ei}function J1(e){return Math.max(0,-qr(Math.abs(e)))}function X1(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qr(t)/3)))*3-qr(Math.abs(e)))}function Q1(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qr(t)-qr(e))+1}function ng(e,t,r,n){var i=Bs(e,t,r),a;switch(n=Cn(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=X1(i,o))&&(n.precision=a),rg(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Q1(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=J1(i))&&(n.precision=a-(n.type==="%")*2);break}}return Rl(n)}function dr(e){var t=e.domain;return e.ticks=function(r){var n=t();return $s(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return ng(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Rs(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function ig(){var e=Ml();return e.copy=function(){return Mn(e,ig())},St.apply(e,arguments),dr(e)}function ag(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Oi),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ag(e).unknown(t)},e=arguments.length?Array.from(e,Oi):[0,1],dr(r)}function og(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Qd(e){return Math.log(e)}function Zd(e){return Math.exp(e)}function Z1(e){return-Math.log(-e)}function eS(e){return-Math.exp(-e)}function tS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rS(e){return e===10?tS:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nS(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ef(e){return(t,r)=>-e(-t,r)}function Bl(e){const t=e(Qd,Zd),r=t.domain;let n=10,i,a;function o(){return i=nS(n),a=rS(n),r()[0]<0?(i=ef(i),a=ef(a),e(Z1,eS)):e(Qd,Zd),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),m,y;const g=s==null?10:+s;let x=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(m=1;m<n;++m)if(y=f<0?m/a(-f):m*a(f),!(y<u)){if(y>c)break;x.push(y)}}else for(;f<=h;++f)for(m=n-1;m>=1;--m)if(y=f>0?m/a(-f):m*a(f),!(y<u)){if(y>c)break;x.push(y)}x.length*2<g&&(x=$s(u,c,g))}else x=$s(f,h,Math.min(h-f,g)).map(a);return d?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cn(l)).precision==null&&(l.trim=!0),l=Rl(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(og(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function sg(){const e=Bl(ua()).domain([1,10]);return e.copy=()=>Mn(e,sg()).base(e.base()),St.apply(e,arguments),e}function tf(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ll(e){var t=1,r=e(tf(t),rf(t));return r.constant=function(n){return arguments.length?e(tf(t=+n),rf(t)):t},dr(r)}function lg(){var e=Ll(ua());return e.copy=function(){return Mn(e,lg()).constant(e.constant())},St.apply(e,arguments)}function nf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iS(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aS(e){return e<0?-e*e:e*e}function Fl(e){var t=e(Ve,Ve),r=1;function n(){return r===1?e(Ve,Ve):r===.5?e(iS,aS):e(nf(r),nf(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},dr(t)}function zl(){var e=Fl(ua());return e.copy=function(){return Mn(e,zl()).exponent(e.exponent())},St.apply(e,arguments),e}function oS(){return zl.apply(null,arguments).exponent(.5)}function af(e){return Math.sign(e)*e*e}function sS(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cg(){var e=Ml(),t=[0,1],r=!1,n;function i(a){var o=sS(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(af(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Oi)).map(af)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cg(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},St.apply(i,arguments),dr(i)}function ug(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=d1(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[_n(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ir),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ug().domain(e).range(t).unknown(n)},St.apply(a,arguments)}function dg(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[_n(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return dg().domain([e,t]).range(i).unknown(a)},St.apply(dr(o),arguments)}function fg(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[_n(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fg().domain(e).range(t).unknown(r)},St.apply(i,arguments)}const Ko=new Date,Vo=new Date;function Me(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Me(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ko.setTime(+a),Vo.setTime(+o),e(Ko),e(Vo),Math.floor(r(Ko,Vo))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ti=Me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ti.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Me(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ti);Ti.range;const Rt=1e3,mt=Rt*60,Bt=mt*60,qt=Bt*24,Wl=qt*7,of=qt*30,Yo=qt*365,xr=Me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getUTCSeconds());xr.range;const ql=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rt)},(e,t)=>{e.setTime(+e+t*mt)},(e,t)=>(t-e)/mt,e=>e.getMinutes());ql.range;const Ul=Me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mt)},(e,t)=>(t-e)/mt,e=>e.getUTCMinutes());Ul.range;const Hl=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rt-e.getMinutes()*mt)},(e,t)=>{e.setTime(+e+t*Bt)},(e,t)=>(t-e)/Bt,e=>e.getHours());Hl.range;const Kl=Me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bt)},(e,t)=>(t-e)/Bt,e=>e.getUTCHours());Kl.range;const $n=Me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/qt,e=>e.getDate()-1);$n.range;const da=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qt,e=>e.getUTCDate()-1);da.range;const pg=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qt,e=>Math.floor(e/qt));pg.range;function Tr(e){return Me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mt)/Wl)}const fa=Tr(0),Di=Tr(1),lS=Tr(2),cS=Tr(3),Ur=Tr(4),uS=Tr(5),dS=Tr(6);fa.range;Di.range;lS.range;cS.range;Ur.range;uS.range;dS.range;function Dr(e){return Me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wl)}const pa=Dr(0),Ni=Dr(1),fS=Dr(2),pS=Dr(3),Hr=Dr(4),hS=Dr(5),gS=Dr(6);pa.range;Ni.range;fS.range;pS.range;Hr.range;hS.range;gS.range;const Vl=Me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vl.range;const Yl=Me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yl.range;const Ut=Me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ut.range;const Ht=Me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ht.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ht.range;function hg(e,t,r,n,i,a){const o=[[xr,1,Rt],[xr,5,5*Rt],[xr,15,15*Rt],[xr,30,30*Rt],[a,1,mt],[a,5,5*mt],[a,15,15*mt],[a,30,30*mt],[i,1,Bt],[i,3,3*Bt],[i,6,6*Bt],[i,12,12*Bt],[n,1,qt],[n,2,2*qt],[r,1,Wl],[t,1,of],[t,3,3*of],[e,1,Yo]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),m=h?h.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,d){const f=Math.abs(c-u)/d,h=El(([,,g])=>g).right(o,f);if(h===o.length)return e.every(Bs(u/Yo,c/Yo,d));if(h===0)return Ti.every(Math.max(Bs(u,c,d),1));const[m,y]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return m.every(y)}return[s,l]}const[mS,yS]=hg(Ht,Yl,pa,pg,Kl,Ul),[vS,xS]=hg(Ut,Vl,fa,$n,Hl,ql);function Go(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dn(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bS(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=fn(i),c=pn(i),d=fn(a),f=pn(a),h=fn(o),m=pn(o),y=fn(s),g=pn(s),x=fn(l),b=pn(l),w={a:L,A:Z,b:ee,B:le,c:null,d:ff,e:ff,f:qS,g:ZS,G:tA,H:FS,I:zS,j:WS,L:gg,m:US,M:HS,p:ne,q:Y,Q:gf,s:mf,S:KS,u:VS,U:YS,V:GS,w:JS,W:XS,x:null,X:null,y:QS,Y:eA,Z:rA,"%":hf},j={a:he,A:re,b:E,B:F,c:null,d:pf,e:pf,f:oA,g:mA,G:vA,H:nA,I:iA,j:aA,L:yg,m:sA,M:lA,p:Q,q:W,Q:gf,s:mf,S:cA,u:uA,U:dA,V:fA,w:pA,W:hA,x:null,X:null,y:gA,Y:yA,Z:xA,"%":hf},A={a:$,A:O,b:z,B:N,c:D,d:uf,e:uf,f:$S,g:cf,G:lf,H:df,I:df,j:NS,L:MS,m:DS,M:_S,p:I,q:TS,Q:BS,s:LS,S:IS,u:jS,U:kS,V:CS,w:PS,W:OS,x:U,X:R,y:cf,Y:lf,Z:ES,"%":RS};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),j.x=k(r,j),j.X=k(n,j),j.c=k(t,j);function k(C,H){return function(V){var M=[],ue=-1,X=0,ae=C.length,Pe,fe,Ne;for(V instanceof Date||(V=new Date(+V));++ue<ae;)C.charCodeAt(ue)===37&&(M.push(C.slice(X,ue)),(fe=sf[Pe=C.charAt(++ue)])!=null?Pe=C.charAt(++ue):fe=Pe==="e"?" ":"0",(Ne=H[Pe])&&(Pe=Ne(V,fe)),M.push(Pe),X=ue+1);return M.push(C.slice(X,ue)),M.join("")}}function P(C,H){return function(V){var M=dn(1900,void 0,1),ue=T(M,C,V+="",0),X,ae;if(ue!=V.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(H&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(X=Jo(dn(M.y,0,1)),ae=X.getUTCDay(),X=ae>4||ae===0?Ni.ceil(X):Ni(X),X=da.offset(X,(M.V-1)*7),M.y=X.getUTCFullYear(),M.m=X.getUTCMonth(),M.d=X.getUTCDate()+(M.w+6)%7):(X=Go(dn(M.y,0,1)),ae=X.getDay(),X=ae>4||ae===0?Di.ceil(X):Di(X),X=$n.offset(X,(M.V-1)*7),M.y=X.getFullYear(),M.m=X.getMonth(),M.d=X.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),ae="Z"in M?Jo(dn(M.y,0,1)).getUTCDay():Go(dn(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(ae+5)%7:M.w+M.U*7-(ae+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,Jo(M)):Go(M)}}function T(C,H,V,M){for(var ue=0,X=H.length,ae=V.length,Pe,fe;ue<X;){if(M>=ae)return-1;if(Pe=H.charCodeAt(ue++),Pe===37){if(Pe=H.charAt(ue++),fe=A[Pe in sf?H.charAt(ue++):Pe],!fe||(M=fe(C,V,M))<0)return-1}else if(Pe!=V.charCodeAt(M++))return-1}return M}function I(C,H,V){var M=u.exec(H.slice(V));return M?(C.p=c.get(M[0].toLowerCase()),V+M[0].length):-1}function $(C,H,V){var M=h.exec(H.slice(V));return M?(C.w=m.get(M[0].toLowerCase()),V+M[0].length):-1}function O(C,H,V){var M=d.exec(H.slice(V));return M?(C.w=f.get(M[0].toLowerCase()),V+M[0].length):-1}function z(C,H,V){var M=x.exec(H.slice(V));return M?(C.m=b.get(M[0].toLowerCase()),V+M[0].length):-1}function N(C,H,V){var M=y.exec(H.slice(V));return M?(C.m=g.get(M[0].toLowerCase()),V+M[0].length):-1}function D(C,H,V){return T(C,t,H,V)}function U(C,H,V){return T(C,r,H,V)}function R(C,H,V){return T(C,n,H,V)}function L(C){return o[C.getDay()]}function Z(C){return a[C.getDay()]}function ee(C){return l[C.getMonth()]}function le(C){return s[C.getMonth()]}function ne(C){return i[+(C.getHours()>=12)]}function Y(C){return 1+~~(C.getMonth()/3)}function he(C){return o[C.getUTCDay()]}function re(C){return a[C.getUTCDay()]}function E(C){return l[C.getUTCMonth()]}function F(C){return s[C.getUTCMonth()]}function Q(C){return i[+(C.getUTCHours()>=12)]}function W(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var H=k(C+="",w);return H.toString=function(){return C},H},parse:function(C){var H=P(C+="",!1);return H.toString=function(){return C},H},utcFormat:function(C){var H=k(C+="",j);return H.toString=function(){return C},H},utcParse:function(C){var H=P(C+="",!0);return H.toString=function(){return C},H}}}var sf={"-":"",_:" ",0:"0"},Re=/^\s*\d+/,wS=/^%/,SS=/[\\^$*+?|[\]().{}]/g;function de(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function AS(e){return e.replace(SS,"\\$&")}function fn(e){return new RegExp("^(?:"+e.map(AS).join("|")+")","i")}function pn(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PS(e,t,r){var n=Re.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function jS(e,t,r){var n=Re.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function kS(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function CS(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OS(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lf(e,t,r){var n=Re.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function cf(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ES(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TS(e,t,r){var n=Re.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function DS(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uf(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NS(e,t,r){var n=Re.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function df(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _S(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function IS(e,t,r){var n=Re.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function MS(e,t,r){var n=Re.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $S(e,t,r){var n=Re.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RS(e,t,r){var n=wS.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function BS(e,t,r){var n=Re.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function LS(e,t,r){var n=Re.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ff(e,t){return de(e.getDate(),t,2)}function FS(e,t){return de(e.getHours(),t,2)}function zS(e,t){return de(e.getHours()%12||12,t,2)}function WS(e,t){return de(1+$n.count(Ut(e),e),t,3)}function gg(e,t){return de(e.getMilliseconds(),t,3)}function qS(e,t){return gg(e,t)+"000"}function US(e,t){return de(e.getMonth()+1,t,2)}function HS(e,t){return de(e.getMinutes(),t,2)}function KS(e,t){return de(e.getSeconds(),t,2)}function VS(e){var t=e.getDay();return t===0?7:t}function YS(e,t){return de(fa.count(Ut(e)-1,e),t,2)}function mg(e){var t=e.getDay();return t>=4||t===0?Ur(e):Ur.ceil(e)}function GS(e,t){return e=mg(e),de(Ur.count(Ut(e),e)+(Ut(e).getDay()===4),t,2)}function JS(e){return e.getDay()}function XS(e,t){return de(Di.count(Ut(e)-1,e),t,2)}function QS(e,t){return de(e.getFullYear()%100,t,2)}function ZS(e,t){return e=mg(e),de(e.getFullYear()%100,t,2)}function eA(e,t){return de(e.getFullYear()%1e4,t,4)}function tA(e,t){var r=e.getDay();return e=r>=4||r===0?Ur(e):Ur.ceil(e),de(e.getFullYear()%1e4,t,4)}function rA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+de(t/60|0,"0",2)+de(t%60,"0",2)}function pf(e,t){return de(e.getUTCDate(),t,2)}function nA(e,t){return de(e.getUTCHours(),t,2)}function iA(e,t){return de(e.getUTCHours()%12||12,t,2)}function aA(e,t){return de(1+da.count(Ht(e),e),t,3)}function yg(e,t){return de(e.getUTCMilliseconds(),t,3)}function oA(e,t){return yg(e,t)+"000"}function sA(e,t){return de(e.getUTCMonth()+1,t,2)}function lA(e,t){return de(e.getUTCMinutes(),t,2)}function cA(e,t){return de(e.getUTCSeconds(),t,2)}function uA(e){var t=e.getUTCDay();return t===0?7:t}function dA(e,t){return de(pa.count(Ht(e)-1,e),t,2)}function vg(e){var t=e.getUTCDay();return t>=4||t===0?Hr(e):Hr.ceil(e)}function fA(e,t){return e=vg(e),de(Hr.count(Ht(e),e)+(Ht(e).getUTCDay()===4),t,2)}function pA(e){return e.getUTCDay()}function hA(e,t){return de(Ni.count(Ht(e)-1,e),t,2)}function gA(e,t){return de(e.getUTCFullYear()%100,t,2)}function mA(e,t){return e=vg(e),de(e.getUTCFullYear()%100,t,2)}function yA(e,t){return de(e.getUTCFullYear()%1e4,t,4)}function vA(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hr(e):Hr.ceil(e),de(e.getUTCFullYear()%1e4,t,4)}function xA(){return"+0000"}function hf(){return"%"}function gf(e){return+e}function mf(e){return Math.floor(+e/1e3)}var Mr,xg,bg;bA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bA(e){return Mr=bS(e),xg=Mr.format,Mr.parse,bg=Mr.utcFormat,Mr.utcParse,Mr}function wA(e){return new Date(e)}function SA(e){return e instanceof Date?+e:+new Date(+e)}function Gl(e,t,r,n,i,a,o,s,l,u){var c=Ml(),d=c.invert,f=c.domain,h=u(".%L"),m=u(":%S"),y=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function A(k){return(l(k)<k?h:s(k)<k?m:o(k)<k?y:a(k)<k?g:n(k)<k?i(k)<k?x:b:r(k)<k?w:j)(k)}return c.invert=function(k){return new Date(d(k))},c.domain=function(k){return arguments.length?f(Array.from(k,SA)):f().map(wA)},c.ticks=function(k){var P=f();return e(P[0],P[P.length-1],k??10)},c.tickFormat=function(k,P){return P==null?A:u(P)},c.nice=function(k){var P=f();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?f(og(P,k)):c},c.copy=function(){return Mn(c,Gl(e,t,r,n,i,a,o,s,l,u))},c}function AA(){return St.apply(Gl(vS,xS,Ut,Vl,fa,$n,Hl,ql,xr,xg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PA(){return St.apply(Gl(mS,yS,Ht,Yl,pa,da,Kl,Ul,xr,bg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ha(){var e=0,t=1,r,n,i,a,o=Ve,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,m;return arguments.length?([h,m]=f,o=d(h,m),u):[o(0),o(1)]}}return u.range=c(Gr),u.rangeRound=c(Il),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function fr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wg(){var e=dr(ha()(Ve));return e.copy=function(){return fr(e,wg())},Vt.apply(e,arguments)}function Sg(){var e=Bl(ha()).domain([1,10]);return e.copy=function(){return fr(e,Sg()).base(e.base())},Vt.apply(e,arguments)}function Ag(){var e=Ll(ha());return e.copy=function(){return fr(e,Ag()).constant(e.constant())},Vt.apply(e,arguments)}function Jl(){var e=Fl(ha());return e.copy=function(){return fr(e,Jl()).exponent(e.exponent())},Vt.apply(e,arguments)}function jA(){return Jl.apply(null,arguments).exponent(.5)}function Pg(){var e=[],t=Ve;function r(n){if(n!=null&&!isNaN(n=+n))return t((_n(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ir),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>u1(e,a/n))},r.copy=function(){return Pg(t).domain(e)},Vt.apply(r,arguments)}function ga(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=Ve,c,d=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(d=!!y,h):d},h.interpolator=function(y){return arguments.length?(u=y,h):u};function m(y){return function(g){var x,b,w;return arguments.length?([x,b,w]=g,u=R1(y,[x,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=m(Gr),h.rangeRound=m(Il),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return c=y,i=y(e),a=y(t),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function jg(){var e=dr(ga()(Ve));return e.copy=function(){return fr(e,jg())},Vt.apply(e,arguments)}function kg(){var e=Bl(ga()).domain([.1,1,10]);return e.copy=function(){return fr(e,kg()).base(e.base())},Vt.apply(e,arguments)}function Cg(){var e=Ll(ga());return e.copy=function(){return fr(e,Cg()).constant(e.constant())},Vt.apply(e,arguments)}function Xl(){var e=Fl(ga());return e.copy=function(){return fr(e,Xl()).exponent(e.exponent())},Vt.apply(e,arguments)}function kA(){return Xl.apply(null,arguments).exponent(.5)}const yn=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dl,scaleDiverging:jg,scaleDivergingLog:kg,scaleDivergingPow:Xl,scaleDivergingSqrt:kA,scaleDivergingSymlog:Cg,scaleIdentity:ag,scaleImplicit:Ls,scaleLinear:ig,scaleLog:sg,scaleOrdinal:Tl,scalePoint:p1,scalePow:zl,scaleQuantile:ug,scaleQuantize:dg,scaleRadial:cg,scaleSequential:wg,scaleSequentialLog:Sg,scaleSequentialPow:Jl,scaleSequentialQuantile:Pg,scaleSequentialSqrt:jA,scaleSequentialSymlog:Ag,scaleSqrt:oS,scaleSymlog:lg,scaleThreshold:fg,scaleTime:AA,scaleUtc:PA,tickFormat:ng},Symbol.toStringTag,{value:"Module"}));var Jr=e=>e.chartData,CA=_([Jr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Og=(e,t,r,n)=>n?CA(e):Jr(e);function Kr(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ot(t)&&Ot(r))return!0}return!1}function yf(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function OA(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Ot(r))i=r;else if(typeof r=="function")return;if(Ot(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Kr(o))return o}}function EA(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Kr(n))return yf(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ie(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&ad.test(i)){var l=ad.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t?.[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(ie(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t?.[1]))}catch{}else if(typeof a=="string"&&od.test(a)){var c=od.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t?.[1];var f=[o,s];if(Kr(f))return t==null?f:yf(f,t,r)}}}var Xr=1e9,TA={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zl,Ae=!0,bt="[DecimalError] ",Ar=bt+"Invalid argument: ",Ql=bt+"Exponent out of range: ",Qr=Math.floor,gr=Math.pow,DA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,st,$e=1e7,be=7,Eg=9007199254740991,_i=Qr(Eg/be),G={};G.absoluteValue=G.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};G.comparedTo=G.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};G.decimalPlaces=G.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};G.dividedBy=G.div=function(e){return Ft(this,new this.constructor(e))};G.dividedToIntegerBy=G.idiv=function(e){var t=this,r=t.constructor;return ve(Ft(t,new r(e),0,1),r.precision)};G.equals=G.eq=function(e){return!this.cmp(e)};G.exponent=function(){return De(this)};G.greaterThan=G.gt=function(e){return this.cmp(e)>0};G.greaterThanOrEqualTo=G.gte=function(e){return this.cmp(e)>=0};G.isInteger=G.isint=function(){return this.e>this.d.length-2};G.isNegative=G.isneg=function(){return this.s<0};G.isPositive=G.ispos=function(){return this.s>0};G.isZero=function(){return this.s===0};G.lessThan=G.lt=function(e){return this.cmp(e)<0};G.lessThanOrEqualTo=G.lte=function(e){return this.cmp(e)<1};G.logarithm=G.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(st))throw Error(bt+"NaN");if(r.s<1)throw Error(bt+(r.s?"NaN":"-Infinity"));return r.eq(st)?new n(0):(Ae=!1,t=Ft(On(r,a),On(e,a),a),Ae=!0,ve(t,i))};G.minus=G.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ng(t,e):Tg(t,(e.s=-e.s,e))};G.modulo=G.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bt+"NaN");return r.s?(Ae=!1,t=Ft(r,e,0,1).times(e),Ae=!0,r.minus(t)):ve(new n(r),i)};G.naturalExponential=G.exp=function(){return Dg(this)};G.naturalLogarithm=G.ln=function(){return On(this)};G.negated=G.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};G.plus=G.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tg(t,e):Ng(t,(e.s=-e.s,e))};G.precision=G.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ar+e);if(t=De(i)+1,n=i.d.length-1,r=n*be+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};G.squareRoot=G.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bt+"NaN")}for(e=De(s),Ae=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Tt(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qr((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Ft(s,a,o+2)).times(.5),Tt(a.d).slice(0,o)===(t=Tt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ve(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Ae=!0,ve(n,r)};G.times=G.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*f[i-n-1]+t,a[i--]=s%$e|0,t=s/$e|0;a[i]=(a[i]+t)%$e|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ae?ve(e,d.precision):e};G.toDecimalPlaces=G.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Nt(e,0,Xr),t===void 0?t=n.rounding:Nt(t,0,8),ve(r,e+De(r)+1,t))};G.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Or(n,!0):(Nt(e,0,Xr),t===void 0?t=i.rounding:Nt(t,0,8),n=ve(new i(n),e+1,t),r=Or(n,!0,e+1)),r};G.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Or(i):(Nt(e,0,Xr),t===void 0?t=a.rounding:Nt(t,0,8),n=ve(new a(i),e+De(i)+1,t),r=Or(n.abs(),!1,e+De(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};G.toInteger=G.toint=function(){var e=this,t=e.constructor;return ve(new t(e),De(e)+1,t.rounding)};G.toNumber=function(){return+this};G.toPower=G.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(st);if(s=new l(s),!s.s){if(e.s<1)throw Error(bt+"Infinity");return s}if(s.eq(st))return s;if(n=l.precision,e.eq(st))return ve(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=Eg){for(i=new l(st),t=Math.ceil(n/be+4),Ae=!1;r%2&&(i=i.times(s),xf(i.d,t)),r=Qr(r/2),r!==0;)s=s.times(s),xf(s.d,t);return Ae=!0,e.s<0?new l(st).div(i):ve(i,n)}}else if(a<0)throw Error(bt+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ae=!1,i=e.times(On(s,n+u)),Ae=!0,i=Dg(i),i.s=a,i};G.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=De(i),n=Or(i,r<=a.toExpNeg||r>=a.toExpPos)):(Nt(e,1,Xr),t===void 0?t=a.rounding:Nt(t,0,8),i=ve(new a(i),e,t),r=De(i),n=Or(i,e<=r||r<=a.toExpNeg,e)),n};G.toSignificantDigits=G.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Nt(e,1,Xr),t===void 0?t=n.rounding:Nt(t,0,8)),ve(new n(r),e,t)};G.toString=G.valueOf=G.val=G.toJSON=G[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=De(e),r=e.constructor;return Or(e,t<=r.toExpNeg||t>=r.toExpPos)};function Tg(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ae?ve(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/be),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/$e|0,l[a]%=$e;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ae?ve(t,d):t}function Nt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ar+e)}function Tt(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=be-n.length,r&&(a+=er(r)),a+=n;o=e[t],n=o+"",r=be-n.length,r&&(a+=er(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ft=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%$e|0,o=a/$e|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*$e+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,f,h,m,y,g,x,b,w,j,A,k,P,T,I=n.constructor,$=n.s==i.s?1:-1,O=n.d,z=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(bt+"Division by zero");for(l=n.e-i.e,P=z.length,A=O.length,h=new I($),m=h.d=[],u=0;z[u]==(O[u]||0);)++u;if(z[u]>(O[u]||0)&&--l,a==null?b=a=I.precision:o?b=a+(De(n)-De(i))+1:b=a,b<0)return new I(0);if(b=b/be+2|0,u=0,P==1)for(c=0,z=z[0],b++;(u<A||c)&&b--;u++)w=c*$e+(O[u]||0),m[u]=w/z|0,c=w%z|0;else{for(c=$e/(z[0]+1)|0,c>1&&(z=e(z,c),O=e(O,c),P=z.length,A=O.length),j=P,y=O.slice(0,P),g=y.length;g<P;)y[g++]=0;T=z.slice(),T.unshift(0),k=z[0],z[1]>=$e/2&&++k;do c=0,s=t(z,y,P,g),s<0?(x=y[0],P!=g&&(x=x*$e+(y[1]||0)),c=x/k|0,c>1?(c>=$e&&(c=$e-1),d=e(z,c),f=d.length,g=y.length,s=t(d,y,f,g),s==1&&(c--,r(d,P<f?T:z,f))):(c==0&&(s=c=1),d=z.slice()),f=d.length,f<g&&d.unshift(0),r(y,d,g),s==-1&&(g=y.length,s=t(z,y,P,g),s<1&&(c++,r(y,P<g?T:z,g))),g=y.length):s===0&&(c++,y=[0]),m[u++]=c,s&&y[0]?y[g++]=O[j]||0:(y=[O[j]],g=1);while((j++<A||y[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,ve(h,o?a+De(h)+1:a)}}();function Dg(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(De(e)>16)throw Error(Ql+De(e));if(!e.s)return new c(st);for(Ae=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(gr(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(st),c.precision=s;;){if(i=ve(i.times(e),s),r=r.times(++l),o=a.plus(Ft(i,r,s)),Tt(o.d).slice(0,s)===Tt(a.d).slice(0,s)){for(;u--;)a=ve(a.times(a),s);return c.precision=d,t==null?(Ae=!0,ve(a,d)):a}a=o}}function De(e){for(var t=e.e*be,r=e.d[0];r>=10;r/=10)t++;return t}function Xo(e,t,r){if(t>e.LN10.sd())throw Ae=!0,r&&(e.precision=r),Error(bt+"LN10 precision limit exceeded");return ve(new e(e.LN10),t)}function er(e){for(var t="";e--;)t+="0";return t}function On(e,t){var r,n,i,a,o,s,l,u,c,d=1,f=10,h=e,m=h.d,y=h.constructor,g=y.precision;if(h.s<1)throw Error(bt+(h.s?"NaN":"-Infinity"));if(h.eq(st))return new y(0);if(t==null?(Ae=!1,u=g):u=t,h.eq(10))return t==null&&(Ae=!0),Xo(y,u);if(u+=f,y.precision=u,r=Tt(m),n=r.charAt(0),a=De(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Tt(h.d),n=r.charAt(0),d++;a=De(h),n>1?(h=new y("0."+r),a++):h=new y(n+"."+r.slice(1))}else return l=Xo(y,u+2,g).times(a+""),h=On(new y(n+"."+r.slice(1)),u-f).plus(l),y.precision=g,t==null?(Ae=!0,ve(h,g)):h;for(s=o=h=Ft(h.minus(st),h.plus(st),u),c=ve(h.times(h),u),i=3;;){if(o=ve(o.times(c),u),l=s.plus(Ft(o,new y(i),u)),Tt(l.d).slice(0,u)===Tt(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Xo(y,u+2,g).times(a+""))),s=Ft(s,new y(d),u),y.precision=g,t==null?(Ae=!0,ve(s,g)):s;s=l,i+=2}}function vf(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Qr(r/be),e.d=[],n=(r+1)%be,r<0&&(n+=be),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=be;n<i;)e.d.push(+t.slice(n,n+=be));t=t.slice(n),n=be-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ae&&(e.e>_i||e.e<-_i))throw Error(Ql+r)}else e.s=0,e.e=0,e.d=[0];return e}function ve(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=be,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/be),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=be,i=n-be+o}if(r!==void 0&&(a=gr(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/gr(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=De(e),d.length=1,t=t-a-1,d[0]=gr(10,(be-t%be)%be),e.e=Qr(-t/be)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=gr(10,be-n),d[c]=i>0?(u/gr(10,o-i)%gr(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==$e&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=$e)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Ae&&(e.e>_i||e.e<-_i))throw Error(Ql+De(e));return e}function Ng(e,t){var r,n,i,a,o,s,l,u,c,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Ae?ve(t,h):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(h/be),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=$e-1;--l[a],l[i]+=$e}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ae?ve(t,h):t):new f(0)}function Or(e,t,r){var n,i=De(e),a=Tt(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+er(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+er(-i-1)+a,r&&(n=r-o)>0&&(a+=er(n))):i>=o?(a+=er(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+er(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=er(n))),e.s<0?"-"+a:a}function xf(e,t){if(e.length>t)return e.length=t,!0}function _g(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ar+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return vf(o,a.toString())}else if(typeof a!="string")throw Error(Ar+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,DA.test(a))vf(o,a);else throw Error(Ar+a)}if(i.prototype=G,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_g,i.config=i.set=NA,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function NA(e){if(!e||typeof e!="object")throw Error(bt+"Object expected");var t,r,n,i=["precision",1,Xr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Qr(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ar+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ar+r+": "+n);return this}var Zl=_g(TA);st=new Zl(1);const pe=Zl;var _A=e=>e,Ig={},Mg=e=>e===Ig,bf=e=>function t(){return arguments.length===0||arguments.length===1&&Mg(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$g=(e,t)=>e===1?t:bf(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==Ig).length;return a>=e?t(...n):$g(e-a,bf(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>Mg(c)?s.shift():c);return t(...u,...s)}))}),ma=e=>$g(e.length,e),qs=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},IA=ma((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),MA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _A;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Us=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Rg=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,r=e(...i)),r}};function Bg(e){var t;return e===0?t=1:t=Math.floor(new pe(e).abs().log(10).toNumber())+1,t}function Lg(e,t,r){for(var n=new pe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}ma((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});ma((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});ma((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Fg=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},zg=(e,t,r)=>{if(e.lte(0))return new pe(0);var n=Bg(e.toNumber()),i=new pe(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new pe(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new pe(l.toNumber()):new pe(Math.ceil(l.toNumber()))},$A=(e,t,r)=>{var n=new pe(1),i=new pe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new pe(10).pow(Bg(e)-1),i=new pe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new pe(Math.floor(e)))}else e===0?i=new pe(Math.floor((t-1)/2)):r||(i=new pe(Math.floor(e)));var o=Math.floor((t-1)/2),s=MA(IA(l=>i.add(new pe(l-o).mul(n)).toNumber()),qs);return s(0,t)},Wg=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var o=zg(new pe(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new pe(0):(s=new pe(t).add(r).div(2),s=s.sub(new pe(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new pe(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?Wg(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new pe(l).mul(o)),tickMax:s.add(new pe(u).mul(o))})};function RA(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=Fg([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...qs(0,n-1).map(()=>1/0)]:[...qs(0,n-1).map(()=>-1/0),s];return t>r?Us(l):l}if(o===s)return $A(o,n,i);var{step:u,tickMin:c,tickMax:d}=Wg(o,s,a,i,0),f=Lg(c,d.add(new pe(.1).mul(u)),u);return t>r?Us(f):f}function BA(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Fg([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=zg(new pe(o).sub(a).div(s-1),i,0),u=[...Lg(new pe(a),new pe(o).sub(new pe(.99).mul(l)),l),o];return r>n?Us(u):u}var LA=Rg(RA),FA=Rg(BA),zA=e=>e.rootProps.barCategoryGap,ya=e=>e.rootProps.stackOffset,ec=e=>e.options.chartName,tc=e=>e.rootProps.syncId,qg=e=>e.rootProps.syncMethod,rc=e=>e.options.eventEmitter,Mt={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ot={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},va=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},WA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mt.angleAxisId,includeHidden:!1,name:void 0,reversed:Mt.reversed,scale:Mt.scale,tick:Mt.tick,tickCount:void 0,ticks:void 0,type:Mt.type,unit:void 0},qA={allowDataOverflow:ot.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ot.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ot.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,ticks:void 0,type:ot.type,unit:void 0},UA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mt.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mt.scale,tick:Mt.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},HA={allowDataOverflow:ot.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ot.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ot.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,ticks:void 0,type:"category",unit:void 0},nc=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?UA:WA,ic=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?HA:qA,xa=e=>e.polarOptions,ac=_([cr,ur,He],Vx),Ug=_([xa,ac],(e,t)=>{if(e!=null)return ar(e.innerRadius,t,0)}),Hg=_([xa,ac],(e,t)=>{if(e!=null)return ar(e.outerRadius,t,t*.8)}),KA=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Kg=_([xa],KA);_([nc,Kg],va);var Vg=_([ac,Ug,Hg],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});_([ic,Vg],va);var VA=_([ke,xa,Ug,Hg,cr,ur],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:ar(o,i,i/2),cy:ar(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Be=(e,t)=>t,ba=(e,t,r)=>r;function wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wf(Object(r),!0).forEach(function(n){YA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YA(e,t,r){return(t=GA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GA(e){var t=JA(e,"string");return typeof t=="symbol"?t:t+""}function JA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hs=[0,"auto"],it={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_t=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??it},at={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hs,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:aa},Yt=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??at},XA={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oc=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??XA},tt=(e,t,r)=>{switch(t){case"xAxis":return _t(e,r);case"yAxis":return Yt(e,r);case"zAxis":return oc(e,r);case"angleAxis":return nc(e,r);case"radiusAxis":return ic(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QA=(e,t,r)=>{switch(t){case"xAxis":return _t(e,r);case"yAxis":return Yt(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rn=(e,t,r)=>{switch(t){case"xAxis":return _t(e,r);case"yAxis":return Yt(e,r);case"angleAxis":return nc(e,r);case"radiusAxis":return ic(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yg=e=>e.graphicalItems.countOfBars>0;function Gg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Jg=e=>e.graphicalItems.cartesianItems,ZA=_([Be,ba],Gg),Xg=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Bn=_([Jg,tt,ZA],Xg),Qg=e=>e.filter(t=>t.stackId===void 0),eP=_([Bn],Qg),Zg=e=>e.map(t=>t.data).filter(Boolean).flat(1),tP=_([Bn],Zg),em=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},wa=_([tP,Og],em),tm=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:ct(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:ct(i,n)}))):e.map(n=>({value:n})),Sa=_([wa,tt,Bn],tm);function rm(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Nr(e){return e.filter(t=>vt(t)||t instanceof Date).map(Number).filter(t=>ut(t)===!1)}function rP(e,t,r){return!r||typeof t!="number"||ut(t)?[]:r.length?Nr(r.flatMap(n=>{var i=ct(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Ot(a)||!Ot(o)))return[t-a,t+o]})):[]}var nm=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(u=>u.dataKey);return[o,{stackedData:lb(e,l,r),graphicalItems:s}]}))},nP=_([wa,Bn,ya],nm),im=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=fb(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},iP=_([nP,Jr,Be],im),am=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var o,s,l=(o=a.errorBars)===null||o===void 0?void 0:o.filter(c=>rm(n,c)),u=ct(i,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:u,errorDomain:rP(i,u,l)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:ct(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),aP=_(wa,tt,eP,Be,am);function oP(e){var{value:t}=e;if(vt(t)||t instanceof Date)return t}var sP=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Nr(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lP=(e,t,r)=>{var n=e.map(oP).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Rp(n))?Vh(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},sc=e=>{var t;if(e==null||!("domain"in e))return Hs;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Nr(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Hs},lc=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},om=e=>e.referenceElements.dots,Zr=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),cP=_([om,Be,ba],Zr),sm=e=>e.referenceElements.areas,uP=_([sm,Be,ba],Zr),lm=e=>e.referenceElements.lines,dP=_([lm,Be,ba],Zr),cm=(e,t)=>{var r=Nr(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fP=_(cP,Be,cm),um=(e,t)=>{var r=Nr(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pP=_([uP,Be],um),dm=(e,t)=>{var r=Nr(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hP=_(dP,Be,dm),gP=_(fP,hP,pP,(e,t,r)=>lc(e,r,t)),mP=_([tt],sc),fm=(e,t,r,n,i)=>{var a=OA(t,e.allowDataOverflow);return a??EA(t,lc(r,i,sP(n)),e.allowDataOverflow)},yP=_([tt,mP,iP,aP,gP],fm),vP=[0,1],pm=(e,t,r,n,i,a,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:s,type:l}=e,u=lr(t,a);return u&&s==null?Vh(0,r.length):l==="category"?lP(n,e,u):i==="expand"?vP:o}},cc=_([tt,ke,wa,Sa,ya,Be,yP],pm),hm=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(ul(a));return s in yn?s:"point"}}},Ln=_([tt,ke,Yg,ec,Be],hm);function xP(e){if(e!=null){if(e in yn)return yn[e]();var t="scale".concat(ul(e));if(t in yn)return yn[t]()}}function uc(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=xP(t);if(i!=null){var a=i.domain(r).range(n);return ib(a),a}}}var gm=(e,t,r)=>{var n=sc(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Kr(e))return LA(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Kr(e))return FA(e,t.tickCount,t.allowDecimals)}},dc=_([cc,Rn,Ln],gm),mm=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Kr(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},bP=_([tt,cc,dc,Be],mm),wP=_(Sa,tt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Nr(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),ym=_(wP,ke,zA,He,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Ot(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=ar(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),SP=(e,t)=>{var r=_t(e,t);return r==null||typeof r.padding!="string"?0:ym(e,"xAxis",t,r.padding)},AP=(e,t)=>{var r=Yt(e,t);return r==null||typeof r.padding!="string"?0:ym(e,"yAxis",t,r.padding)},PP=_(_t,SP,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),jP=_(Yt,AP,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),kP=_([He,PP,sa,oa,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),CP=_([He,ke,jP,sa,oa,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fn=(e,t,r,n)=>{var i;switch(t){case"xAxis":return kP(e,r,n);case"yAxis":return CP(e,r,n);case"zAxis":return(i=oc(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return Kg(e);case"radiusAxis":return Vg(e,r);default:return}},vm=_([tt,Fn],va),or=_([tt,Ln,bP,vm],uc);_(Bn,Be,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>rm(t,r)));function xm(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Aa=(e,t)=>t,Pa=(e,t,r)=>r,OP=_(jl,Aa,Pa,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(xm)),EP=_(kl,Aa,Pa,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(xm)),bm=(e,t)=>({width:e.width,height:t.height}),TP=(e,t)=>{var r=typeof t.width=="number"?t.width:aa;return{width:r,height:e.height}},DP=_(He,_t,bm),NP=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},_P=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},IP=_(ur,He,OP,Aa,Pa,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=bm(t,s);o==null&&(o=NP(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),MP=_(cr,He,EP,Aa,Pa,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=TP(t,s);o==null&&(o=_P(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),$P=(e,t)=>{var r=He(e),n=_t(e,t);if(n!=null){var i=IP(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},RP=(e,t)=>{var r=He(e),n=Yt(e,t);if(n!=null){var i=MP(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},BP=_(He,Yt,(e,t)=>{var r=typeof t.width=="number"?t.width:aa;return{width:r,height:e.height}}),wm=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=lr(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&Rp(l))return l}},fc=_([ke,Sa,tt,Be],wm),Sm=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=lr(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},pc=_([ke,Sa,Rn,Be],Sm);_([ke,QA,Ln,or,fc,pc,Fn,dc,Be],(e,t,r,n,i,a,o,s,l)=>{if(t==null)return null;var u=lr(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}});var LP=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=lr(e,l),{type:c,ticks:d,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/h:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Ct(a[0]-a[1])*2*m:m;var y=d||i;if(y){var g=y.map((x,b)=>{var w=o?o.indexOf(x):x;return{index:b,coordinate:n(w)+m,value:x,offset:m}});return g.filter(x=>!ut(x.coordinate))}return u&&s?s.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})):n.ticks?n.ticks(f).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:o?o[x]:x,index:b,offset:m}))}},Am=_([ke,Rn,Ln,or,dc,Fn,fc,pc,Be],LP),FP=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=lr(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?Ct(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Pm=_([ke,Rn,or,Fn,fc,pc,Be],FP),ja=_(tt,or,(e,t)=>{if(!(e==null||t==null))return Ii(Ii({},e),{},{scale:t})}),zP=_([tt,Ln,cc,vm],uc);_((e,t,r)=>oc(e,r),zP,(e,t)=>{if(!(e==null||t==null))return Ii(Ii({},e),{},{scale:t})});var WP=_([ke,jl,kl],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jm=e=>e.options.defaultTooltipEventType,km=e=>e.options.validateTooltipEventTypes;function Cm(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function hc(e,t){var r=jm(e),n=km(e);return Cm(t,r,n)}function qP(e){return te(t=>hc(t,e))}var Om=(e,t)=>{var r,n=Number(t);if(!(ut(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},UP=e=>e.tooltip.settings,tr={active:!1,index:null,dataKey:void 0,coordinate:void 0},HP={itemInteraction:{click:tr,hover:tr},axisInteraction:{click:tr,hover:tr},keyboardInteraction:tr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Em=wt({name:"tooltip",initialState:HP,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=nr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:KP,removeTooltipEntrySettings:VP,setTooltipSettingsState:YP,setActiveMouseOverItemIndex:GP,mouseLeaveItem:l2,mouseLeaveChart:Tm,setActiveClickItemIndex:c2,setMouseOverAxisIndex:Dm,setMouseClickAxisIndex:JP,setSyncInteraction:Ks,setKeyboardInteraction:Vs}=Em.actions,XP=Em.reducer;function Sf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sf(Object(r),!0).forEach(function(n){QP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QP(e,t,r){return(t=ZP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=ej(e,"string");return typeof t=="symbol"?t:t+""}function ej(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tj(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function rj(e){return e.index!=null}var Nm=(e,t,r,n)=>{if(t==null)return tr;var i=tj(e,t,r);if(i==null)return tr;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(rj(i)){if(a)return ti(ti({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ti(ti({},tr),{},{coordinate:i.coordinate})},gc=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Ot(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},_m=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i?.[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},Im=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},ka=e=>e.options.tooltipPayloadSearcher,en=e=>e.tooltip,Le=e=>{var t=ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tn=e=>e.tooltip.settings.axisId,Ke=e=>{var t=Le(e),r=tn(e);return Rn(e,t,r)},mc=_([Ke,ke,Yg,ec,Le],hm),nj=_([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ij=_([Le,tn],Gg),Ca=_([nj,Ke,ij],Xg),aj=_([Ca],Zg),_r=_([aj,Jr],em),yc=_([_r,Ke,Ca],tm),oj=_([Ke],sc),sj=_([_r,Ca,ya],nm),lj=_([sj,Jr,Le],im),cj=_([Ca],Qg),uj=_([_r,Ke,cj,Le],am),dj=_([om,Le,tn],Zr),fj=_([dj,Le],cm),pj=_([sm,Le,tn],Zr),hj=_([pj,Le],um),gj=_([lm,Le,tn],Zr),mj=_([gj,Le],dm),yj=_([fj,mj,hj],lc),vj=_([Ke,oj,lj,uj,yj],fm),Mm=_([Ke,ke,_r,yc,ya,Le,vj],pm),xj=_([Mm,Ke,mc],gm),bj=_([Ke,Mm,xj,Le],mm),$m=e=>{var t=Le(e),r=tn(e),n=!1;return Fn(e,t,r,n)},Rm=_([Ke,$m],va),Bm=_([Ke,mc,bj,Rm],uc),wj=_([ke,yc,Ke,Le],wm),Sj=_([ke,yc,Ke,Le],Sm),Aj=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=lr(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&i?.length>=2?Ct(i[0]-i[1])*2*d:d,u&&o?o.map((f,h)=>({coordinate:n(f)+d,value:f,index:h,offset:d})):n.domain().map((f,h)=>({coordinate:n(f)+d,value:a?a[f]:f,index:h,offset:d}))}}},Gt=_([ke,Ke,mc,Bm,$m,wj,Sj,Le],Aj),Lm=_([jm,km,UP],(e,t,r)=>Cm(r.shared,e,t)),Fm=e=>e.tooltip.settings.trigger,vc=e=>e.tooltip.settings.defaultIndex,Oa=_([en,Lm,Fm,vc],Nm),Mi=_([Oa,_r],gc),zm=_([Gt,Mi],Om),Pj=_([Oa],e=>{if(e)return e.dataKey}),jj=_([en,Lm,Fm,vc],Im),kj=_([cr,ur,ke,He,Gt,vc,jj,ka],_m),Cj=_([Oa,kj],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Oj=_([Oa],e=>e.active);function Af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(r),!0).forEach(function(n){Ej(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Af(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ej(e,t,r){return(t=Tj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tj(e){var t=Dj(e,"string");return typeof t=="symbol"?t:t+""}function Dj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wm=()=>te(Ke),Nj=()=>{var e=Wm(),t=te(Gt),r=te(Bm);return Os(Pf(Pf({},e),{},{scale:r}),t)};function jf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jf(Object(r),!0).forEach(function(n){_j(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _j(e,t,r){return(t=Ij(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ij(e){var t=Mj(e,"string");return typeof t=="symbol"?t:t+""}function Mj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $j=()=>te(ec),xc=(e,t)=>t,qm=(e,t,r)=>r,bc=(e,t,r,n)=>n;function Rj(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var Bj=_(Gt,e=>Qi(e,t=>t.coordinate)),wc=_([en,xc,qm,bc],Nm),Um=_([wc,_r],gc),Lj=(e,t,r)=>{if(t!=null){var n=en(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Hm=_([en,xc,qm,bc],Im),$i=_([cr,ur,ke,He,Gt,bc,Hm,ka],_m),Fj=_([wc,$i],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Km=_(Gt,Um,Om);function zj(e,t){return e??t}var Wj=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((f,h)=>{var m,{dataDefinedOnItem:y,settings:g}=h,x=zj(y,s),b=Rj(x,u,c),w=(m=g?.dataKey)!==null&&m!==void 0?m:n?.dataKey,j=g?.nameKey,A;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(b)&&o==="axis"?A=cl(b,n.dataKey,i):A=a(b,t,l,j),Array.isArray(A))A.forEach(P=>{var T=kf(kf({},g),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(sd({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:ct(P.payload,P.dataKey),name:P.name}))});else{var k;f.push(sd({tooltipEntrySettings:g,dataKey:w,payload:A,value:ct(A,w),name:(k=ct(A,j))!==null&&k!==void 0?k:g?.name}))}return f},d)}},qj=_([Hm,Um,Jr,Ke,Km,ka,xc],Wj),Uj=_([wc],e=>({isActive:e.active,activeIndex:e.index})),Hj=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var l=pb(e.chartX,e.chartY,t,r,s);if(l){var u=gb(l,t),c=rb(u,o,a,n,i),d=hb(t,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}};function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}function Cf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cf(Object(r),!0).forEach(function(n){Kj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kj(e,t,r){return(t=Vj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vj(e){var t=Yj(e,"string");return typeof t=="symbol"?t:t+""}function Yj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gj(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:u}=e,c=t,d=r,f=n;if(!s||!c||u!=="ScatterChart"&&l!=="axis")return null;var h,m;if(u==="ScatterChart")h=c,m=iw;else if(u==="BarChart")h=aw(o,c,i,a),m=Ww;else if(o==="radial"){var{cx:y,cy:g,radius:x,startAngle:b,endAngle:w}=Hh(c);h={cx:y,cy:g,startAngle:b,endAngle:w,innerRadius:x,outerRadius:x},m=Kw}else h={points:Vw(o,c,i)},m=zh;var j=typeof s=="object"&&"className"in s?s.className:void 0,A=ri(ri(ri(ri({stroke:"#ccc",pointerEvents:"none"},i),h),we(s,!1)),{},{payload:d,payloadIndex:f,className:xe("recharts-tooltip-cursor",j)});return v.isValidElement(s)?v.cloneElement(s,A):v.createElement(m,A)}function Jj(e){var t=Nj(),r=ca(),n=Cl(),i=$j();return v.createElement(Gj,Ys({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var Vm=v.createContext(null),Xj=()=>v.useContext(Vm),Qo={exports:{}},Of;function Qj(){return Of||(Of=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,h,m){var y=r?r+u:u;if(!this._events[y])return!1;var g=this._events[y],x=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,d),!0;case 4:return g.fn.call(g.context,c,d,f),!0;case 5:return g.fn.call(g.context,c,d,f,h),!0;case 6:return g.fn.call(g.context,c,d,f,h,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var j=g.length,A;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,c);break;case 3:g[w].fn.call(g[w].context,c,d);break;case 4:g[w].fn.call(g[w].context,c,d,f);break;default:if(!b)for(A=1,b=new Array(x-1);A<x;A++)b[A-1]=arguments[A];g[w].fn.apply(g[w].context,b)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var y=0,g=[],x=m.length;y<x;y++)(m[y].fn!==c||f&&!m[y].once||d&&m[y].context!==d)&&g.push(m[y]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(Qo)),Qo.exports}var Zj=Qj();const ek=Kt(Zj);var En=new ek,Gs="recharts.syncEvent.tooltip",Ef="recharts.syncEvent.brush";function tk(e,t){if(t){var r=Number.parseInt(t,10);if(!ut(r))return e?.[r]}}var rk={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ym=wt({name:"options",initialState:rk,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nk=Ym.reducer,{createEventEmitter:ik}=Ym.actions;function ak(e){return e.tooltip.syncInteraction}var ok={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Gm=wt({name:"chartData",initialState:ok,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Tf,setDataStartEndIndexes:sk,setComputedData:u2}=Gm.actions,lk=Gm.reducer,Jm=()=>{};function ck(){var e=te(tc),t=te(rc),r=Ue(),n=te(qg),i=te(Gt),a=Cl(),o=la(),s=te(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Jm;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){r(c);return}if(i!=null){var f;if(typeof n=="function"){var h={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},m=n(i,h);f=i[m]}else n==="value"&&(f=i.find(k=>String(k.value)===c.payload.label));var{coordinate:y}=c.payload;if(f==null||c.payload.active===!1||y==null||o==null){r(Ks({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:g,y:x}=y,b=Math.min(g,o.x+o.width),w=Math.min(x,o.y+o.height),j={x:a==="horizontal"?f.coordinate:b,y:a==="horizontal"?w:f.coordinate},A=Ks({active:c.payload.active,coordinate:j,dataKey:c.payload.dataKey,index:String(f.index),label:c.payload.label});r(A)}}};return En.on(Gs,l),()=>{En.off(Gs,l)}},[s,r,t,e,n,i,a,o])}function uk(){var e=te(tc),t=te(rc),r=Ue();v.useEffect(()=>{if(e==null)return Jm;var n=(i,a,o)=>{t!==o&&e===i&&r(sk(a))};return En.on(Ef,n),()=>{En.off(Ef,n)}},[r,t,e])}function dk(){var e=Ue();v.useEffect(()=>{e(ik())},[e]),ck(),uk()}function fk(e,t,r,n,i,a){var o=te(f=>Lj(f,e,t)),s=te(rc),l=te(tc),u=te(qg),c=te(ak),d=c?.active;v.useEffect(()=>{if(!d&&l!=null&&s!=null){var f=Ks({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});En.emit(Gs,l,f,s)}},[d,r,o,i,n,s,l,u,a])}function Df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Df(Object(r),!0).forEach(function(n){pk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pk(e,t,r){return(t=hk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hk(e){var t=gk(e,"string");return typeof t=="symbol"?t:t+""}function gk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mk(e){return e.dataKey}function yk(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement($b,t)}var _f=[],vk={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xk(e){var t=Yr(e,vk),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:u,payloadUniqBy:c,position:d,reverseDirection:f,useTranslate3d:h,wrapperStyle:m,cursor:y,shared:g,trigger:x,defaultIndex:b,portal:w,axisId:j}=t,A=Ue(),k=typeof b=="number"?String(b):b;v.useEffect(()=>{A(YP({shared:g,trigger:x,axisId:j,active:r,defaultIndex:k}))},[A,g,x,j,r,k]);var P=la(),T=Fh(),I=qP(g),{activeIndex:$,isActive:O}=te(E=>Uj(E,I,x,k)),z=te(E=>qj(E,I,x,k)),N=te(E=>Km(E,I,x,k)),D=te(E=>Fj(E,I,x,k)),U=z,R=Xj(),L=r??O,[Z,ee]=H0([U,L]),le=I==="axis"?N:void 0;fk(I,x,D,le,$,L);var ne=w??R;if(ne==null)return null;var Y=U??_f;L||(Y=_f),s&&Y.length&&(Y=y0(U.filter(E=>E.value!=null&&(E.hide!==!0||t.includeHidden)),c,mk));var he=Y.length>0,re=v.createElement(qb,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:L,coordinate:D,hasPayload:he,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:P,wrapperStyle:m,lastBoundingBox:Z,innerRef:ee,hasPortalFromProps:!!w},yk(o,Nf(Nf({},t),{},{payload:Y,label:le,active:L,coordinate:D,accessibilityLayer:T})));return v.createElement(v.Fragment,null,iv.createPortal(re,ne),L&&v.createElement(Jj,{cursor:y,tooltipEventType:I,coordinate:D,payload:U,index:$}))}var Zo={},es={},ts={},If;function bk(){return If||(If=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),y()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{m(),o=void 0,s=null},g=()=>{m(),c()},x=function(...b){if(i?.aborted)return;o=this,s=b;const w=f==null;h(),l&&w&&c()};return x.schedule=h,x.cancel=y,x.flush=g,i?.addEventListener("abort",y,{once:!0}),x}e.debounce=t}(ts)),ts}var Mf;function wk(){return Mf||(Mf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const f=t.debounce(function(...y){c=n.apply(this,y),d=null},i,{edges:u}),h=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,y),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,y),c)},m=()=>(f.flush(),c);return h.cancel=f.cancel,h.flush=m,h}e.debounce=r}(es)),es}var $f;function Sk(){return $f||($f=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,trailing:s,maxWait:i})}e.throttle=r}(Zo)),Zo}var rs,Rf;function Ak(){return Rf||(Rf=1,rs=Sk().throttle),rs}var Pk=Ak();const jk=Kt(Pk);var ns=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Bf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bf(Object(r),!0).forEach(function(n){kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kk(e,t,r){return(t=Ck(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ck(e){var t=Ok(e,"string");return typeof t=="symbol"?t:t+""}function Ok(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ek=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:f,onResize:h,style:m={}}=e,y=v.useRef(null),g=v.useRef();g.current=h,v.useImperativeHandle(t,()=>y.current);var[x,b]=v.useState({containerWidth:n.width,containerHeight:n.height}),w=v.useCallback((A,k)=>{b(P=>{var T=Math.round(A),I=Math.round(k);return P.containerWidth===T&&P.containerHeight===I?P:{containerWidth:T,containerHeight:I}})},[]);v.useEffect(()=>{var A=I=>{var $,{width:O,height:z}=I[0].contentRect;w(O,z),($=g.current)===null||$===void 0||$.call(g,O,z)};c>0&&(A=jk(A,c,{trailing:!0,leading:!1}));var k=new ResizeObserver(A),{width:P,height:T}=y.current.getBoundingClientRect();return w(P,T),k.observe(y.current),()=>{k.disconnect()}},[w,c]);var j=v.useMemo(()=>{var{containerWidth:A,containerHeight:k}=x;if(A<0||k<0)return null;ns(mr(i)||mr(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),ns(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=mr(i)?A:i,T=mr(a)?k:a;return r&&r>0&&(P?T=P/r:T&&(P=T*r),l&&T>l&&(T=l)),ns(P>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,T,i,a,o,s,r),v.Children.map(u,I=>v.cloneElement(I,{width:P,height:T,style:is({height:"100%",width:"100%",maxHeight:T,maxWidth:P},I.props.style)}))},[r,u,a,l,s,o,x,i]);return v.createElement("div",{id:d?"".concat(d):void 0,className:xe("recharts-responsive-container",f),style:is(is({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},j)});function Lf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lf(Object(r),!0).forEach(function(n){Tk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tk(e,t,r){return(t=Dk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dk(e){var t=Nk(e,"string");return typeof t=="symbol"?t:t+""}function Nk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $r={widthCache:{},cacheCount:0},_k=2e3,Ik={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ff="recharts_measurement_span";function Mk(e){var t=Js({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var xn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nn.isSsr)return{width:0,height:0};var n=Mk(r),i=JSON.stringify({text:t,copyStyle:n});if($r.widthCache[i])return $r.widthCache[i];try{var a=document.getElementById(Ff);a||(a=document.createElement("span"),a.setAttribute("id",Ff),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Js(Js({},Ik),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return $r.widthCache[i]=l,++$r.cacheCount>_k&&($r.cacheCount=0,$r.widthCache={}),l}catch{return{width:0,height:0}}},zf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$k=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rk=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xm={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bk=Object.keys(Xm),Rr="NaN";function Lk(e,t){return e*Xm[t]}class Je{static parse(t){var r,[,n,i]=(r=Rk.exec(t))!==null&&r!==void 0?r:[];return new Je(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ut(t)&&(this.unit=""),r!==""&&!$k.test(r)&&(this.num=NaN,this.unit=""),Bk.includes(r)&&(this.num=Lk(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Je(NaN,""):new Je(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Je(NaN,""):new Je(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Je(NaN,""):new Je(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Je(NaN,""):new Je(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ut(this.num)}}function Qm(e){if(e.includes(Rr))return Rr;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=zf.exec(t))!==null&&r!==void 0?r:[],o=Je.parse(n??""),s=Je.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Rr;t=t.replace(zf,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,f]=(u=Wf.exec(t))!==null&&u!==void 0?u:[],h=Je.parse(c??""),m=Je.parse(f??""),y=d==="+"?h.add(m):h.subtract(m);if(y.isNaN())return Rr;t=t.replace(Wf,y.toString())}return t}var qf=/\(([^()]*)\)/;function Fk(e){for(var t=e,r;(r=qf.exec(t))!=null;){var[,n]=r;t=t.replace(qf,Qm(n))}return t}function zk(e){var t=e.replace(/\s+/g,"");return t=Fk(t),t=Qm(t),t}function Wk(e){try{return zk(e)}catch{return Rr}}function as(e){var t=Wk(e.slice(5,-1));return t===Rr?"":t}var qk=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uk=["dx","dy","angle","className","breakAll"];function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(null,arguments)}function Uf(e,t){if(e==null)return{};var r,n,i=Hk(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zm=/[ \f\n\r\t\v\u2028\u2029]+/,ey=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ee(t)||(r?i=t.toString().split(""):i=t.toString().split(Zm));var a=i.map(s=>({word:s,width:xn(s,n).width})),o=r?0:xn(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Kk=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=ie(a),c=o,d=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((z,N)=>{var{word:D,width:U}=N,R=z[z.length-1];if(R&&(n==null||i||R.width+U+r<Number(n)))R.words.push(D),R.width+=U+r;else{var L={words:[D],width:U};z.push(L)}return z},[])},f=d(t),h=$=>$.reduce((O,z)=>O.width>z.width?O:z);if(!u||i)return f;var m=f.length>a||h(f).width>Number(n);if(!m)return f;for(var y="…",g=$=>{var O=c.slice(0,$),z=ey({breakAll:l,style:s,children:O+y}).wordsWithComputedWidth,N=d(z),D=N.length>a||h(N).width>Number(n);return[D,N]},x=0,b=c.length-1,w=0,j;x<=b&&w<=c.length-1;){var A=Math.floor((x+b)/2),k=A-1,[P,T]=g(k),[I]=g(A);if(!P&&!I&&(x=A+1),P&&I&&(b=A-1),!P&&I){j=T;break}w++}return j||f},Hf=e=>{var t=Ee(e)?[]:e.toString().split(Zm);return[{words:t}]},Vk=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Nn.isSsr){var s,l,u=ey({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return Hf(n);return Kk({breakAll:a,children:n,maxLines:o,style:i},s,l,t,r)}return Hf(n)},Kf="#808080",Sc=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:u=Kf}=e,c=Uf(e,qk),d=v.useMemo(()=>Vk({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:o,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,o,c.style,c.width]),{dx:f,dy:h,angle:m,className:y,breakAll:g}=c,x=Uf(c,Uk);if(!vt(r)||!vt(n))return null;var b=r+(ie(f)?f:0),w=n+(ie(h)?h:0),j;switch(l){case"start":j=as("calc(".concat(a,")"));break;case"middle":j=as("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=as("calc(".concat(d.length-1," * -").concat(i,")"));break}var A=[];if(o){var k=d[0].width,{width:P}=c;A.push("scale(".concat(ie(P)?P/k:1,")"))}return m&&A.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),A.length&&(x.transform=A.join(" ")),v.createElement("text",Xs({},we(x,!0),{ref:t,x:b,y:w,className:xe("recharts-text",y),textAnchor:s,fill:u.includes("url")?Kf:u}),d.map((T,I)=>{var $=T.words.join(g?"":" ");return v.createElement("tspan",{x:b,dy:I===0?j:i,key:"".concat($,"-").concat(I)},$)}))});Sc.displayName="Text";var Yk=["offset"],Gk=["labelRef"];function Vf(e,t){if(e==null)return{};var r,n,i=Jk(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yf(Object(r),!0).forEach(function(n){Xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xk(e,t,r){return(t=Qk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e){var t=Zk(e,"string");return typeof t=="symbol"?t:t+""}function Zk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(null,arguments)}var eC=e=>{var{value:t,formatter:r}=e,n=Ee(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ac=e=>e!=null&&typeof e=="function",tC=(e,t)=>{var r=Ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rC=(e,t,r)=>{var{position:n,viewBox:i,offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:h}=i,m=(u+c)/2,y=tC(d,f),g=y>=0?1:-1,x,b;n==="insideStart"?(x=d+g*a,b=h):n==="insideEnd"?(x=f-g*a,b=!h):n==="end"&&(x=f+g*a,b=h),b=y<=0?b:!b;var w=We(s,l,m,x),j=We(s,l,m,x+(b?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),k=Ee(e.id)?bn("recharts-radial-line-"):e.id;return v.createElement("text",$t({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:k,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(k)},t))},nC=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:a,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=t,c=(l+u)/2;if(n==="outside"){var{x:d,y:f}=We(i,a,s+r,c);return{x:d,y:f,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(o+s)/2,{x:m,y}=We(i,a,h,c);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},iC=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:o,width:s,height:l}=t,u=l>=0?1:-1,c=u*n,d=u>0?"end":"start",f=u>0?"start":"end",h=s>=0?1:-1,m=h*n,y=h>0?"end":"start",g=h>0?"start":"end";if(i==="top"){var x={x:a+s/2,y:o-u*n,textAnchor:"middle",verticalAnchor:d};return Te(Te({},x),r?{height:Math.max(o-r.y,0),width:s}:{})}if(i==="bottom"){var b={x:a+s/2,y:o+l+c,textAnchor:"middle",verticalAnchor:f};return Te(Te({},b),r?{height:Math.max(r.y+r.height-(o+l),0),width:s}:{})}if(i==="left"){var w={x:a-m,y:o+l/2,textAnchor:y,verticalAnchor:"middle"};return Te(Te({},w),r?{width:Math.max(w.x-r.x,0),height:l}:{})}if(i==="right"){var j={x:a+s+m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return Te(Te({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:l}:{})}var A=r?{width:s,height:l}:{};return i==="insideLeft"?Te({x:a+m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},A):i==="insideRight"?Te({x:a+s-m,y:o+l/2,textAnchor:y,verticalAnchor:"middle"},A):i==="insideTop"?Te({x:a+s/2,y:o+c,textAnchor:"middle",verticalAnchor:f},A):i==="insideBottom"?Te({x:a+s/2,y:o+l-c,textAnchor:"middle",verticalAnchor:d},A):i==="insideTopLeft"?Te({x:a+m,y:o+c,textAnchor:g,verticalAnchor:f},A):i==="insideTopRight"?Te({x:a+s-m,y:o+c,textAnchor:y,verticalAnchor:f},A):i==="insideBottomLeft"?Te({x:a+m,y:o+l-c,textAnchor:g,verticalAnchor:d},A):i==="insideBottomRight"?Te({x:a+s-m,y:o+l-c,textAnchor:y,verticalAnchor:d},A):i&&typeof i=="object"&&(ie(i.x)||mr(i.x))&&(ie(i.y)||mr(i.y))?Te({x:a+ar(i.x,s),y:o+ar(i.y,l),textAnchor:"end",verticalAnchor:"end"},A):Te({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},A)},aC=e=>"cx"in e&&ie(e.cx);function Qe(e){var{offset:t=5}=e,r=Vf(e,Yk),n=Te({offset:t},r),{viewBox:i,position:a,value:o,children:s,content:l,className:u="",textBreakAll:c,labelRef:d}=n,f=la(),h=i||f;if(!h||Ee(o)&&Ee(s)&&!v.isValidElement(l)&&typeof l!="function")return null;if(v.isValidElement(l)){var{labelRef:m}=n,y=Vf(n,Gk);return v.cloneElement(l,y)}var g;if(typeof l=="function"){if(g=v.createElement(l,n),v.isValidElement(g))return g}else g=eC(n);var x=aC(h),b=we(n,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return rC(n,g,b);var w=x?nC(n):iC(n,h);return v.createElement(Sc,$t({ref:d,className:xe("recharts-label",u)},b,w,{breakAll:c}),g)}Qe.displayName="Label";var ty=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:u,x:c,y:d,top:f,left:h,width:m,height:y,clockWise:g,labelViewBox:x}=e;if(x)return x;if(ie(m)&&ie(y)){if(ie(c)&&ie(d))return{x:c,y:d,width:m,height:y};if(ie(f)&&ie(h))return{x:f,y:h,width:m,height:y}}if(ie(c)&&ie(d))return{x:c,y:d,width:0,height:0};if(ie(t)&&ie(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:u||s||o||0,clockWise:g};if(e.viewBox)return e.viewBox},oC=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(Qe,$t({key:"label-implicit"},n)):vt(e)?v.createElement(Qe,$t({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===Qe?v.cloneElement(e,Te({key:"label-implicit"},n)):v.createElement(Qe,$t({key:"label-implicit",content:e},n)):Ac(e)?v.createElement(Qe,$t({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(Qe,$t({},e,{key:"label-implicit"},n)):null},sC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,o=ty(t),s=Lp(i,Qe).map((u,c)=>v.cloneElement(u,{viewBox:r||o,key:"label-".concat(c)}));if(!n)return s;var l=oC(t.label,r||o,a);return[l,...s]};Qe.parseViewBox=ty;Qe.renderCallByParent=sC;var os={},ss={},Gf;function lC(){return Gf||(Gf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(ss)),ss}var ls={},Jf;function cC(){return Jf||(Jf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(ls)),ls}var Xf;function uC(){return Xf||(Xf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lC(),r=cC(),n=hl();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i}(os)),os}var cs,Qf;function dC(){return Qf||(Qf=1,cs=uC().last),cs}var fC=dC();const pC=Kt(fC);var hC=["valueAccessor"],gC=["data","dataKey","clockWise","id","textBreakAll"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zf(Object(r),!0).forEach(function(n){mC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mC(e,t,r){return(t=yC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=vC(e,"string");return typeof t=="symbol"?t:t+""}function vC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(e,t){if(e==null)return{};var r,n,i=xC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xC(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bC=e=>Array.isArray(e.value)?pC(e.value):e.value;function Pr(e){var{valueAccessor:t=bC}=e,r=tp(e,hC),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,l=tp(r,gC);return!n||!n.length?null:v.createElement(zt,{className:"recharts-label-list"},n.map((u,c)=>{var d=Ee(i)?t(u,c):ct(u&&u.payload,i),f=Ee(o)?{}:{id:"".concat(o,"-").concat(c)};return v.createElement(Qe,Ri({},we(u,!0),l,f,{parentViewBox:u.parentViewBox,value:d,textBreakAll:s,viewBox:Qe.parseViewBox(Ee(a)?u:ep(ep({},u),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}Pr.displayName="LabelList";function wC(e,t){return e?e===!0?v.createElement(Pr,{key:"labelList-implicit",data:t}):v.isValidElement(e)||Ac(e)?v.createElement(Pr,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Pr,Ri({data:t},e,{key:"labelList-implicit"})):null:null}function SC(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Lp(n,Pr).map((o,s)=>v.cloneElement(o,{data:t,key:"labelList-".concat(s)}));if(!r)return i;var a=wC(e.label,t);return[a,...i]}Pr.renderCallByParent=SC;function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qs.apply(null,arguments)}var ry=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=xe("recharts-dot",i);return t===+t&&r===+r&&n===+n?v.createElement("circle",Qs({},we(e,!1),fl(e),{className:a,cx:t,cy:r,r:n})):null},AC={radiusAxis:{},angleAxis:{}},ny=wt({name:"polarAxis",initialState:AC,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:d2,removeRadiusAxis:f2,addAngleAxis:p2,removeAngleAxis:h2}=ny.actions,PC=ny.reducer,jC={countOfBars:0,cartesianItems:[],polarItems:[]},iy=wt({name:"graphicalItems",initialState:jC,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=nr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=nr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:g2,removeBar:m2,addCartesianGraphicalItem:kC,removeCartesianGraphicalItem:CC,addPolarGraphicalItem:y2,removePolarGraphicalItem:v2}=iy.actions,OC=iy.reducer;function rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rp(Object(r),!0).forEach(function(n){EC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EC(e,t,r){return(t=TC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=DC(e,"string");return typeof t=="symbol"?t:t+""}function DC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NC(e){var t=Ue();return v.useEffect(()=>{var r=np(np({},e),{},{stackId:cb(e.stackId)});return t(kC(r)),()=>{t(CC(r))}},[t,e]),null}function _C(e){var{fn:t,args:r}=e,n=Ue(),i=et();return v.useEffect(()=>{if(!i){var a=t(r);return n(KP(a)),()=>{n(VP(a))}}},[t,r,n,i]),null}var IC=()=>{};function MC(e){var{legendPayload:t}=e,r=Ue(),n=et();return v.useEffect(()=>n?IC:(r(Eb(t)),()=>{r(Tb(t))}),[r,n,t]),null}function $C(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(bn(t)),n=v.useRef(e);return n.current!==e&&(r.current=bn(t),n.current=e),r.current}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(n){RC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RC(e,t,r){return(t=BC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BC(e){var t=LC(e,"string");return typeof t=="symbol"?t:t+""}function LC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FC=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=ap(ap({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},we(i,!1)),fl(i)),s;return v.isValidElement(i)?s=v.cloneElement(i,o):typeof i=="function"?s=i(o):s=v.createElement(ry,o),v.createElement(zt,{className:"recharts-active-dot"},s)};function zC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=Wm(),o=te(Mi),s=te(zm);if(!o)return null;var l,u=a.dataKey;if(u&&!a.allowDuplicatedCategory){var c=typeof u=="function"?d=>u(d.payload):"payload.".concat(u);l=cl(t,c,s)}else l=t?.[Number(o)];return Ee(l)?null:FC({point:l,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n})}var WC=["children"];function qC(e,t){if(e==null)return{};var r,n,i=UC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UC(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var op=()=>{},ay=v.createContext({addErrorBar:op,removeErrorBar:op}),HC={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},oy=v.createContext(HC);function KC(e){var{children:t}=e,r=qC(e,WC);return v.createElement(oy.Provider,{value:r},t)}var VC=()=>v.useContext(oy),YC=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:o,stackId:s,hide:l,type:u,barSize:c}=e,[d,f]=v.useState([]),h=v.useCallback(g=>{f(x=>[...x,g])},[f]),m=v.useCallback(g=>{f(x=>x.filter(b=>b!==g))},[f]),y=et();return v.createElement(ay.Provider,{value:{addErrorBar:h,removeErrorBar:m}},v.createElement(NC,{type:u,data:o,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:d,stackId:s,hide:l,barSize:c,isPanorama:y}),t)};function GC(e){var{addErrorBar:t,removeErrorBar:r}=v.useContext(ay);return v.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var JC=e=>{var t=et();return te(r=>ja(r,"xAxis",e,t))},XC=e=>{var t=et();return te(r=>ja(r,"yAxis",e,t))},QC=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function sy(e,t,r){return(t=ZC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZC(e){var t=eO(e,"string");return typeof t=="symbol"?t:t+""}function eO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tn.apply(null,arguments)}function tO(e,t){if(e==null)return{};var r,n,i=rO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nO(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s}=e,l=tO(e,QC),u=we(l,!1),{data:c,dataPointFormatter:d,xAxisId:f,yAxisId:h,errorBarOffset:m}=VC(),y=JC(f),g=XC(h);if(y?.scale==null||g?.scale==null||c==null||t==="x"&&y.type!=="number")return null;var x=c.map(b=>{var{x:w,y:j,value:A,errorVal:k}=d(b,n,t);if(!k)return null;var P=[],T,I;if(Array.isArray(k)?[T,I]=k:T=I=k,t==="x"){var{scale:$}=y,O=j+m,z=O+r,N=O-r,D=$(A-T),U=$(A+I);P.push({x1:U,y1:z,x2:U,y2:N}),P.push({x1:D,y1:O,x2:U,y2:O}),P.push({x1:D,y1:z,x2:D,y2:N})}else if(t==="y"){var{scale:R}=g,L=w+m,Z=L-r,ee=L+r,le=R(A-T),ne=R(A+I);P.push({x1:Z,y1:ne,x2:ee,y2:ne}),P.push({x1:L,y1:le,x2:L,y2:ne}),P.push({x1:Z,y1:le,x2:ee,y2:le})}var Y="".concat(w+m,"px ").concat(j+m,"px");return v.createElement(zt,Tn({className:"recharts-errorBar",key:"bar-".concat(P.map(he=>"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)))},u),P.map(he=>{var re=i?{transformOrigin:"".concat(he.x1-5,"px")}:void 0;return v.createElement(Si,{from:{transform:"scaleY(0)",transformOrigin:Y},to:{transform:"scaleY(1)",transformOrigin:Y},begin:a,easing:s,isActive:i,duration:o,key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2),style:{transformOrigin:Y}},v.createElement("line",Tn({},he,{style:re})))}))});return v.createElement(zt,{className:"recharts-errorBars"},x)}var ly=v.createContext(void 0);function iO(e){var t=v.useContext(ly);return e??t??"x"}function aO(e){var{direction:t,children:r}=e;return v.createElement(ly.Provider,{value:t},r)}var cy={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function oO(e){var t=iO(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o}=Yr(e,cy);return v.createElement(v.Fragment,null,v.createElement(GC,{dataKey:e.dataKey,direction:t}),v.createElement(nO,Tn({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:o})))}class uy extends v.Component{render(){return v.createElement(oO,this.props)}}sy(uy,"defaultProps",cy);sy(uy,"displayName","ErrorBar");function dy(e,t){var r,n,i=te(u=>_t(u,e)),a=te(u=>Yt(u,t)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:it.allowDataOverflow,s=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:at.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function sO(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=ca(),{needClipX:a,needClipY:o,needClip:s}=dy(t,r);if(!s)return null;var{left:l,top:u,width:c,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}var lO=e=>{var{chartData:t}=e,r=Ue(),n=et();return v.useEffect(()=>n?()=>{}:(r(Tf(t)),()=>{r(Tf(void 0))}),[t,r,n]),null},sp={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fy=wt({name:"brush",initialState:sp,reducers:{setBrushSettings(e,t){return t.payload==null?sp:t.payload}}}),{setBrushSettings:x2}=fy.actions,cO=fy.reducer;function lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lp(Object(r),!0).forEach(function(n){py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function py(e,t,r){return(t=uO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=dO(e,"string");return typeof t=="symbol"?t:t+""}function dO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fO=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},pO=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return fO({x:t,y:r},{x:n,y:i})};class Ea{static create(t){return new Ea(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}py(Ea,"EPS",1e-4);var hO=e=>{var t=Object.keys(e).reduce((r,n)=>ni(ni({},r),{},{[n]:Ea.create(e[n])}),{});return ni(ni({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(a=>{var[o,s]=a;return[o,t[o].apply(s,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function gO(e){return(e%180+180)%180}var mO=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gO(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},yO={dots:[],areas:[],lines:[]},hy=wt({name:"referenceElements",initialState:yO,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=nr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=nr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=nr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:b2,removeDot:w2,addArea:S2,removeArea:A2,addLine:vO,removeLine:xO}=hy.actions,bO=hy.reducer,gy=v.createContext(void 0),wO=e=>{var{children:t}=e,[r]=v.useState("".concat(bn("recharts"),"-clip")),n=ca();if(n==null)return null;var{left:i,top:a,height:o,width:s}=n;return v.createElement(gy.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)},SO=()=>v.useContext(gy);function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cp(Object(r),!0).forEach(function(n){Pc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pc(e,t,r){return(t=AO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AO(e){var t=PO(e,"string");return typeof t=="symbol"?t:t+""}function PO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(null,arguments)}var jO=(e,t)=>{var r;return v.isValidElement(e)?r=v.cloneElement(e,t):typeof e=="function"?r=e(t):r=v.createElement("line",Zs({},t,{className:"recharts-reference-line-line"})),r},kO=(e,t,r,n,i,a,o,s,l)=>{var{x:u,y:c,width:d,height:f}=i;if(r){var{y:h}=l,m=e.y.apply(h,{position:a});if(ut(m)||l.ifOverflow==="discard"&&!e.y.isInRange(m))return null;var y=[{x:u+d,y:m},{x:u,y:m}];return s==="left"?y.reverse():y}if(t){var{x:g}=l,x=e.x.apply(g,{position:a});if(ut(x)||l.ifOverflow==="discard"&&!e.x.isInRange(x))return null;var b=[{x,y:c+f},{x,y:c}];return o==="top"?b.reverse():b}if(n){var{segment:w}=l,j=w.map(A=>e.apply(A,{position:a}));return l.ifOverflow==="discard"&&j.some(A=>!e.isInRange(A))?null:j}return null};function CO(e){var t=Ue();return v.useEffect(()=>(t(vO(e)),()=>{t(xO(e))})),null}function OO(e){var{x:t,y:r,segment:n,xAxisId:i,yAxisId:a,shape:o,className:s,ifOverflow:l}=e,u=et(),c=SO(),d=te(O=>_t(O,i)),f=te(O=>Yt(O,a)),h=te(O=>or(O,"xAxis",i,u)),m=te(O=>or(O,"yAxis",a,u)),y=la(),g=vt(t),x=vt(r);if(!c||!y||d==null||f==null||h==null||m==null)return null;var b=hO({x:h,y:m}),w=n&&n.length===2,j=kO(b,g,x,w,y,e.position,d.orientation,f.orientation,e);if(!j)return null;var[{x:A,y:k},{x:P,y:T}]=j,I=l==="hidden"?"url(#".concat(c,")"):void 0,$=up(up({clipPath:I},we(e,!0)),{},{x1:A,y1:k,x2:P,y2:T});return v.createElement(zt,{className:xe("recharts-reference-line",s)},jO(o,$),Qe.renderCallByParent(e,pO({x1:A,y1:k,x2:P,y2:T})))}function EO(e){return v.createElement(v.Fragment,null,v.createElement(CO,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),v.createElement(OO,e))}class jc extends v.Component{render(){return v.createElement(EO,this.props)}}Pc(jc,"displayName","ReferenceLine");Pc(jc,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function us(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function my(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function TO(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mO(n,r)}function DO(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Bi(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function NO(e,t){return my(e,t+1)}function _O(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var m=n?.[l];if(m===void 0)return{v:my(n,u)};var y=l,g,x=()=>(g===void 0&&(g=r(m,y)),g),b=m.coordinate,w=l===0||Bi(e,b,x,c,s);w||(l=0,c=o,u+=1),w&&(c=b+e*(x()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dp(Object(r),!0).forEach(function(n){IO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IO(e,t,r){return(t=MO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e){var t=$O(e,"string");return typeof t=="symbol"?t:t+""}function $O(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RO(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(f){var h=a[f],m,y=()=>(m===void 0&&(m=r(h,f)),m);if(f===o-1){var g=e*(h.coordinate+e*y()/2-l);a[f]=h=qe(qe({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else a[f]=h=qe(qe({},h),{},{tickCoord:h.coordinate});var x=Bi(e,h.tickCoord,y,s,l);x&&(l=h.tickCoord-e*(y()/2+i),a[f]=qe(qe({},h),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function BO(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),f=e*(c.coordinate+e*d/2-u);o[s-1]=c=qe(qe({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate});var h=Bi(e,c.tickCoord,()=>d,l,u);h&&(u=c.tickCoord-e*(d/2+i),o[s-1]=qe(qe({},c),{},{isShow:!0}))}for(var m=a?s-1:s,y=function(b){var w=o[b],j,A=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var k=e*(w.coordinate-e*A()/2-l);o[b]=w=qe(qe({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=qe(qe({},w),{},{tickCoord:w.coordinate});var P=Bi(e,w.tickCoord,A,l,u);P&&(l=w.tickCoord+e*(A()/2+i),o[b]=qe(qe({},w),{},{isShow:!0}))},g=0;g<m;g++)y(g);return o}function LO(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(ie(l)||Nn.isSsr){var f;return(f=NO(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?xn(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,j)=>{var A=typeof u=="function"?u(w.value,j):w.value;return m==="width"?TO(xn(A,{fontSize:t,letterSpacing:r}),y,d):xn(A,{fontSize:t,letterSpacing:r})[m]},x=i.length>=2?Ct(i[1].coordinate-i[0].coordinate):1,b=DO(a,x,m);return l==="equidistantPreserveStart"?_O(x,b,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=BO(x,b,g,i,o,l==="preserveStartEnd"):h=RO(x,b,g,i,o),h.filter(w=>w.isShow))}var FO=["viewBox"],zO=["viewBox"];function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Br.apply(null,arguments)}function fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fp(Object(r),!0).forEach(function(n){kc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pp(e,t){if(e==null)return{};var r,n,i=WO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kc(e,t,r){return(t=qO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=UO(e,"string");return typeof t=="symbol"?t:t+""}function UO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rn extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=pp(t,FO),a=this.props,{viewBox:o}=a,s=pp(a,zO);return!us(n,o)||!us(i,s)||!us(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:s,mirror:l,tickMargin:u}=this.props,c,d,f,h,m,y,g=l?-1:1,x=t.tickSize||s,b=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":c=d=t.coordinate,h=n+ +!l*a,f=h-g*x,y=f-g*u,m=b;break;case"left":f=h=t.coordinate,d=r+ +!l*i,c=d-g*x,m=c-g*u,y=b;break;case"right":f=h=t.coordinate,d=r+ +l*i,c=d+g*x,m=c+g*u,y=b;break;default:c=d=t.coordinate,h=n+ +l*a,f=h+g*x,y=f+g*u,m=b;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=_e(_e(_e({},we(this.props,!1)),we(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);l=_e(_e({},l),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var c=+(a==="left"&&!o||a==="right"&&o);l=_e(_e({},l),{},{x1:t+c*n,y1:r,x2:t+c*n,y2:r+i})}return v.createElement("line",Br({},l,{className:xe("recharts-cartesian-axis-line",jr(s,"className"))}))}static renderTickItem(t,r,n){var i,a=xe(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,_e(_e({},r),{},{className:a}));else if(typeof t=="function")i=t(_e(_e({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=xe(o,t.className)),i=v.createElement(Sc,Br({},r,{className:o}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l}=this.props,u=LO(_e(_e({},this.props),{},{ticks:n}),t,r),c=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),f=we(this.props,!1),h=we(o,!1),m=_e(_e({},f),{},{fill:"none"},we(i,!1)),y=u.map((g,x)=>{var{line:b,tick:w}=this.getTickLineCoord(g),j=_e(_e(_e(_e({textAnchor:c,verticalAnchor:d},f),{},{stroke:"none",fill:a},h),w),{},{index:x,payload:g,visibleTicksCount:u.length,tickFormatter:s});return v.createElement(zt,Br({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},Av(this.props,g,x)),i&&v.createElement("line",Br({},m,b,{className:xe("recharts-cartesian-axis-tick-line",jr(i,"className"))})),o&&rn.renderTickItem(o,j,"".concat(typeof s=="function"?s(g.value,x):g.value).concat(l||"")))});return y.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:v.createElement(zt,{className:xe("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,d=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Qe.renderCallByParent(this.props))}}kc(rn,"displayName","CartesianAxis");kc(rn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yy=(e,t,r,n)=>ja(e,"xAxis",t,n),vy=(e,t,r,n)=>Pm(e,"xAxis",t,n),xy=(e,t,r,n)=>ja(e,"yAxis",r,n),by=(e,t,r,n)=>Pm(e,"yAxis",r,n),HO=_([ke,yy,xy,vy,by],(e,t,r,n,i)=>lr(e,"xAxis")?Os(t,n,!1):Os(r,i,!1)),KO=(e,t,r,n,i)=>i,VO=_([Jg,KO],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),YO=_([ke,yy,xy,vy,by,VO,HO,Og],(e,t,r,n,i,a,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:d,data:f}=a,h;if(f!=null&&f.length>0?h=f:h=l?.slice(u,c+1),h!=null)return pE({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:h})}}),GO=["type","layout","connectNulls","needClip"],JO=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function wy(e,t){if(e==null)return{};var r,n,i=XO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ta(e,t,r){return(t=QO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=ZO(e,"string");return typeof t=="symbol"?t:t+""}function ZO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vr.apply(null,arguments)}var eE=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:$h(r,t),payload:e}]};function tE(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:$h(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var Sy=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rE(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var nE=(e,t,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return Sy(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,s=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){s=[...r.slice(0,l),a-u];break}var c=s.length%2===0?[0,o]:[o];return[...rE(r,i),...s,...c].map(d=>"".concat(d,"px")).join(", ")};function iE(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=xe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(ry,Vr({},t,{className:n}))}return r}function aE(e,t){return e==null?!1:t?!0:e.length===1}function oE(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!aE(r,i))return null;var s=Fp(i),l=we(n,!1),u=we(i,!0),c=r.map((f,h)=>{var m=Pt(Pt(Pt({key:"dot-".concat(h),r:3},l),u),{},{index:h,cx:f.x,cy:f.y,dataKey:a,value:f.value,payload:f.payload,points:r});return iE(i,m)}),d={clipPath:o?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):null};return v.createElement(zt,Vr({className:"recharts-line-dots",key:"dots"},d),c)}function el(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=e,{type:s,layout:l,connectNulls:u,needClip:c}=a,d=wy(a,GO),f=Pt(Pt({},we(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):null,points:n,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,n?.length>1&&v.createElement(zh,Vr({},f,{pathRef:r})),v.createElement(oE,{points:n,clipPathId:t,props:a}),o&&Pr.renderCallByParent(a,n))}function sE(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lE(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:f,width:h,height:m,onAnimationEnd:y,onAnimationStart:g}=r,x=i.current,b=$C(r,"recharts-line-"),[w,j]=v.useState(!1),A=v.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),k=v.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]),P=sE(n.current),T=a.current;return v.createElement(Si,{begin:u,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:A,onAnimationStart:k,key:b},I=>{var{t:$}=I,O=on(T,P+T),z=Math.min(O($),P),N;if(s){var D="".concat(s).split(/[,\s]+/gim).map(L=>parseFloat(L));N=nE(z,P,D)}else N=Sy(P,z);if(x){var U=x.length/o.length,R=$===1?o:o.map((L,Z)=>{var ee=Math.floor(Z*U);if(x[ee]){var le=x[ee],ne=on(le.x,L.x),Y=on(le.y,L.y);return Pt(Pt({},L),{},{x:ne($),y:Y($)})}if(f){var he=on(h*2,L.x),re=on(m/2,L.y);return Pt(Pt({},L),{},{x:he($),y:re($)})}return Pt(Pt({},L),{},{x:L.x,y:L.y})});return i.current=R,v.createElement(el,{props:r,points:R,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:N})}return $>0&&P>0&&(i.current=o,a.current=z),v.createElement(el,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:N})})}function cE(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:i}=r,a=v.useRef(null),o=v.useRef(0),s=v.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?v.createElement(lE,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:s}):v.createElement(el,{props:r,points:n,clipPathId:t,pathRef:s,showLabels:!0})}var uE=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ct(e.payload,t)});class dE extends v.Component{constructor(){super(...arguments),Ta(this,"id",bn("recharts-line-"))}render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:u,width:c,height:d,id:f,needClip:h,layout:m}=this.props;if(r)return null;var y=xe("recharts-line",a),g=Ee(f)?this.id:f,{r:x=3,strokeWidth:b=2}=(t=we(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=Fp(n),j=x*2+b;return v.createElement(v.Fragment,null,v.createElement(zt,{className:y},h&&v.createElement("defs",null,v.createElement(sO,{clipPathId:g,xAxisId:o,yAxisId:s}),!w&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:u-j/2,y:l-j/2,width:c+j,height:d+j}))),v.createElement(cE,{props:this.props,clipPathId:g}),v.createElement(aO,{direction:m==="horizontal"?"y":"x"},v.createElement(KC,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:uE,errorBarOffset:0},this.props.children))),v.createElement(zC,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Ay={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Nn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function fE(e){var t=Yr(e,Ay),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:f,xAxisId:h,yAxisId:m}=t,y=wy(t,JO),{needClip:g}=dy(h,m),{height:x,width:b,left:w,top:j}=ca(),A=Cl(),k=et(),P=v.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),T=te(I=>YO(I,h,m,k,P));return A!=="horizontal"&&A!=="vertical"?null:v.createElement(dE,Vr({},y,{connectNulls:s,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:c,hide:u,label:d,legendType:f,xAxisId:h,yAxisId:m,points:T,layout:A,height:x,width:b,left:w,top:j,needClip:g}))}function pE(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,c)=>{var d=ct(u,o);return t==="horizontal"?{x:id({axis:r,ticks:i,bandSize:s,entry:u,index:c}),y:Ee(d)?null:n.scale(d),value:d,payload:u}:{x:Ee(d)?null:r.scale(d),y:id({axis:n,ticks:a,bandSize:s,entry:u,index:c}),value:d,payload:u}})}class Li extends v.PureComponent{render(){return v.createElement(YC,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},v.createElement(MC,{legendPayload:eE(this.props)}),v.createElement(_C,{fn:tE,args:this.props}),v.createElement(fE,this.props))}}Ta(Li,"displayName","Line");Ta(Li,"defaultProps",Ay);function gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(r),!0).forEach(function(n){hE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hE(e,t,r){return(t=gE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e){var t=mE(e,"string");return typeof t=="symbol"?t:t+""}function mE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yE={xAxis:{},yAxis:{},zAxis:{}},Py=wt({name:"cartesianAxis",initialState:yE,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=mp(mp({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:vE,removeXAxis:xE,addYAxis:bE,removeYAxis:wE,addZAxis:P2,removeZAxis:j2,updateYAxisWidth:SE}=Py.actions,AE=Py.reducer,PE=["children"],jE=["dangerouslySetInnerHTML","ticks"];function jy(e,t,r){return(t=kE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e){var t=CE(e,"string");return typeof t=="symbol"?t:t+""}function CE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(null,arguments)}function ky(e,t){if(e==null)return{};var r,n,i=OE(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EE(e){var t=Ue(),r=v.useMemo(()=>{var{children:a}=e,o=ky(e,PE);return o},[e]),n=te(a=>_t(a,r.id)),i=r===n;return v.useEffect(()=>(t(vE(r)),()=>{t(xE(r))}),[r,t]),i?e.children:null}var TE=e=>{var{xAxisId:t,className:r}=e,n=te(Bh),i=et(),a="xAxis",o=te(h=>or(h,a,t,i)),s=te(h=>Am(h,a,t,i)),l=te(h=>DP(h,t)),u=te(h=>$P(h,t));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d}=e,f=ky(e,jE);return v.createElement(rn,tl({},f,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:xe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},DE=e=>{var t,r,n,i,a;return v.createElement(EE,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},v.createElement(TE,e))};class Cc extends v.Component{render(){return v.createElement(DE,this.props)}}jy(Cc,"displayName","XAxis");jy(Cc,"defaultProps",{allowDataOverflow:it.allowDataOverflow,allowDecimals:it.allowDecimals,allowDuplicatedCategory:it.allowDuplicatedCategory,height:it.height,hide:!1,mirror:it.mirror,orientation:it.orientation,padding:it.padding,reversed:it.reversed,scale:it.scale,tickCount:it.tickCount,type:it.type,xAxisId:0});var NE=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},_E=["dangerouslySetInnerHTML","ticks"];function Cy(e,t,r){return(t=IE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IE(e){var t=ME(e,"string");return typeof t=="symbol"?t:t+""}function ME(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(null,arguments)}function $E(e,t){if(e==null)return{};var r,n,i=RE(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BE(e){var t=Ue();return v.useEffect(()=>(t(bE(e)),()=>{t(wE(e))}),[e,t]),null}var LE=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,o=v.useRef(null),s=v.useRef(null),l=te(Bh),u=et(),c=Ue(),d="yAxis",f=te(w=>or(w,d,r,u)),h=te(w=>BP(w,r)),m=te(w=>RP(w,r)),y=te(w=>Am(w,d,r,u));if(v.useLayoutEffect(()=>{var w;if(!(i!=="auto"||!h||Ac(a)||v.isValidElement(a))){var j=o.current,A=j==null||(w=j.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:k,tickMargin:P}=j.props,T=NE({ticks:A,label:s.current,labelGapWithTick:5,tickSize:k,tickMargin:P});Math.round(h.width)!==Math.round(T)&&c(SE({id:r,width:T}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,h?.width,h,c,a,r,i]),h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=$E(e,_E);return v.createElement(rn,rl({},b,{ref:o,labelRef:s,scale:f,x:m.x,y:m.y,width:h.width,height:h.height,className:xe("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:y}))},FE=e=>{var t,r,n,i,a;return v.createElement(v.Fragment,null,v.createElement(BE,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),v.createElement(LE,e))},zE={allowDataOverflow:at.allowDataOverflow,allowDecimals:at.allowDecimals,allowDuplicatedCategory:at.allowDuplicatedCategory,hide:!1,mirror:at.mirror,orientation:at.orientation,padding:at.padding,reversed:at.reversed,scale:at.scale,tickCount:at.tickCount,type:at.type,width:at.width,yAxisId:0};class Fi extends v.Component{render(){return v.createElement(FE,this.props)}}Cy(Fi,"displayName","YAxis");Cy(Fi,"defaultProps",zE);var ds={exports:{}},fs={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function WE(){if(yp)return fs;yp=1;var e=Yi();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return fs.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=o(function(){function g(A){if(!x){if(x=!0,b=A,A=d(A),f!==void 0&&m.hasValue){var k=m.value;if(f(k,A))return w=k}return w=A}if(k=w,r(b,A))return k;var P=d(A);return f!==void 0&&f(k,P)?(b=A,k):(b=A,w=P)}var x=!1,b,w,j=c===void 0?null:c;return[function(){return g(u())},j===null?void 0:function(){return g(j())}]},[u,c,d,f]);var y=n(l,h[0],h[1]);return a(function(){m.hasValue=!0,m.value=y},[y]),s(y),y},fs}var vp;function qE(){return vp||(vp=1,ds.exports=WE()),ds.exports}qE();function UE(e){e()}function HE(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UE(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var xp={notify(){},get:()=>[]};function KE(e,t){let r,n=xp,i=0,a=!1;function o(y){c();const g=n.subscribe(y);let x=!1;return()=>{x||(x=!0,g(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=HE())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=xp)}function f(){a||(a=!0,c())}function h(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return m}var VE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YE=VE(),GE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JE=GE(),XE=()=>YE||JE?v.useLayoutEffect:v.useEffect,QE=XE(),ZE=Symbol.for("react-redux-context"),eT=typeof globalThis<"u"?globalThis:{};function tT(){if(!v.createContext)return{};const e=eT[ZE]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var rT=tT();function nT(e){const{children:t,context:r,serverState:n,store:i}=e,a=v.useMemo(()=>{const l=KE(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=v.useMemo(()=>i.getState(),[i]);QE(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||rT;return v.createElement(s.Provider,{value:a},t)}var iT=nT,aT=(e,t)=>t,Oc=_([aT,ke,VA,Le,Rm,Gt,Bj,He],Hj),Ec=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Oy=xt("mouseClick"),Ey=Dn();Ey.startListening({actionCreator:Oy,effect:(e,t)=>{var r=e.payload,n=Oc(t.getState(),Ec(r));n?.activeIndex!=null&&t.dispatch(JP({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nl=xt("mouseMove"),Ty=Dn();Ty.startListening({actionCreator:nl,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=hc(n,n.tooltip.settings.shared),a=Oc(n,Ec(r));i==="axis"&&(a?.activeIndex!=null?t.dispatch(Dm({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Tm()))}});function oT(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var bp={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Dy=wt({name:"rootProps",initialState:bp,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bp.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),sT=Dy.reducer,{updateOptions:lT}=Dy.actions,Ny=wt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:k2}=Ny.actions,cT=Ny.reducer,_y=xt("keyDown"),Iy=xt("focus"),Tc=Dn();Tc.startListening({actionCreator:_y,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(gc(i,_r(r))),s=Gt(r);if(a==="Enter"){var l=$i(r,"axis","hover",String(i.index));t.dispatch(Vs({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=WP(r),c=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=o+d*c;if(!(s==null||f>=s.length||f<0)){var h=$i(r,"axis","hover",String(f));t.dispatch(Vs({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});Tc.startListening({actionCreator:Iy,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=$i(r,"axis","hover",String(a));t.dispatch(Vs({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ht=xt("externalEvent"),My=Dn();My.startListening({actionCreator:ht,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Cj(r),activeDataKey:Pj(r),activeIndex:Mi(r),activeLabel:zm(r),activeTooltipIndex:Mi(r),isTooltipActive:Oj(r)};e.payload.handler(n,e.payload.reactEvent)}}});var uT=_([en],e=>e.tooltipItemPayloads),dT=_([uT,ka,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),$y=xt("touchMove"),Ry=Dn();Ry.startListening({actionCreator:$y,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=hc(n,n.tooltip.settings.shared);if(i==="axis"){var a=Oc(n,Ec({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&t.dispatch(Dm({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(yb),c=(o=l.getAttribute(vb))!==null&&o!==void 0?o:void 0,d=dT(t.getState(),u,c);t.dispatch(GP({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}});var fT=ph({brush:cO,cartesianAxis:AE,chartData:lk,graphicalItems:OC,layout:Wx,legend:Db,options:nk,polarAxis:PC,polarOptions:cT,referenceElements:bO,rootProps:sT,tooltip:XP}),pT=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return px({reducer:fT,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([Ey.middleware,Ty.middleware,Tc.middleware,My.middleware,Ry.middleware]),devTools:{serialize:{replacer:oT},name:"recharts-".concat(r)}})};function hT(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=et(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=pT(t,n));var o=xl;return v.createElement(iT,{context:o,store:a.current},r)}function gT(e){var{layout:t,width:r,height:n,margin:i}=e,a=Ue(),o=et();return v.useEffect(()=>{o||(a(Lx(t)),a(Fx({width:r,height:n})),a(Bx(i)))},[a,o,t,r,n,i]),null}function mT(e){var t=Ue();return v.useEffect(()=>{t(lT(e))},[t,e]),null}var yT=["children"];function vT(e,t){if(e==null)return{};var r,n,i=xT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(null,arguments)}var bT={width:"100%",height:"100%"},wT=v.forwardRef((e,t)=>{var r=kb(),n=Cb(),i=Fh();if(!xi(r)||!xi(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0,v.createElement(zp,zi({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:bT,ref:t}),a)}),ST=e=>{var{children:t}=e,r=te(sa);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return v.createElement(zp,{width:n,height:i,x:o,y:a},t)},wp=v.forwardRef((e,t)=>{var{children:r}=e,n=vT(e,yT),i=et();return i?v.createElement(ST,null,r):v.createElement(wT,zi({ref:t},n),r)});function AT(){var e=Ue(),[t,r]=v.useState(null),n=te(mb);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ot(a)&&a!==n&&e(zx(a))}},[t,e,n]),r}function Sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sp(Object(r),!0).forEach(function(n){jT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jT(e,t,r){return(t=kT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=CT(e,"string");return typeof t=="symbol"?t:t+""}function CT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:m,onTouchStart:y,style:g,width:x}=e,b=Ue(),[w,j]=v.useState(null),[A,k]=v.useState(null);dk();var P=AT(),T=v.useCallback(Y=>{P(Y),typeof t=="function"&&t(Y),j(Y),k(Y)},[P,t,j,k]),I=v.useCallback(Y=>{b(Oy(Y)),b(ht({handler:a,reactEvent:Y}))},[b,a]),$=v.useCallback(Y=>{b(nl(Y)),b(ht({handler:u,reactEvent:Y}))},[b,u]),O=v.useCallback(Y=>{b(Tm()),b(ht({handler:c,reactEvent:Y}))},[b,c]),z=v.useCallback(Y=>{b(nl(Y)),b(ht({handler:d,reactEvent:Y}))},[b,d]),N=v.useCallback(()=>{b(Iy())},[b]),D=v.useCallback(Y=>{b(_y(Y.key))},[b]),U=v.useCallback(Y=>{b(ht({handler:o,reactEvent:Y}))},[b,o]),R=v.useCallback(Y=>{b(ht({handler:s,reactEvent:Y}))},[b,s]),L=v.useCallback(Y=>{b(ht({handler:l,reactEvent:Y}))},[b,l]),Z=v.useCallback(Y=>{b(ht({handler:f,reactEvent:Y}))},[b,f]),ee=v.useCallback(Y=>{b(ht({handler:y,reactEvent:Y}))},[b,y]),le=v.useCallback(Y=>{b($y(Y)),b(ht({handler:m,reactEvent:Y}))},[b,m]),ne=v.useCallback(Y=>{b(ht({handler:h,reactEvent:Y}))},[b,h]);return v.createElement(Vm.Provider,{value:w},v.createElement(Dv.Provider,{value:A},v.createElement("div",{className:xe("recharts-wrapper",n),style:PT({position:"relative",cursor:"default",width:x,height:i},g),role:"application",onClick:I,onContextMenu:U,onDoubleClick:R,onFocus:N,onKeyDown:D,onMouseDown:L,onMouseEnter:$,onMouseLeave:O,onMouseMove:z,onMouseUp:Z,onTouchEnd:ne,onTouchMove:le,onTouchStart:ee,ref:T},r)))}),ET=["children","className","width","height","style","compact","title","desc"];function TT(e,t){if(e==null)return{};var r,n,i=DT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NT=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:u}=e,c=TT(e,ET),d=we(c,!1);return s?v.createElement(wp,{otherAttributes:d,title:l,desc:u},r):v.createElement(OT,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(wp,{otherAttributes:d,title:l,desc:u,ref:t},v.createElement(wO,null,r)))}),_T=["width","height"];function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(null,arguments)}function IT(e,t){if(e==null)return{};var r,n,i=MT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $T={top:5,right:5,bottom:5,left:5},RT={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$T,reverseStackOrder:!1,syncMethod:"index"},BT=v.forwardRef(function(t,r){var n,i=Yr(t.categoricalChartProps,RT),{width:a,height:o}=i,s=IT(i,_T);if(!xi(a)||!xi(o))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(hT,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:l},v.createElement(lO,{chartData:f.data}),v.createElement(gT,{width:a,height:o,layout:i.layout,margin:i.margin}),v.createElement(mT,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(NT,il({},s,{width:a,height:o,ref:r})))}),LT=["axis"],FT=v.forwardRef((e,t)=>v.createElement(BT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LT,tooltipPayloadSearcher:tk,categoricalChartProps:e,ref:t}));const ii="rgb(140,185,162)",zT=({active:e,payload:t,label:r})=>{if(e&&t&&t.length&&t[0]&&t[0].value!=null){let n="",i="";if(t&&t[0]&&t[0].payload&&t[0].payload.timestampValue){const a=new Date(t[0].payload.timestampValue),o=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getFullYear()).slice(-2);n=`${o}-${s}-${l}`,i=a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}return p.jsxs("div",{style:{backgroundColor:"#000",border:`1px solid ${ii}`,padding:"8px",borderRadius:0,fontFamily:"Courier New"},children:[p.jsxs("p",{style:{color:ii,margin:0},children:[t[0].value.toFixed(2),"%"]}),p.jsx("p",{style:{color:ii,margin:0},children:i}),p.jsx("p",{style:{color:ii,margin:0},children:n})]})}return null};function WT(e,t){console.log("🔍 getAverageReturn called with timeframe:",t,"snapshots:",e.length);const r=new Date,n=24*60*60*1e3;switch(t){case"D":new Date(r.getFullYear(),r.getMonth(),r.getDate());break;case"W":new Date(r.getTime()-7*n);break;case"M":new Date(r.getTime()-30*n);break;case"Y":new Date(r.getTime()-365*n);break;case"YTD":new Date(r.getFullYear(),0,1);break}let i=0,a=0;for(const s of e){const l=s.symbol||"?",u=s.historicalData,c=s.buyDate,d=s.buyPrice;if(console.log(`[Header Loop] Processing ${l}: historicalData length: ${u?.length||0}, buyDate: ${c}, buyPrice: ${d}`),!Array.isArray(u))continue;const f=c&&new Date(c).toString()!=="Invalid Date"?c:null,{startPoint:h,endPoint:m}=Dc(u,t,f,l,d);if(console.log(`[Header Debug] ${l}: startPoint:`,h,"endPoint:",m),h&&m&&typeof h.price=="number"&&typeof m.price=="number"&&h.price>0){const y=(m.price-h.price)/h.price*100;console.log(`[Header %] ${l}:`),console.log("Start Point (header):",h),console.log("End Point (header):",m),console.log("Calculated Return (header):",y),console.log("Running total:",i,"count:",a),i+=y,a++}}const o=a>0?i/a:0;return console.log(`[Header Final] Total: ${i}, Count: ${a}, Average: ${o}%`),o}function Dc(e,t,r,n="?",i=null){if(!Array.isArray(e)||e.length===0)return{startPoint:null,endPoint:null};const a=new Date,o={D:"D",W:"WEEK",M:"MONTH",Y:"YEAR",YTD:"YTD",MAX:"MAX"}[t]||t;let s;switch(o){case"D":s=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"WEEK":s=new Date(a.getTime()-7*24*60*60*1e3);break;case"MONTH":s=new Date(a.getTime()-31*24*60*60*1e3);break;case"YEAR":s=new Date(a.getTime()-365*24*60*60*1e3);break;case"YTD":s=new Date(a.getFullYear(),0,1);break;case"MAX":default:s=null}const l=new Date(r||e[0]?.timestamp||a);s&&s.getTime()>l.getTime();function u(y,g){let x=0,b=y.length-1,w=0,j=Math.abs(new Date(y[0].timestamp)-g);for(;x<=b;){const A=Math.floor((x+b)/2),k=new Date(y[A].timestamp).getTime(),P=Math.abs(k-g);if(P<j&&(j=P,w=A),k<g)x=A+1;else if(k>g)b=A-1;else return A}return w}let c=null,d=null,f,h;if(t==="MAX")f=l,h=i&&!isNaN(i)?Number(i):e[0]?.price||0;else{const y=s||a;if(f=new Date(Math.max(l.getTime(),y.getTime())),f.getTime()===l.getTime())h=i&&!isNaN(i)?Number(i):e[0]?.price||0;else{const g=u(e,f.getTime());h=e[g]?.price||0}}const m=u(e,f.getTime());return c={...e[m],timestamp:f.toISOString(),price:h},d=e[e.length-1],console.log(`✅ Return calculation for ${n} (${t}):`),t==="MAX"?console.log(`✅ Start: Buy date ${l.toISOString()} → Buy Price: ${c.price}`):(console.log(`✅ Buy date: ${l.toISOString()}`),console.log(`✅ Timeframe start: ${s?.toISOString()||"now"}`),console.log(`✅ Effective start: ${f.toISOString()} → Price: ${c.price}`)),console.log(`✅ End: ${d?.timestamp} → Price: ${d?.price}`),c&&d&&c.price&&d.price&&console.log(`✅ Return: ${((d.price-c.price)/c.price*100).toFixed(2)}%`),c?d?(console.log(`Filtered ${e.length} → start = ${c?.price} @ ${c?.timestamp}, end = ${d?.price} @ ${d?.timestamp}, buyDate = ${l.toISOString()}`),{startPoint:c,endPoint:d}):(console.warn(`⛔ No valid endPoint found for ${n}`),{startPoint:null,endPoint:null}):(console.warn(`⛔ No valid startPoint found for ${n}`),{startPoint:null,endPoint:null})}const By=v.createContext(),Ap="rgb(140,185,162)",qT="#8CB9A2",Pp="#e31507",ps="#000",UT="#000000";function HT(e,t){if(!t)return e;const r=e.trim().toLowerCase();return r===ps||r===UT||r==="black"||r.startsWith("rgb(0,0,0)")?Ap:r===Ap||r===qT||r.startsWith("rgb(140,185,162)")?ps:r===Pp?Pp:ps}function KT({children:e}){const[t,r]=v.useState(!1),n=()=>r(i=>!i);return p.jsx(By.Provider,{value:{isInverted:t,toggleTheme:n},children:e})}function Jt(){return v.useContext(By)}function oe(e){const{isInverted:t}=Jt();return HT(e,t)}const VT="rgb(140,185,162)",Nc=({portfolioReturnData:e,height:t=300,showTooltip:r=!0,mini:n=!1,suppressEmptyMessage:i=!1})=>{const a=oe(VT),o=oe("black"),s=oe("#888"),l=v.useMemo(()=>{if(!Array.isArray(e)||e.length===0)return[];const j=e.map($=>{if(!$||!Array.isArray($.historicalData)||$.historicalData.length===0)return null;const{historicalData:O,buyDate:z,buyPrice:N,symbol:D,timeframe:U}=$,R=z&&new Date(z).toString()!=="Invalid Date"?z:null,{startPoint:L,endPoint:Z}=Dc(O,U,R,D,N);if(!L||!Z)return null;const ee=new Date(L.timestamp).getTime(),le=new Date(Z.timestamp).getTime();let ne=O.filter(Y=>{const he=new Date(Y.timestamp).getTime();return he>=ee&&he<=le}).map(Y=>({...Y,timestampValue:new Date(Y.timestamp).getTime()}));return ne.length>0&&ne[0].timestampValue>ee&&ne.unshift({...ne[0],timestamp:new Date(ee).toISOString(),timestampValue:ee,price:ne[0].price}),ne.length>0&&ne[ne.length-1].timestampValue<le&&ne.push({...ne[ne.length-1],timestamp:new Date(le).toISOString(),timestampValue:le,price:ne[ne.length-1].price}),{symbol:D,points:ne,timeframe:U,buyDate:z,buyPrice:N,startPoint:L}}).filter(Boolean);if(j.length===0)return[];const A=Array.from(new Set(j.flatMap($=>$.points.map(O=>O.timestampValue)))).sort(($,O)=>$-O);if(A.length===0)return[];const k=n?5:30,P=A.length<=k?1:Math.floor(A.length/k),T=A.filter(($,O)=>O%P===0);T[T.length-1]!==A[A.length-1]&&T.push(A[A.length-1]);const I=T.map(($,O)=>{const z=j.map(D=>{const U=D.points.findIndex(ee=>ee.timestampValue>=$),R=U===-1?D.points[D.points.length-1]:D.points[U],L=D.startPoint;if(!L||!R||L.price===0)return 0;const Z=(R.price-L.price)/L.price*100;return Number.isFinite(Z)?Z:0}),N=z.length?z.reduce((D,U)=>D+U,0)/z.length:0;return{timestampValue:$,returnPercent:Number.isFinite(N)?N:0,xIndex:O}});return console.log("Chart data points:",I),I},[e,n,JSON.stringify(e.map(j=>({symbol:j.symbol,buyPrice:j.buyPrice,buyDate:j.buyDate,timeframe:j.timeframe})))]),u=0,c=l.length>0?l[l.length-1].xIndex:void 0;if(!l||l.length===0)return i?null:p.jsx("div",{style:{textAlign:"center",padding:40,color:a,fontFamily:"'Courier New'",background:o},children:"No valid data to display yet."});const d=l.map(j=>Number.isFinite(j.returnPercent)?j.returnPercent:0),f=Math.min(...d),h=Math.max(...d),m=h-f,x=Math.max(m*.05,1);let b=f-x,w=h+x;return b===w&&(b-=1,w+=1),p.jsx("div",{style:{width:"100%",height:t,backgroundColor:"transparent",fontFamily:"Courier New",overflow:"hidden"},children:p.jsx(Ek,{width:"100%",height:"100%",children:p.jsx(FT,{data:l,margin:{top:5,right:5,left:-61,bottom:-31},children:n?p.jsxs(p.Fragment,{children:[p.jsx(Fi,{hide:!0,domain:[b,w],padding:{top:0,bottom:0},allowDataOverflow:!0}),p.jsx(Li,{type:"monotone",dataKey:"returnPercent",stroke:a,strokeWidth:2,dot:!1,activeDot:!1,isAnimationActive:!1})]}):p.jsxs(p.Fragment,{children:[p.jsx(Fi,{type:"number",domain:[b,w],tick:!1,axisLine:!0,tickLine:!1,stroke:a,strokeWidth:2,allowDataOverflow:!0}),p.jsx(Cc,{type:"number",dataKey:"xIndex",domain:[u,c],tick:!1,axisLine:!0,tickLine:!1,stroke:a,strokeWidth:2,scale:"linear",allowDataOverflow:!0}),p.jsx(jc,{y:0,stroke:s,strokeDasharray:"3 3"}),p.jsx(Li,{type:"monotone",dataKey:"returnPercent",stroke:a,strokeWidth:2,dot:{r:3,fill:a,stroke:o,strokeWidth:1},activeDot:{r:5,fill:a,stroke:a,strokeWidth:2},isAnimationActive:!1}),r&&p.jsx(xk,{content:zT,cursor:{stroke:a,strokeWidth:1,strokeDasharray:"2 2"},wrapperStyle:{position:"absolute",bottom:10,right:20,width:180,height:"auto",pointerEvents:"none",zIndex:10,margin:0,padding:8,boxSizing:"border-box"},filterNull:!0,isAnimationActive:!1})]})})})})},jp=["Today’s Edge","Quiet Capital","Simple Gains","Still Waters ETF","Monochrome Alpha","Code Zen","Tokyo Drift Fund","6AM Markets","Silent Buy-In","Whisper Equity","Margins & Moonlight","Espresso Exposure","The Black Candle","No Noise Holdings","White Line Risk","Bare NAV","Precision & Profit","Nōnai Investment","Folded Capital","Ink Thin Margin","ETF Me Later","Bull Sheet","Bagholders Anonymous","Pump & Zen","2% Club","Fade the Fed","Just the Tip… of the Chart","Buy High, Cry Later","Margin of Safety? Never Heard of Her","Quant & Furious","Diamond Hands Club","Degen Lite","Buffett’s Burner Wallet","Icarus Capital","Stoploss Therapy","Roaring Zen","YoloZen ETF","Theta Is My Safe Word","Long and Wrong","The Drawdown Diaries","Kintsugi Holdings","Kyō Balance","Tanaka Trades","Nami (Wave) Fund","Kanjo Capital","Tora Volatility","Kyū Capital","Nikkei Nights","Sumi Ink Index","Origami Alpha","404: Ticker Not Found","async(portfolio)","Fetching Gains…","The JSON Fund","SimuLedger","Web3Bois","Ctrl+Alt+Rebalance","LoFi Alpha","API or Die","Console.Log(Rich)","Fade","Wick","Drift","Latch","Fold","Snap","Bite","Risk","Ping","ZenVest","Dead Cat ETF","Rangebound AF","Opex Overload","Smart Beta Beta","Macro Micro Fund","CPI Szn","Taper Tears","FOMO Fund","Gensler’s Sandbox","Gamma Goblins","The Contrarian","The Ghost Trader","The Quiet Bull","The Daily Monk","The Candle Whisperer","The Macro Stoic","The Alpha Hermit","The Tape Reader","The Vol Addict","The Hedge Poet","Buy Buy Baby","NAVy Seals","Beta Males","Quants of Solitude","Emotional Damage Holdings","Mo’ Money, No Backend","Risk Management-ish","All Weather-ish","Zero Day Holds","Return of the MACD"];function Wi({numTickers:e=4,days:t=130,pointsPerDay:r=25,startPrice:n=100,volatility:i=8,name:a="Fixed Mock Watchlist",startDate:o=null}={}){const l=Math.floor(864e5/r),u=Date.now(),c=t*r,d=u-(c-1)*l;function f(m){let y=n+Math.random()*10;const g=[];for(let x=0;x<c;x++){const b=d+x*l,w=(Math.random()-.5)*i;y=Math.max(1,y+w),g.push({price:Number(y.toFixed(2)),timestamp:b})}return{symbol:m,buyDate:g[0].timestamp,buyPrice:g[0].price,historicalData:g}}const h=Array.from({length:e},(m,y)=>f(`MOCK${y+1}`));return{id:`mock-${Date.now()}`,name:a,items:h,createdAt:d,updatedAt:u}}const YT="http://localhost:3001/api";async function _c(e){try{e=e.toUpperCase();const t=`${YT}/finviz-quote?ticker=${e}&timeframe=d`;console.log(`🌐 Requesting Finviz quote for symbol: ${e}`);const n=(await sv.get(t)).data;if(console.log(`📥 Raw Finviz data for ${e}:`,n),console.log(`📊 Data length: ${n.length} records`),n.length>0&&(console.log("📊 First record:",n[0]),console.log("📊 Last record:",n[n.length-1])),!n||!Array.isArray(n)||n.length===0)return console.warn(`❗ No data received for ${e}:`,n),null;const i=n.map(s=>{const l=s.Date||s.date,u=parseFloat(s.Close||s.close||s.Price||s.price);return!l||isNaN(u)||u<=0?(console.warn(`⚠️ Invalid data point for ${e}:`,s),null):{price:u,timestamp:new Date(l).toISOString()}}).filter(s=>s!==null);if(i.length===0)return console.warn(`⚠️ No valid historical data for ${e}`),null;const a=i[i.length-1].price,o=i[i.length-1].timestamp;return console.log(`📡 fetchQuote → ${e}: $${a} @ ${o} (${i.length} data points)`),{symbol:e,buyPrice:a,buyDate:o,historicalData:i}}catch(t){return console.error(`❌ fetchQuote error for ${e}:`,t),null}}const GT=Object.freeze(Object.defineProperty({__proto__:null,fetchQuote:_c},Symbol.toStringTag,{value:"Module"}));function qi(e){if(!e||typeof e!="object")return console.warn("⚠️ normalizeTicker received invalid input:",e),{symbol:"UNKNOWN",buyPrice:0,buyDate:new Date().toISOString(),historicalData:[],addedAt:new Date().toISOString(),type:"real",isMock:!1};let t=!1;const r=Array.isArray(e.historicalData)?e.historicalData.map(s=>{const l=Number(s?.price),u=new Date(s?.timestamp).toISOString();return(isNaN(l)||!s?.timestamp)&&console.warn("⚠️ Malformed historical entry:",s),l===0&&(console.warn("⚠️ Historical entry has price = 0:",s),t=!0),{price:isNaN(l)?0:l,timestamp:u}}):[];let n=Number(e.buyPrice);isNaN(n)&&(console.warn("⚠️ Invalid or missing buyPrice, defaulting to 0:",e),n=0,t=!0);let i;e.buyDate&&!isNaN(new Date(e.buyDate))?i=new Date(e.buyDate).toISOString():(i=new Date(e.addedAt||Date.now()).toISOString(),console.warn("⚠️ Invalid or missing buyDate, falling back to addedAt or now:",e));const a=new Date(e.addedAt||Date.now()).toISOString(),o={symbol:String(e.symbol||"UNKNOWN").toUpperCase(),buyPrice:n,buyDate:i,historicalData:r,addedAt:a,type:e.type||"real",isMock:!!e.isMock,incomplete:t};return console.log("🧼 normalizeTicker →",o),o}function JT(e,t){const r=new Map;return e.forEach(i=>{const a=new Date(i.timestamp).toISOString().split("T")[0];r.set(a,i)}),t.forEach(i=>{const a=new Date(i.timestamp).toISOString().split("T")[0];r.set(a,i)}),Array.from(r.values()).sort((i,a)=>new Date(i.timestamp)-new Date(a.timestamp))}const rr=new Map;let Ui=0,kp=Date.now();function Ly(){const e=Date.now();e-kp>=6e4&&(Ui=0,kp=e)}function XT(){return!0}function QT(){Ly(),Ui++,console.log(`📊 Global API Request #${Ui} (unlimited)`)}function Fy(e){return rr.has(e)||rr.set(e,{count:0,resetTime:Date.now()}),rr.get(e)}function ZT(e){const t=Fy(e);t.count++,console.log(`📊 Watchlist ${e} API Request #${t.count}`)}function eD(){const e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),r=t.getDay(),n=t.getHours(),i=t.getMinutes();return!(r===0||r===6||n<9||n===9&&i<30||n>16||n===16&&i>0)}function tD(e,t=100){const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}class rD{constructor(){this.activeFetches=new Map}isFetchActive(t){const r=this.activeFetches.get(t);return r&&r.status==="active"}getFetchStatus(t){const r=this.activeFetches.get(t);return r?{status:r.status,currentBatch:r.currentBatch,totalBatches:r.totalBatches,progress:r.totalBatches>0?`${r.currentBatch}/${r.totalBatches}`:null}:null}cancelFetch(t){const r=this.activeFetches.get(t);r&&r.abortController&&(r.abortController.abort(),r.status="cancelled",rr.delete(t))}pauseFetch(t){const r=this.activeFetches.get(t);r&&r.status==="active"&&(r.status="paused",r.abortController&&r.abortController.abort())}async resumeFetch(t,r,n){const i=this.activeFetches.get(t);!i||i.status!=="paused"||await this._executeFetch(t,r,n,i.currentBatch)}async startFetch(t,r,n,i=!1,a=!1){if(!eD()&&!a)return i?{success:!1,message:"Market is closed"}:{success:!1,message:null};if(this.isFetchActive(t))return i?{success:!1,message:"Fetch already in progress"}:{success:!1,message:null};const o=this.activeFetches.get(t);return o&&o.status==="paused"?(await this.resumeFetch(t,r,n),{success:!0,message:null}):(await this._executeFetch(t,r,n,0),{success:!0,message:null})}async _executeFetch(t,r,n,i=0){const a=r.filter(u=>u.type==="real"&&!u.isMock);if(a.length===0)return;const o=100,s=tD(a,o),l=new AbortController;rr.set(t,{count:0,resetTime:Date.now()}),this.activeFetches.set(t,{status:"active",currentBatch:i,totalBatches:s.length,abortController:l});try{for(let u=i;u<s.length;u++){if(l.signal.aborted){this.activeFetches.delete(t);return}const c=this.activeFetches.get(t);c&&(c.currentBatch=u+1);const d=s[u],f=await this._processBatch(d,r,l,t);if(n&&typeof n=="function"){const h=(u+1)*o>a.length?a.length:(u+1)*o;n(f,{tickersFetched:h,totalTickers:a.length})}}this.activeFetches.delete(t),rr.delete(t)}catch(u){if(u.name==="AbortError")this.activeFetches.delete(t),rr.delete(t);else{console.error(`❌ Error in fetch for ${t}:`,u);const c=this.activeFetches.get(t);c&&(c.status="failed"),rr.delete(t)}}}async _processBatch(t,r,n,i){const a=[...r];for(const o of t){if(n.signal.aborted)throw new Error("Fetch cancelled");try{XT(),QT(),ZT(i);const s=await _c(o.symbol);if(!s||typeof s!="object"||!s.historicalData||s.historicalData.length===0){console.warn(`⚠️ Skipping ${o.symbol} due to invalid ticker object:`,s);continue}const l=s.historicalData;if(!l||l.length===0){console.warn(`⚠️ Skipping ${o.symbol} due to no historical data`);continue}const u=o.historicalData||[],c=JT(u,l);console.log(`📊 ${o.symbol}: Merged ${u.length} existing + ${l.length} new = ${c.length} total data points`);const d=new Date(o.buyDate),f=c.filter(g=>new Date(g.timestamp)>=d),h={...o,historicalData:updatedHistoricalData},m={...qi(h),buyPrice:o.buyPrice,buyDate:o.buyDate,type:o.type,isMock:o.isMock,addedAt:o.addedAt},y=a.findIndex(g=>g.symbol===o.symbol);y!==-1&&(a[y]=m)}catch(s){console.error(`❌ Error refreshing ${o.symbol}:`,s)}}return a}getRequestStatus(){return Ly(),{current:Ui,limit:"unlimited",remaining:"unlimited",resetIn:0}}getWatchlistRequestStatus(t){const r=Fy(t);return{current:r.count,resetTime:r.resetTime}}cleanup(){for(const[t,r]of this.activeFetches)r.abortController&&r.abortController.abort();this.activeFetches.clear()}}const Xe=new rD,yt=({message:e,type:t="info",onClose:r})=>{if(!e)return null;const n=oe(t==="error"?"#1a0f0f":t==="success"?"#0f1a0f":t==="loading"?"#0a0a0a":"#0f0f0f"),i=oe("#8CB9A2"),a=oe(t==="error"?"#e31507":t==="success"?"#0de309":"#8CB9A2");return p.jsx("div",{style:{background:n,color:i,border:`2px solid ${a}`,padding:"12px 16px",textAlign:"center",fontFamily:"Courier New",fontSize:14,fontWeight:"bold",position:"relative",marginBottom:8,cursor:r?"pointer":"default",userSelect:"none",opacity:1,borderRadius:0,boxShadow:"0 2px 8px rgba(0,0,0,0.3)",letterSpacing:"0.5px",textTransform:"uppercase",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)",minHeight:"44px","@media (max-width: 768px)":{padding:"10px 12px",fontSize:13,letterSpacing:"0.3px"},"@media (max-width: 480px)":{padding:"8px 10px",fontSize:12,letterSpacing:"0.2px",minHeight:"40px"}},onClick:r,"aria-label":r?"Dismiss notification":void 0,tabIndex:r?0:void 0,role:"alert",children:e})},ce=({children:e,onClick:t,type:r="button",style:n={},disabled:i=!1,mobile:a=!1,...o})=>{const s=oe(i?"#444":"#000"),l=oe("#8CB9A2"),u=oe("#8CB9A2"),c=a?{minHeight:"44px",fontSize:"16px",padding:"12px 16px",borderRadius:"0",transition:"all 0.2s ease",":active":{backgroundColor:l,color:s}}:{};return p.jsx("button",{type:r,onClick:t,disabled:i,style:{backgroundColor:s,color:l,border:`1px solid ${u}`,padding:a?"12px 16px":"6px 16px",fontFamily:"Courier New",fontSize:a?"16px":"15px",cursor:i?"not-allowed":"pointer",opacity:i?.6:1,borderRadius:a?0:2,margin:a?"4px":"2px",minHeight:a?"44px":"auto",transition:"all 0.2s ease",...c,...n},...o,children:e})},zy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAGSElEQVR4Xu2dsXMcNRjFpXWG8QwFlHSELiUlJWly8VCQNMxQ2Ng1FWPHlISSwRn/CRfsghJ3xmmcMmXo6HBJkSIzUHiGywotOExu4uN+n28VnbTvSvvtJ+l9b5+0WknrnX6DZsAPuvVqvJMABi4CCUACGDgDA2++HEACGDgDA2++HEACGDgDA2++HEACqI+BvZPxjdBee4+07N7a+mOCqxVTpQPsnRz8FBN2hyRtZ7RRJQek7R2mysbPFkDX3DDFjQRApVIQTg7AkzUwB3idGDkAF0sxSDkAT5UcQINArpZSkHIAnik5gByAq6UUpByAZ0oOIAfgasmJ3D8eX580zWbfdbg3+uJ+3zFLileMA+ydHMap3dBN8YKfv7szWj8CwMFDJICBS0ACkADKYEBdQJo8yQHS8FpMVAmgmFSlqagEkIbXYqJKAMWkKk1FJYA0vBYTVQIoJlVpKppdAA9ODn4jTYsr+VYjbmqlbxP/0F5ysW/d1vbaxkMS11D+k7h66HMS04LJXX52AcQ3d9OrNC3szcTyqWBD+UdRAHd7qd4rQXKXLwFwAUoAfau/i2e4AwzFywEoWXIAOQDVShqcHACPgZJ0QXIAOUCaO5tGlQPIAfQYyO4WdQGX8XT5ZJCeApimlmB3cIouwDITyMv3T0PrviLEhnby6+4nW78T7N6jw1OC8y6ctS/8DwRrKV+DQD4IJNxfYLgD0aCpVkQtsQBe38tPyYrGhlcFcwfgpVvKp1EHKABKzWU4CYAui19iB5AAXmVADmDSgxxADgB3BmkMYLqz+gfnTsCVyp+1EuU/ergDUUbVBVCm/sHxBFxJAHPrwsufG+oCIAFQpiQA0w2gpwBNBJluLQTu7Cq49kMC9s5/Q3BGzFFw4RdyTYryLVPRpI4d5vvjw499E9i0sWFRbBIHsBzRQgkoCzfwMYAEIAHgw5rLurNpbSUACQBORFFJFfUYqC5ADiAHkAOwDzZQCywLJweQA8gB5AB9upYGgX2ymTxWQV1Aiv3pDx4djENwm8l5XtYCvHvmg/uTVG97tPEBwd0/Ha++cz59PsKs695affvZlzc/Q+V7w+tQvDFBj4Ekpf9icn+yRgLguUqClACS0FpOUAmgnFwlqakEkITWAoJerCuUAArIVcoqSgAp2S0gtgRAkjR3GTYJspwYCWA589JfreaItxwBeP9459b6TcJMopnA5877p6R8F8KNiJs6VRRdlwFEBbB/On53cn4NLbQ1nQ9Q0ExglTORVADJXga9EQF0pwAtvv5YAkjw1bSSpoIlAAmAHdZc0suouruAfqz/5dAsuwMscmjNrPFl3QLod1SdXQD9Nsf2OrjsQWA/zEkAGgNoDMDuJb4kTU8BjNFkKI0BOLXqAnJ2AXEEfNa6gI4q9a75NH7qHU1b4vwbpqJTnE9wtfZ3n7TqXgbM/sVzDL4lHDTev08X2lrOJ7B0AaSeKTHYASyVeCMzoZYK9YJNMwbopWoLBJEAMHkSAKZKDpDkkCTMvwUoB8BsyQEwVXKAhRwgxez4zNzJAbCs5QCYKjnAQg6Aee4DKAfALMoBMFVyADkA/WwddqD8C1IMDrB/PL5ObpdJs/JRHPL9SLAWzEr7Yu7++NUY8I/WndMvcVnKp+3/y1B+olXRuFmmqWAa1bYggUbNvz+e15Qji3IA2iwJgDLlnATAucp+QoahqhgqAWCq1AUYqDJADYNAGlVdAGVKXQBnKiLpkihT0MxgdQGGBEgABrIwVF0ApioFUA5gYFUOYCALQxM4gOWjRbieERhaj84cCCuT57u3ttj5AJYKQKxlf37ThK/j/PJtGJrC8PkIbeu+2729/jMJjDdtp3oKIJW8wOC5eENMDK21/RIAlIAEEL8FGA27+w5Arp8cYMS2xlkSJAeAbMkB5ABVOqAcQA7AGKjVAlnru/n9OsdAcgCoAAmg0jsA5l8OUOsdIAFABrrFk5Om2STwFOcDWPbnkzpaMZb9+ZbY+HyA1p9tr208tMQmWDwGIMFeYvK/DbPUNi8298uwZAKI52Lc6c7H0O//GahWALHZceJEv3kMSADzGKr8/xJAVQm2b5eXAKoSgL0xEoCds6quGKQAKv4GlFmcgxSAmSXjBfae2FhAj3AJoEcySwyVWwB/A6OnkMyQojWgAAAAAElFTkSuQmCC",Wy="/assets/logoblack-DKuJLvT7.png",nn=()=>{const[e,t]=v.useState(""),[r,n]=v.useState("info"),[i,a]=v.useState(null);v.useEffect(()=>()=>{i&&clearTimeout(i)},[i]);const o=v.useCallback((l,u="info")=>{if(i&&clearTimeout(i),t(l),n(u),l){const c=setTimeout(()=>{t(""),n("info")},4e3);a(c)}},[i]),s=v.useCallback(()=>{i&&(clearTimeout(i),a(null)),t(""),n("info")},[i]);return{notification:e,notificationType:r,setNotification:o,setNotificationType:n,clearNotification:s}},hs=e=>e.toString().toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Ye="rgb(140,185,162)",nD=({watchlists:e={},setWatchlists:t})=>{const r=Er(),n=sr(),[i,a]=v.useState("terminal"),{notification:o,notificationType:s,setNotification:l,setNotificationType:u}=nn(),[c,d]=v.useState(!1),[f,h]=v.useState(!1),m="MAX",[y,g]=v.useState(!1),[x,b]=v.useState(null),{isInverted:w,toggleTheme:j}=Jt(),A=oe(Ye),k=oe("black"),P=oe("#e31507"),T=oe("#888"),I=v.useMemo(()=>{const E=Object.values(e).flatMap(F=>(F.items||[]).map(Q=>Q.symbol)).filter(F=>F&&typeof F=="string"&&!F.startsWith("#"));return Array.from(new Set(E.map(F=>F.toUpperCase())))},[e]),[$,O]=v.useState(()=>{const E=localStorage.getItem("burnlist_fetch_count");return E?parseInt(E,10):0});function z(){const E=new Date,F=new Date(E.toLocaleString("en-US",{timeZone:"America/New_York"}));return F.getHours()===9&&F.getMinutes()===29}v.useEffect(()=>{const E=setInterval(()=>{z()&&(O(0),localStorage.setItem("burnlist_fetch_count","0"))},6e4);return()=>clearInterval(E)},[]),v.useEffect(()=>()=>{Xe.cancelFetch("homepage")},[]);const N=()=>{h(!0),setTimeout(()=>h(!1),150);const E=jp[Math.floor(Math.random()*jp.length)],F=hs(E);if(Object.values(e).some(H=>H.name&&H.name.toLowerCase()===E.toLowerCase())){l("⚠️ Name already exists"),u("error");return}const W={id:si(),name:E,slug:F,items:[],reason:"",createdAt:new Date().toISOString()},C={...e,[W.id]:W};t(C),localStorage.setItem("burnlist_watchlists",JSON.stringify(C)),l("")},D=E=>{const F=Object.keys(e).find(C=>e[C].id===E);if(!F){console.log("🗑️ Could not find watchlist with id:",E);return}const{[F]:Q,...W}=e;t(W),localStorage.setItem("burnlist_watchlists",JSON.stringify(W)),Q?console.log("🗑️ Deleted watchlist:",Q.name):console.log("🗑️ Deleted watchlist with id:",E)};v.useCallback((E,F)=>{if(Object.values(e).some(W=>W.id!==E&&W.name&&W.name.toLowerCase()===F.toLowerCase())){l("⚠️ Name already exists"),u("error");return}t(W=>{const C={...W};if(C[E]&&(C[E]={...C[E],name:F,slug:hs(F)},typeof F=="string"&&F.startsWith("!"))){const H=Wi({numTickers:4,days:130});C[E].items=H.items}return localStorage.setItem("burnlist_watchlists",JSON.stringify(C)),C})},[t,e]);const U=v.useCallback((E,F)=>{const Q={...e,[E]:{...e[E],reason:F}};t(Q),localStorage.setItem("burnlist_watchlists",JSON.stringify(Q))},[t,e]),R=()=>{try{const E={watchlists:e,fetchCount:$,tradeJournalTrades:JSON.parse(localStorage.getItem("trade_journal_trades")||"[]"),timestamp:new Date().toISOString()},F=JSON.stringify(E,null,2),Q=new Blob([F],{type:"application/json"}),W=document.createElement("a");W.href=URL.createObjectURL(Q),W.download=`burnlist_backup_${new Date().toISOString().split("T")[0]}.json`,W.click(),l("✅ Data exported successfully","success")}catch(E){console.error("Export error:",E),l("❌ Export failed","error")}},L=E=>{const F=E.target.files[0];if(!F)return;const Q=new FileReader;Q.onload=W=>{try{const C=JSON.parse(W.target.result);if(!C.watchlists||typeof C.watchlists!="object")throw new Error("Invalid data format: missing watchlists");t(C.watchlists),localStorage.setItem("burnlist_watchlists",JSON.stringify(C.watchlists)),C.fetchCount!==void 0&&(O(C.fetchCount),localStorage.setItem("burnlist_fetch_count",String(C.fetchCount))),C.tradeJournalTrades&&Array.isArray(C.tradeJournalTrades)&&localStorage.setItem("trade_journal_trades",JSON.stringify(C.tradeJournalTrades)),l("✅ Data imported successfully","success")}catch(C){console.error("Import error:",C),l("❌ Import failed: Invalid file format","error")}},Q.readAsText(F),E.target.value=""},[Z,ee]=v.useState({});v.useEffect(()=>{if(c){const E={};Object.values(e).forEach(F=>{E[F.id]={value:F.name,prev:F.name}}),ee(E)}else ee({})},[c,e]);const le=(E,F)=>{ee(Q=>({...Q,[E]:{...Q[E],value:F}}))},ne=E=>{const F=Z[E]?.value||"";if(Object.values(e).some(W=>W.id!==E&&W.name&&W.name.toLowerCase()===F.toLowerCase())){l("⚠️ Name already exists"),u("error"),ee(W=>({...W,[E]:{...W[E],value:W[E].prev}}));return}t(W=>{const C={...W};if(C[E]&&(C[E]={...C[E],name:F,slug:hs(F)},typeof F=="string"&&F.startsWith("!"))){const H=Wi({numTickers:4,days:130});C[E].items=H.items}return localStorage.setItem("burnlist_watchlists",JSON.stringify(C)),C}),ee(W=>({...W,[E]:{...W[E],prev:F}}))},Y=v.useMemo(()=>Object.values(e),[e]),he=v.useMemo(()=>Y.map(E=>{const F=E.items||[];if(!F.length)return 0;const Q=F.map(W=>{const C=W.historicalData;if(!Array.isArray(C)||C.length<2)return 0;const H=C[0]?.price,V=C[C.length-1]?.price;return typeof H!="number"||typeof V!="number"||H===0?0:(V-H)/H*100});return Q.reduce((W,C)=>W+C,0)/Q.length}),[Y]),re=v.useRef(null);return p.jsx("div",{style:{fontFamily:"Courier New",color:A,backgroundColor:k,minHeight:"100vh",padding:"0",transition:"background 0.3s, color 0.3s"},children:p.jsxs("div",{style:{padding:"32px","@media (max-width: 768px)":{padding:"16px",paddingBottom:"80px"},"@media (max-width: 480px)":{padding:"12px",paddingBottom:"80px"}},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24,flexWrap:"wrap",gap:"12px","@media (max-width: 768px)":{flexDirection:"column",alignItems:"flex-start",marginBottom:16}},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,"@media (max-width: 480px)":{gap:8}},children:[p.jsx("button",{onClick:j,style:{border:"none",background:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",minHeight:"44px"},"aria-label":"Toggle theme",children:p.jsx("img",{src:w?Wy:zy,alt:"Burnlist Logo",style:{width:40,height:40,marginRight:10,transition:"filter 0.3s","@media (max-width: 480px)":{width:32,height:32,marginRight:8}}})}),p.jsx("strong",{style:{fontSize:"170%",lineHeight:"40px",display:"inline-block",color:A,"@media (max-width: 768px)":{fontSize:"140%",lineHeight:"32px"},"@media (max-width: 480px)":{fontSize:"120%",lineHeight:"28px"}},children:"BURNLIST v1.1"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,"@media (max-width: 768px)":{alignSelf:"flex-end"}},children:[p.jsx("span",{style:{color:P,fontWeight:"bold",fontSize:12},children:I.length}),p.jsx("span",{style:{color:A,fontWeight:"bold",fontSize:12},children:$}),p.jsx("span",{onClick:()=>{const E=JSON.parse(localStorage.getItem("burnlist_watchlists"));console.log("🧪 Current localStorage burnlist_watchlists:",E)},style:{cursor:"pointer",color:A},children:"ACCOUNT: local"})]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${Ye}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>r("/universes"),style:{background:n.pathname==="/universes"||n.pathname.startsWith("/universe/")?Ye:"transparent",color:n.pathname==="/universes"||n.pathname.startsWith("/universe/")?"#000000":Ye,border:`1px solid ${Ye}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>r("/journal"),style:{background:n.pathname==="/journal"?Ye:"transparent",color:n.pathname==="/journal"?"#000000":Ye,border:`1px solid ${Ye}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>r("/market"),style:{background:n.pathname==="/market"?Ye:"transparent",color:n.pathname==="/market"?"#000000":Ye,border:`1px solid ${Ye}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"}),p.jsx(ce,{onClick:()=>a(i==="terminal"?"graph":"terminal"),style:{background:i==="graph"?Ye:"transparent",color:i==="graph"?"#000000":Ye,border:`1px solid ${Ye}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"GRAPH VIEW"})]}),o&&p.jsx("div",{style:{position:"fixed",top:24,left:0,right:0,zIndex:10001,display:"flex",justifyContent:"center",pointerEvents:"none","@media (max-width: 480px)":{top:12}},children:p.jsx("div",{style:{minWidth:320,maxWidth:480,pointerEvents:"auto","@media (max-width: 480px)":{minWidth:"90vw",maxWidth:"90vw"}},children:p.jsx(yt,{message:o,type:s,onClose:()=>l("")})})}),y&&p.jsx(yt,{message:"Loading watchlists...",type:"loading"}),x&&p.jsx(yt,{message:x,type:"error",onClose:()=>b(null)}),Object.keys(e).length===0&&p.jsx("p",{children:"No watchlists found."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(252px, 252px))",rowGap:"20px",columnGap:"20px",margin:"70px 0 1px 0",justifyContent:"center",alignItems:"start","@media (max-width: 768px)":{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 200px))",rowGap:"16px",columnGap:"16px",margin:"40px 0 1px 0"},"@media (max-width: 480px)":{gridTemplateColumns:"repeat(auto-fit, minmax(180px, 180px))",rowGap:"12px",columnGap:"12px",margin:"20px 0 1px 0"}},children:Y.map((E,F,Q)=>{const W=E.items||[],C=he[F],H=C>=0;let V=W.length===0?"None":"LOW";if(W.length>0){const X=W.map(Ne=>{const Se=Ne.historicalData;if(!Array.isArray(Se)||Se.length<2)return{symbol:Ne.symbol,return:0};const Xt=Se[0]?.price,Ir=Se[Se.length-1]?.price;if(typeof Xt!="number"||typeof Ir!="number"||Xt===0)return{symbol:Ne.symbol,return:0};const Et=(Ir-Xt)/Xt*100;return{symbol:Ne.symbol,return:Et}});X.reduce((Ne,Se)=>Se.return>Ne.return?Se:Ne,X[0]),X.reduce((Ne,Se)=>Se.return<Ne.return?Se:Ne,X[0]);const ae=Math.min(...X.map(Ne=>Ne.return)),fe=Math.max(...X.map(Ne=>Ne.return))-ae;ae<-20||fe>50?V="HIGH":ae<-10||fe>30?V="MED":V="LOW"}let M="Unknown";if(W.length>0){const X=W.flatMap(ae=>ae.historicalData?.map(Pe=>new Date(Pe.timestamp).getTime())||[]);if(X.length>0){const ae=Math.max(...X),Pe=Date.now(),fe=Math.floor((Pe-ae)/(1e3*60*60));fe<1?M="Just now":fe<24?M=`${fe}h ago`:M=`${Math.floor(fe/24)}d ago`}}const ue=p.jsxs("div",{style:{width:"100%",maxWidth:252,height:c?160:i==="graph"?200:120,fontFamily:"Courier New",background:"transparent",padding:"10px 8px",margin:0,border:`1px solid ${A}`,borderRadius:0,boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",position:"relative",boxSizing:"border-box",overflow:"hidden","@media (max-width: 768px)":{height:c?120:i==="graph"?160:90,padding:"6px 4px"},"@media (max-width: 480px)":{height:c?110:i==="graph"?140:70,padding:"4px 3px"}},children:[c?p.jsx("input",{value:Z[E.id]?.value??E.name,onChange:X=>le(E.id,X.target.value),onBlur:()=>ne(E.id),onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),ne(E.id))},style:{fontFamily:"Courier New",fontSize:16,color:A,background:"transparent",border:`1px solid ${A}`,marginBottom:2,padding:"2px 4px",width:"100%",fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minHeight:"24px","@media (max-width: 768px)":{fontSize:14,padding:"1px 3px",minHeight:"20px"},"@media (max-width: 480px)":{fontSize:12,padding:"1px 2px",minHeight:"18px"}}}):p.jsx("div",{style:{fontSize:18,color:A,fontWeight:"bold",marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","@media (max-width: 768px)":{fontSize:14,marginBottom:2},"@media (max-width: 480px)":{fontSize:12,marginBottom:1}},children:E.name||`PORTFOLIO ${F+1}`}),c&&p.jsx("button",{onClick:()=>D(E.id),style:{backgroundColor:"transparent",color:P,border:`1px solid ${P}`,padding:"1px 4px",marginBottom:2,fontSize:9,width:"100%",fontWeight:"bold",fontFamily:"Courier New",cursor:"pointer",minHeight:"16px","@media (max-width: 768px)":{fontSize:8,padding:"1px 3px",minHeight:"14px"},"@media (max-width: 480px)":{fontSize:7,padding:"1px 2px",minHeight:"12px"}},children:"DELETE"}),c?p.jsx("input",{value:E.reason||"",onChange:X=>U(E.id,X.target.value),style:{fontFamily:"Courier New",fontSize:12,color:A,background:"transparent",border:`1px solid ${A}`,marginBottom:2,padding:"1px 3px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minHeight:"18px","@media (max-width: 768px)":{fontSize:10,padding:"1px 2px",minHeight:"16px"},"@media (max-width: 480px)":{fontSize:9,padding:"1px 2px",minHeight:"14px"}},placeholder:"Reason..."}):i!=="graph"&&p.jsx("div",{style:{fontSize:14,color:A,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","@media (max-width: 768px)":{fontSize:11,marginBottom:2},"@media (max-width: 480px)":{fontSize:9,marginBottom:1}},children:E.reason||"N/A"}),p.jsxs("div",{style:{fontSize:13,color:A,marginBottom:2,"@media (max-width: 768px)":{fontSize:10,marginBottom:1},"@media (max-width: 480px)":{fontSize:8,marginBottom:1}},children:[W.length," stocks | Risk: ",V]}),p.jsx("div",{style:{fontSize:11,color:T,marginBottom:2,"@media (max-width: 768px)":{fontSize:9,marginBottom:1},"@media (max-width: 480px)":{fontSize:7,marginBottom:1}},children:M}),i!=="graph"&&W.length>0&&p.jsxs("div",{style:{fontSize:19,color:H?A:P,fontWeight:"bold",marginBottom:2,"@media (max-width: 768px)":{fontSize:14,marginBottom:1},"@media (max-width: 480px)":{fontSize:12,marginBottom:1}},children:[C>=0?"+":"",C.toFixed(2),"%"]}),i==="graph"&&W.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{fontSize:19,color:H?A:P,fontWeight:"bold",marginBottom:2,"@media (max-width: 768px)":{fontSize:14,marginBottom:1},"@media (max-width: 480px)":{fontSize:12,marginBottom:1}},children:[C>=0?"+":"",C.toFixed(2),"%"]}),p.jsx("div",{style:{width:"100%",maxWidth:180,height:94,alignSelf:"flex-end",border:`1.5px solid ${A}`,borderRadius:0,background:"transparent",padding:1,marginTop:2,display:"flex",justifyContent:"flex-end",alignItems:"flex-end","@media (max-width: 768px)":{height:60,maxWidth:140,marginTop:1},"@media (max-width: 480px)":{height:50,maxWidth:120,marginTop:1}},children:p.jsx(Nc,{portfolioReturnData:W.map(X=>({symbol:X.symbol,buyDate:X.buyDate,historicalData:X.historicalData,timeframe:m})),showBacktestLine:!1,height:94,lineColor:H?A:P,hideAxes:!0,hideBorder:!0,showTooltip:!1,mini:!0})})]})]});return p.jsx("div",{style:{margin:0},children:c?ue:p.jsx(Gi,{to:`/watchlist/${E.slug}`,style:{textDecoration:"none",color:"inherit"},children:ue})},E.id)})}),p.jsxs("div",{className:"action-buttons-container",children:[p.jsx("style",{children:`
            .action-buttons-container {
              position: fixed;
              bottom: 20px;
              right: 20px;
              display: flex;
              gap: 8px;
              z-index: 1000;
            }
            
            @media (max-width: 768px) {
              .action-buttons-container {
                position: fixed;
                top: 50%;
                right: 10px;
                transform: translateY(-50%);
                flex-direction: column;
                gap: 8px;
              }
            }
            
            @media (max-width: 480px) {
              .action-buttons-container {
                position: fixed;
                top: 50%;
                right: 8px;
                transform: translateY(-50%);
                flex-direction: column;
                gap: 6px;
              }
            }
            
            .action-button {
              background: ${k};
              color: ${A};
              border: 1px solid ${A};
              font-size: 12px;
              padding: 6px 12px;
              box-shadow: 0 2px 4px rgba(0,0,0,0.3);
              min-height: 32px;
              font-family: 'Courier New', monospace;
              cursor: pointer;
              text-decoration: none;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            @media (max-width: 768px) {
              .action-button {
                font-size: 10px;
                padding: 6px 8px;
                min-height: 32px;
                width: 60px;
              }
            }
            
            @media (max-width: 480px) {
              .action-button {
                font-size: 9px;
                padding: 4px 6px;
                min-height: 28px;
                width: 50px;
              }
            }
          `}),p.jsx("button",{onClick:N,className:"action-button",style:{backgroundColor:A,color:k,fontWeight:"bold",fontSize:"14px",transition:"all 0.2s ease-in-out",padding:"8px 16px"},children:"+++"}),p.jsx("button",{onClick:()=>{d(!c),console.log("🛠️ Edit mode:",!c)},className:"action-button",style:{textTransform:"lowercase",fontWeight:400,letterSpacing:1},children:c?"done":"edit"}),p.jsx("input",{type:"file",accept:".json",onChange:L,style:{display:"none"},ref:re}),p.jsx("button",{onClick:()=>re.current&&re.current.click(),className:"action-button",style:{textTransform:"lowercase",fontWeight:400,letterSpacing:1},children:"import"}),p.jsx("button",{onClick:R,className:"action-button",style:{textTransform:"lowercase",fontWeight:400,letterSpacing:1},children:"export"})]})]})})},iD="modulepreload",aD=function(e){return"/"+e},Cp={},oD=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=l(r.map(u=>{if(u=aD(u),u in Cp)return;Cp[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":iD,c||(f.as="script"),f.crossOrigin="",f.href=u,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},qy="/assets/backbutton-BUBWvZGf.png",sD="rgb(140,185,162)",Uy=({name:e,averageReturn:t,selected:r,setWatchlists:n,notification:i,onNotificationClose:a,onRefresh:o,realStockCount:s,etfPriceData:l,twapData:u})=>{const{isInverted:c}=Jt(),d=oe(sD),f=oe("black"),h=oe("#e31507"),m=oe("#FFA500"),y=oe("#888");console.log("📊 WatchlistHeader received averageReturn:",t),(Number.isFinite(t)?t:null)===null&&console.warn("⚠️ averageReturn is invalid:",t);const x=s||0,{slug:b}=ol(),[w,j]=v.useState(!1),[A,k]=v.useState(null),[P,T]=v.useState(null),[I,$]=v.useState(""),[O,z]=v.useState(null);v.useEffect(()=>{const D=()=>{const R=new Date,L=localStorage.getItem(`burnlist_last_refresh_${b}`),Z=L?new Date(L):new Date(R.getTime()-30*60*1e3),le=new Date(Z.getTime()+30*60*1e3).getTime()-R.getTime();if(le>0){const ne=Math.floor(le/6e4),Y=Math.floor(le%(1e3*60)/1e3);k(`${ne}:${Y.toString().padStart(2,"0")}`)}else k(null)};D();const U=setInterval(D,1e3);return()=>clearInterval(U)},[b]),v.useEffect(()=>{const D=()=>{const R=Xe.getWatchlistRequestStatus(b);z(R)};D();const U=setInterval(D,1e3);return()=>clearInterval(U)},[b]),v.useEffect(()=>{const D=()=>{const R=Xe.getFetchStatus(b);if(R&&R.status==="active"){const L=Xe.activeFetches?.get?.(b);let Z=null,ee=null;L&&L.lastProgress&&(Z=L.lastProgress.tickersFetched,ee=L.lastProgress.totalTickers),T({tickersFetched:Z,totalTickers:ee}),j(!0)}else T(null),j(!1)};D();const U=setInterval(D,1e3);return()=>clearInterval(U)},[b]),v.useEffect(()=>{const D=Xe.startFetch;return Xe.startFetch=async function(U,R,L,Z){return D.call(this,U,R,(ee,le)=>{this.activeFetches&&this.activeFetches.get(U)&&(this.activeFetches.get(U).lastProgress=le),typeof L=="function"&&L(ee,le)},Z)},()=>{Xe.startFetch=D}},[]);const N=async()=>{const D=Xe.getFetchStatus(b);if(D&&D.status==="active"){Xe.cancelFetch(b),$("Fetch cancelled"),setTimeout(()=>$(""),3e3);return}o&&typeof o=="function"?(console.log("🔄 Refresh requested from header - calling parent"),o()):console.log("🔄 Refresh requested from header - no parent handler")};return v.useEffect(()=>{if(e&&Array.isArray(e.items)){const D=e.items.filter(U=>U.type==="real"&&!U.isMock);setRealStockCount(D.length),console.log("📊 Real stocks count:",D.length)}},[e]),p.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",position:"fixed",top:0,left:0,zIndex:1e4},children:[i&&p.jsx(yt,{notification:i,handleNotificationClose:a}),I&&p.jsx(yt,{notification:I,handleNotificationClose:()=>$("")}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.5rem 2rem",backgroundColor:f,color:d,fontFamily:"'Courier New', Courier, monospace",width:"100%","@media (max-width: 768px)":{padding:"1rem 1.5rem"},"@media (max-width: 480px)":{padding:"0.75rem 1rem",flexDirection:"column",alignItems:"flex-start",gap:"8px"}},children:[p.jsx("div",{style:{"@media (max-width: 480px)":{alignSelf:"flex-start"}},children:p.jsx("a",{href:"/",style:{display:"flex",alignItems:"center",textDecoration:"none",border:"none",background:"none",padding:0,gap:0,minHeight:"44px"},"aria-label":"back to home",children:p.jsx("img",{src:qy,alt:"back",style:{width:22,height:22,filter:c?"invert(1)":"none","@media (max-width: 480px)":{width:20,height:20}}})})}),p.jsxs("div",{style:{textAlign:"right",paddingRight:"3.5rem",maxWidth:"60%","@media (max-width: 768px)":{paddingRight:"2rem",maxWidth:"70%"},"@media (max-width: 480px)":{textAlign:"left",paddingRight:0,maxWidth:"100%",width:"100%"}},children:[p.jsx("h1",{style:{margin:0,marginTop:"8px",fontSize:"2rem",whiteSpace:"nowrap",color:d,cursor:"pointer",textDecoration:"underline",textUnderlineOffset:"4px",transition:"color 0.2s",minHeight:"44px",display:"flex",alignItems:"center","@media (max-width: 768px)":{fontSize:"1.5rem",marginTop:"6px"},"@media (max-width: 480px)":{fontSize:"1.25rem",whiteSpace:"normal",wordBreak:"break-word",marginTop:"4px"}},onClick:N,title:w?"Cancel refresh":"Refresh watchlist",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&N()},role:"button","aria-pressed":w,children:e||"Untitled Watchlist"}),P&&O&&p.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:O.current>0?m:y,cursor:O.current>0?"help":"default","@media (max-width: 480px)":{fontSize:"0.7rem",marginTop:"0.25rem"}},title:O.current>0?"API requests in progress - waiting 1 minute between batches":"",children:[O.current,"/",x," (",Math.round(O.current/x*100),"%)"]}),p.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem","@media (max-width: 480px)":{fontSize:"0.7rem",marginTop:"0.25rem"}},children:P&&typeof P.tickersFetched=="number"&&typeof P.totalTickers=="number"?p.jsxs("span",{style:{color:h,fontWeight:"bold"},children:[P.tickersFetched,"/",P.totalTickers]}):A&&p.jsx("span",{style:{color:d},children:A})})]})]})]})},lD="rgb(140,185,162)",Hy=({selected:e,onChange:t})=>{const r=oe(lD),n=oe("black");return p.jsx("div",{style:{marginTop:10,marginBottom:10,display:"flex",gap:12,alignItems:"center",padding:"6px"},children:["D","W","M","YTD","Y","MAX"].map(i=>p.jsx("button",{onClick:()=>{console.log("Selected timeframe:",i),t(i)},style:{backgroundColor:e===i?r:"transparent",color:e===i?n:r,border:`1px solid ${r}`,height:"32px",minHeight:"32px",maxHeight:"32px",width:"40px",fontFamily:"'Courier New', Courier, monospace",fontSize:"0.9rem",cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",margin:0,padding:0},children:i},i))})};function Ic(e,t="MAX"){const r=v.useRef(!1);return v.useEffect(()=>{r.current=!0},[]),v.useMemo(()=>{if(console.log("🔍 useAverageReturn called with items:",e),e.forEach((s,l)=>{const u=Array.isArray(s.historicalData)&&s.historicalData.length>0,c=!isNaN(Number(s.buyPrice));(!u||!c)&&console.warn(`⚠️ Item ${l} is malformed:`,{symbol:s.symbol,buyPrice:s.buyPrice,historicalData:s.historicalData})}),console.log(`⏱ Selected timeframe: ${t}`),!Array.isArray(e)||e.length===0)return r.current&&console.warn("⚠️ useAverageReturn received invalid or empty items"),0;e.some(s=>!s.buyDate)&&console.warn("⚠️ Some items are missing buyDate. This may cause invalid return calculations.");const i=e.filter((s,l)=>{const u=Array.isArray(s.historicalData)&&s.historicalData.length>=1,c=!isNaN(Number(s.buyPrice))&&Number(s.buyPrice)>0,d=!!s.buyDate&&new Date(s.buyDate).toString()!=="Invalid Date";return u?c?d?!0:(console.warn(`⚠️ Skipping item ${l} (${s.symbol}): invalid buyDate`,s.buyDate),!1):(console.warn(`⚠️ Skipping item ${l} (${s.symbol}): invalid buyPrice`,s.buyPrice),!1):(console.warn(`⚠️ Skipping item ${l} (${s.symbol}): insufficient historicalData`,s.historicalData),!1)}),a=i.map(s=>({symbol:s.symbol,historicalData:s.historicalData,buyDate:s.buyDate,buyPrice:s.buyPrice}));console.log(`📊 Proceeding with ${i.length} valid items (filtered ${e.length-i.length})`);const o=WT(a,t);return console.log(`✅ Return from getAverageReturn for ${a.length} items: ${o.toFixed(2)}%`),o},[e,t,e.map(n=>n.buyPrice).join(","),JSON.stringify({timeframe:t,itemsLength:e.length})])}const Hi=e=>{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getFullYear()).slice(-2);return`${r}-${n}-${i}`},cD="rgb(140,185,162)",uD=({item:e,index:t,editMode:r,handleChangeSymbol:n,handleBuyPriceChange:i,handleBuyDateChange:a,handleDelete:o,handleRefreshPrice:s,items:l,changePercent:u,lookedUpBuyPrice:c})=>{const d=oe(cD),f=oe("black"),h=oe("#e31507");if(console.log("🧩 TickerRow received item:",e),console.log("📦 Historical Data:",e.historicalData),!e||!Array.isArray(e.historicalData))return console.warn("⛔ Invalid item or missing historicalData for row",e),null;let m=isNaN(Number(e.buyPrice))?e.historicalData.length>0?Number(e.historicalData[0]?.price):NaN:Number(e.buyPrice);const y=e.historicalData.at(-1)?.price,g=isNaN(Number(y))?NaN:Number(y);if(console.log(`💵 Buy price for ${e.symbol}:`,m),console.log(`📈 Latest price for ${e.symbol}:`,g),isNaN(m))return console.warn(`⛔ Skipping row: No valid buy price resolved for ${e.symbol}`),null;console.log(`📊 [ChangePercent Prop] ${e.symbol}:`,u),console.log(`✅ Rendering row for ${e.symbol}`);const x=b=>{if(!b)return;const w=`https://elite.finviz.com/charts?t=${b.toUpperCase()}&p=d&l=1h1v`;window.open(w,"_blank")};return p.jsxs("tr",{style:{borderBottom:`1px solid ${d}`,background:f},children:[p.jsx("td",{style:{padding:8,fontFamily:"'Courier New', Courier, monospace",color:d,fontSize:15},children:r?p.jsx("input",{type:"text",value:e.symbol,onChange:b=>n(t,b.target.value),style:{fontFamily:"'Courier New', Courier, monospace",fontSize:"1rem",backgroundColor:f,border:`1px solid ${d}`,color:d,padding:4,width:80,textTransform:"uppercase"}}):p.jsx("span",{onClick:()=>x(e.symbol),style:{cursor:"pointer",textDecoration:"underline",display:"flex",alignItems:"center",gap:"4px"},title:`Click to open ${e.symbol} chart in new tab`,children:(()=>{if(l.filter(w=>w.symbol===e.symbol).length>1){const w=l.slice(0,t).filter(A=>A.symbol===e.symbol).length,j="*".repeat(w+1);return e.symbol+j}return e.symbol})()})}),p.jsx("td",{style:{padding:8,fontFamily:"'Courier New', Courier, monospace",color:d,fontSize:15},children:r?p.jsx("input",{type:"number",value:isNaN(m)?"":m,step:"0.01",min:"0",onChange:b=>{typeof i=="function"&&i(t,parseFloat(b.target.value))},style:{fontFamily:"'Courier New', Courier, monospace",fontSize:"1rem",backgroundColor:f,border:`1px solid ${d}`,color:d,padding:4,width:80}}):isNaN(m)?"-":m.toFixed(2)}),p.jsx("td",{style:{padding:8,fontFamily:"'Courier New', Courier, monospace",color:d,fontSize:15},children:r?p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"date",value:e.buyDate?e.buyDate.slice(0,10):"",onChange:b=>{typeof a=="function"&&a(t,b.target.value)},style:{fontFamily:"'Courier New', Courier, monospace",fontSize:"1rem",backgroundColor:f,border:`1px solid ${d}`,color:d,padding:4,width:120}}),p.jsx("style",{children:`
                input[type="date"]::-webkit-calendar-picker-indicator {
                  filter: invert(1) brightness(0.8) sepia(1) saturate(5) hue-rotate(140deg);
                }
                input[type="date"]::-webkit-clear-button {
                  display: none !important;
                }
                input[type="date"]::-webkit-inner-spin-button {
                  display: none !important;
                }
              `})]}):Hi(e.buyDate)}),p.jsx("td",{style:{padding:8,fontFamily:"'Courier New', Courier, monospace",color:d,fontSize:15},children:isNaN(g)?"-":g.toFixed(2)}),p.jsx("td",{style:{padding:8,fontFamily:"'Courier New', Courier, monospace",color:d,fontSize:15},children:(()=>{const b=Number(u);return isFinite(b)?p.jsxs("span",{title:"Simulated return over selected timeframe",style:{color:b>=0?d:h,fontFamily:"'Courier New', Courier, monospace"},children:[b.toFixed(2),"%"]}):p.jsxs(p.Fragment,{children:[console.warn("⚠️ Missing or invalid changePercent for",e.symbol),p.jsx("span",{title:"Change % not available",style:{color:oe("#888888"),fontFamily:"'Courier New', Courier, monospace"},children:"0.00%"})]})})()}),r&&p.jsx("td",{style:{padding:8},children:p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx(ce,{onClick:()=>{typeof s=="function"&&s(t)},style:{background:"transparent",color:d,border:`1px solid ${d}`,fontFamily:"'Courier New', monospace",textTransform:"lowercase",fontWeight:400,letterSpacing:1,boxShadow:"none",borderRadius:2,fontSize:"0.8rem",padding:"2px 6px"},title:"Refresh buy price from historical data",children:"🔄"}),p.jsx(ce,{onClick:()=>{typeof o=="function"&&o(t)},style:{background:"transparent",color:d,border:`1px solid ${d}`,fontFamily:"'Courier New', monospace",textTransform:"lowercase",fontWeight:400,letterSpacing:1,boxShadow:"none",borderRadius:2},children:"delete"})]})}),p.jsx("td",{})]},t)},dD=Lt.memo(uD);function fD(e,t){return v.useMemo(()=>{if(!t?.key)return console.log("ℹ️ No sort key provided, returning original items"),e;console.log(`🔃 Sorting items by ${t.key} (${t.direction})`);const r=[...e].sort((n,i)=>{const a=n.historicalData?.[n.historicalData.length-1]?.price??0,o=i.historicalData?.[i.historicalData.length-1]?.price??0;let s=t.key==="changePercent"?(a-n.buyPrice)/n.buyPrice*100:n[t.key],l=t.key==="changePercent"?(o-i.buyPrice)/i.buyPrice*100:i[t.key];return typeof s=="string"&&(s=s.toUpperCase()),typeof l=="string"&&(l=l.toUpperCase()),s<l?t.direction==="asc"?-1:1:s>l?t.direction==="asc"?1:-1:0});return console.log("✅ Sorted items:",r),r},[e,t])}const pD="rgb(140,185,162)",hD=({children:e,style:t={}})=>{const r=oe(pD),n=oe("black");return p.jsx("div",{style:{width:"100%",border:`1px solid ${r}`,background:n,position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-x","@media (max-width: 768px)":{fontSize:"12px"},"@media (max-width: 480px)":{fontSize:"10px"},...t},children:e})},gD="rgb(140,185,162)",mD=({items:e,editMode:t,handleChangeSymbol:r,handleBuyPriceChange:n,handleBuyDateChange:i,handleDelete:a,handleRefreshPrice:o,selectedTimeframe:s})=>{const l=oe(gD),u=oe("black");if(!Array.isArray(e))return console.warn("⚠️ TickerTable received invalid items prop:",e),null;const[c,d]=v.useState({key:"symbol",direction:"asc"}),f=g=>{console.log(`🧭 handleSort triggered for key: ${g}`),d(x=>x.key===g?{key:g,direction:x.direction==="asc"?"desc":"asc"}:{key:g,direction:"asc"})},h=g=>c.key!==g?"":c.direction==="asc"?"↑":"↓",m=fD(e,c),y=Ic(m);return console.log("📊 Average return from sortedItems:",y),typeof window<"u"&&typeof window.setWatchlistAverageReturn=="function"&&window.setWatchlistAverageReturn(y),p.jsx(hD,{children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:l,background:u,fontFamily:"Courier New",minWidth:"600px","@media (max-width: 768px)":{minWidth:"500px"},"@media (max-width: 480px)":{minWidth:"400px"}},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:`1px solid ${l}`},children:[p.jsxs("th",{onClick:()=>f("symbol"),style:{cursor:"pointer",padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"60px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"50px"}},children:["Symbol ",h("symbol")]}),p.jsxs("th",{onClick:()=>f("buyPrice"),style:{cursor:"pointer",padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"80px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"60px"}},children:["Buy Price ",h("buyPrice")]}),p.jsx("th",{style:{padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"80px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"60px"}},children:"Buy Date"}),p.jsxs("th",{onClick:()=>f("currentPrice"),style:{cursor:"pointer",padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"80px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"60px"}},children:["Current Price ",h("currentPrice")]}),p.jsxs("th",{onClick:()=>f("changePercent"),style:{cursor:"pointer",padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"80px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"60px"}},children:["Change % ",h("changePercent")]}),t&&p.jsx("th",{style:{padding:"8px 4px",textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,minWidth:"80px","@media (max-width: 480px)":{padding:"4px 2px",minWidth:"60px"}},children:"Actions"}),p.jsx("th",{style:{textAlign:"left",color:l,borderBottom:`1px solid ${l}`,fontFamily:"Courier New",background:u,width:"20px","@media (max-width: 480px)":{width:"10px"}}})]})}),p.jsx("tbody",{children:m.map((g,x)=>{console.log(`🩹 Rendering row for ${g.symbol}`);let b;if(typeof g.buyPrice=="number"?b=g.buyPrice:Array.isArray(g.historicalData)&&g.historicalData.length>0?b=g.historicalData[0].price:typeof g.currentPrice=="number"&&(b=g.currentPrice),!g.historicalData||g.historicalData.length===0)return null;if(typeof b>"u"||!g.buyDate||!g.historicalData||!Array.isArray(g.historicalData)||g.historicalData.length===0)return console.warn(`⚠️ Invalid ticker data for ${g.symbol}. Skipping row.`,g),null;const w=g.buyDate&&new Date(g.buyDate).toString()!=="Invalid Date"?g.buyDate:null;console.log(`🔍 [TickerTable] Calling getSlicedData for ${g.symbol}:`,{historicalDataLength:g.historicalData?.length,selectedTimeframe:s,validBuyDate:w,buyPrice:g.buyPrice});const{startPoint:j,endPoint:A}=Dc(g.historicalData,s,w,g.symbol,g.buyPrice);let k=0,P=g.buyPrice;j&&A&&typeof j.price=="number"&&typeof A.price=="number"&&j.price>0&&(k=(A.price-j.price)/j.price*100,P=j.price,console.log(`[Table %] ${g.symbol}: startPoint: ${j.price}, endPoint: ${A.price}, changePercent: ${k}%`),console.log(`[Table Price] ${g.symbol}: lookedUpBuyPrice: ${P}`));const T=e.findIndex(I=>I.symbol===g.symbol&&I.buyDate===g.buyDate&&I.buyPrice===g.buyPrice);return p.jsx(dD,{item:{...g},index:T,editMode:t,handleChangeSymbol:r,handleBuyPriceChange:typeof n=="function"?n:void 0,handleBuyDateChange:typeof i=="function"?i:void 0,handleDelete:typeof a=="function"?a:void 0,handleRefreshPrice:typeof o=="function"?o:void 0,items:e,selectedTimeframe:s,changePercent:k,lookedUpBuyPrice:P},`${g.symbol}-${T}`)})})]})})},Ky=Lt.memo(mD);function Da(e){return typeof e!="string"?"":e.trim().toUpperCase().replace(/\s+/g,"")}function al(e){const t=Da(e);return/^#?\w{1,10}$/.test(t)}async function yD(e,t="real",r=null,n=null){if(!e||typeof e!="string")return console.error("❌ createTicker: Invalid symbol provided:",e),null;e=Da(e);const i=new Date().toISOString();try{if(t==="mock"||e.startsWith("#")){const l=Wi({numTickers:1}).items[0];l.symbol=e;const u=l.historicalData?.[0]??{price:100,timestamp:i},c=Number(r??u.price??0),d=n??u.timestamp;(!l.historicalData||l.historicalData.length===0)&&(l.historicalData=[{price:isNaN(Number(c))?0:Number(c),timestamp:d}]);const f={symbol:l.symbol,buyPrice:c,buyDate:d,historicalData:Array.isArray(l.historicalData)?l.historicalData:[l.historicalData],addedAt:i,type:"mock",isMock:!0};console.log("✅ createTicker returning mock:",f),console.log("📦 Before normalization (mock):",f);const h=qi(f);return console.log("✅ After normalization (mock):",h),h}const a=await _c(e);if(!a||typeof a!="object"||!a.symbol||!a.historicalData)return console.warn(`⚠️ Skipping ${e}: malformed ticker object`,a),null;if(r!==null&&!isNaN(Number(r)))a.buyPrice=Number(r),console.log(`💰 Using custom buy price for ${e}: $${a.buyPrice}`);else{const s=a.historicalData[a.historicalData.length-1];a.buyPrice=s.price,console.log(`💰 Using current market price as buy price for ${e}: $${a.buyPrice} (this will stay fixed)`)}if(n&&!isNaN(Date.parse(n)))a.buyDate=n,console.log(`📅 Using custom buy date for ${e}: ${a.buyDate}`);else{const s=a.historicalData[a.historicalData.length-1];a.buyDate=s.timestamp,console.log(`📅 Using current market date as buy date for ${e}: ${a.buyDate} (this will stay fixed)`)}if(r!==null&&!isNaN(Number(r))||n&&!isNaN(Date.parse(n))){const s={price:a.buyPrice,timestamp:a.buyDate},l=a.historicalData[a.historicalData.length-1];a.historicalData=[s,l],console.log(`📊 Created 2-point historical data for ${e}:`,a.historicalData)}a.addedAt=i,a.type="real",a.isMock=!1;const o=qi(a);return console.log("✅ createTicker returning real:",o),o}catch(a){return console.error(`❌ createTicker failed for ${e}:`,a),null}}const vD="rgb(140,185,162)",xD=({bulkSymbols:e,setBulkSymbols:t,handleBulkAdd:r,buyDate:n,setBuyDate:i,buyPrice:a,setBuyPrice:o,setWatchlists:s,editMode:l,watchlists:u,setNotification:c,setNotificationType:d})=>{const[f,h]=v.useState(!1),[m,y]=v.useState(""),[g,x]=v.useState(""),[b,w]=v.useState(!1),j=v.useRef(),A=oe(vD),k=oe("black"),P=()=>{if(!e.trim())return x(""),!1;const I=e.split(/[,	\s]+/).map(O=>O.trim().toUpperCase()).filter(Boolean);if(I.length===0)return x("Please enter valid ticker symbols."),!1;const $=I.filter(O=>!al(O));if($.length>0)return x(`Invalid symbols: ${$.join(", ")}`),!1;if(l){if(a!==null&&(isNaN(a)||a<=0))return x("Buy price must be a positive number."),!1;if(n&&isNaN(Date.parse(n)))return x("Please enter a valid buy date."),!1}return x(""),!0};v.useEffect(()=>{g&&c&&d&&(c(g),d("error"))},[g,c,d]),v.useEffect(()=>(j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{P()},300),()=>{j.current&&clearTimeout(j.current)}),[e,a,n,l,b]);const T=async()=>{if(w(!0),!!P()){h(!0),y("");try{const $=e.split(/[,\s]+/).map(R=>R.trim().toUpperCase()).filter(Boolean).filter(al),O=window.location.pathname.split("/").pop(),z=u&&Object.values(u).find(R=>R.slug===O)?.items||[],N=new Set(z.map(R=>R.symbol)),D=$.find(R=>N.has(R));if(D){c&&d&&(c(`Ticker '${D}' already exists in this watchlist`),d("error")),h(!1);return}console.log("📦 Adding Tickers:",e),console.log("📅 With Buy Date:",n),console.log("💵 With Buy Price:",a);const U=[];for(const R of $){const L=Da(R);if(N.has(L)){console.warn(`⚠️ Skipping duplicate symbol: ${L}`);continue}const Z=l&&typeof a=="number"&&!isNaN(a)?a:void 0,ee=!l&&!Z,le=l&&n?n:void 0,ne=await yD(L,L.startsWith("#")?"mock":"real",Z,le);if(!ne){console.warn(`❌ createTicker returned null for symbol: ${L}`);continue}if(ee&&ne?.historicalData?.[0]?.price&&(ne.buyPrice=Number(ne.historicalData[0].price)),typeof ne.buyPrice!="number"||ne.buyPrice===0){console.warn(`❌ Skipping ${L}: buyPrice is still 0 after fetch.`);continue}ne?(console.log("🔍 Created item buyPrice check:",ne.symbol,ne.buyPrice),U.push(ne)):console.warn("❌ Failed to create ticker:",L)}if(U.length===0){c&&d&&(c("No valid tickers were added, check your input"),d("error"));return}if(typeof s=="function"){const R={...u};for(const L in R)R[L].slug===O&&(R[L]={...R[L],items:[...R[L].items||[],...U.map(Z=>({...Z,buyPrice:typeof Z.buyPrice=="number"?Z.buyPrice:0}))]},console.log("🔍 Pre-setWatchlists buyPrices:",R[L].items.map(Z=>({symbol:Z.symbol,buyPrice:Z.buyPrice}))));try{localStorage.setItem("burnlist_watchlists",JSON.stringify(R))}catch(L){console.error("❌ Failed to save to localStorage:",L),y("Failed to save to storage. Please try again.");return}if(!R||typeof R!="object"){console.error("❌ updatedObject is invalid before calling setWatchlists"),y("Failed to update watchlists. Please try again.");return}else console.log("✅ Final watchlist structure before setWatchlists:",R),s(R)}for(const R of U)(!R.buyDate||isNaN(new Date(R.buyDate)))&&console.error("❌ Invalid buyDate in item:",R);typeof r=="function"?(console.log("🧪 Calling handleBulkAdd with:",U),r(U)):console.warn("⚠️ handleBulkAdd is not a function"),t(""),o(null),i(null)}catch{c&&d&&(c("Failed to add tickers. Please try again."),d("error"))}finally{h(!1)}}};return p.jsx("div",{style:{marginTop:20,"@media (max-width: 768px)":{marginTop:16},"@media (max-width: 480px)":{marginTop:12}},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"8px","@media (max-width: 480px)":{flexDirection:"column",alignItems:"stretch",gap:"12px"}},children:[p.jsx("textarea",{value:e,onChange:I=>t(I.target.value),placeholder:"e.g. SPY, QQQ",rows:1,style:{flex:1,fontFamily:"'Courier New', Courier, monospace",fontSize:"0.9rem",backgroundColor:k,border:`1px solid ${A}`,color:A,padding:6,resize:"none",boxSizing:"border-box",cursor:"pointer",minWidth:0,minHeight:"32px","@media (max-width: 480px)":{fontSize:"14px",padding:"8px",width:"100%"}},onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),T())},onBlur:()=>w(!0)}),l&&p.jsx("input",{type:"number",placeholder:"Buy Price",step:"0.01",value:a||"",onChange:I=>{const $=parseFloat(I.target.value);o($)},style:{marginLeft:8,fontFamily:"'Courier New', Courier, monospace",fontSize:"0.9rem",backgroundColor:k,border:`1px solid ${A}`,color:A,padding:6,cursor:"pointer",minWidth:0,minHeight:"32px","@media (max-width: 480px)":{marginLeft:0,fontSize:"14px",padding:"8px",width:"100%"}}}),l&&p.jsx("input",{type:"date",value:n||"",onChange:I=>{const $=I.target.value;i($)},style:{marginLeft:8,fontFamily:"'Courier New', Courier, monospace",fontSize:"0.9rem",backgroundColor:k,border:`1px solid ${A}`,color:A,padding:6,cursor:"pointer",minWidth:0,minHeight:"32px","@media (max-width: 480px)":{marginLeft:0,fontSize:"14px",padding:"8px",width:"100%"}}}),p.jsx(ce,{mobile:!1,onClick:T,disabled:f,title:"Add ticker(s)",style:{marginLeft:8,backgroundColor:f?"#666666":A,color:"black",opacity:f?.6:1,minWidth:0,height:"32px",minHeight:"32px",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 16px",transition:"all 0.2s ease-in-out","@media (max-width: 480px)":{marginLeft:0,width:"100%",fontSize:"14px",padding:"8px 16px",height:"32px",minHeight:"32px"}},children:f?"...":"+++"})]})})},bD="rgb(140,185,162)",wD=({editMode:e,setEditMode:t})=>{const r=oe(bD);return oe("black"),p.jsx("div",{style:{marginTop:0,textAlign:"right"},children:p.jsx(ce,{onClick:()=>t(!e),style:{background:"transparent",color:r,border:`1px solid ${r}`,fontFamily:"'Courier New', monospace",textTransform:"lowercase",fontWeight:400,letterSpacing:1,margin:0,boxShadow:"none",borderRadius:2,fontSize:15},children:e?"done":"edit"})})},SD="rgb(140,185,162)",AD=({children:e,height:t=400,style:r={}})=>{const n=oe(SD),i=oe("black");return p.jsx("div",{style:{width:"100%",height:t,border:`1px solid ${n}`,background:i,position:"relative",overflow:"hidden",touchAction:"pan-x pan-y","@media (max-width: 768px)":{height:Math.min(t,350)},"@media (max-width: 480px)":{height:Math.min(t,250)},...r},children:p.jsx("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch"},children:e})})};function PD(e){if(!Array.isArray(e)||e.length===0)return{averagePrice:0,totalValue:0,itemCount:0,priceRange:{min:0,max:0},dateRange:{earliest:null,latest:null}};const t=e.filter(c=>c&&Number(c.buyPrice)>0&&c.buyDate&&Array.isArray(c.historicalData)&&c.historicalData.length>0);if(t.length===0)return{averagePrice:0,totalValue:0,itemCount:0,priceRange:{min:0,max:0},dateRange:{earliest:null,latest:null}};const r=t.flatMap(c=>c.historicalData.map(d=>new Date(d.timestamp)));new Date(Math.max(...r));const n=t.map(c=>{const d=new Date(c.buyDate),f=Number(c.buyPrice);let h=f;const m=[...c.historicalData].sort((y,g)=>new Date(g.timestamp)-new Date(y.timestamp));return m.length>0&&(h=Number(m[0].price)),{symbol:c.symbol,buyPrice:f,buyDate:d,currentPrice:h,normalizedPrice:h,priceChange:h-f,priceChangePercent:(h-f)/f*100}}),i=n.reduce((c,d)=>c+d.currentPrice,0),a=i/n.length,o=n.map(c=>c.currentPrice),s={min:Math.min(...o),max:Math.max(...o)},l=t.map(c=>new Date(c.buyDate)),u={earliest:new Date(Math.min(...l)),latest:new Date(Math.max(...l))};return{averagePrice:Number(a.toFixed(2)),totalValue:Number(i.toFixed(2)),itemCount:t.length,priceRange:s,dateRange:u,normalizedPrices:n,totalBuyValue:n.reduce((c,d)=>c+d.buyPrice,0),totalGainLoss:n.reduce((c,d)=>c+d.priceChange,0),averageGainLossPercent:n.reduce((c,d)=>c+d.priceChangePercent,0)/n.length}}function jD(e){if(!Array.isArray(e)||e.length===0)return{twap:0,weightedPrices:[]};const t=e.filter(s=>s&&Number(s.buyPrice)>0&&s.buyDate);if(t.length===0)return{twap:0,weightedPrices:[]};const r=new Date,n=t.map(s=>{const l=new Date(s.buyDate),u=(r-l)/(1e3*60*60*24),c=Math.max(1,u);return{symbol:s.symbol,buyPrice:Number(s.buyPrice),buyDate:l,weight:c,weightedPrice:Number(s.buyPrice)*c}}),i=n.reduce((s,l)=>s+l.weightedPrice,0),a=n.reduce((s,l)=>s+l.weight,0),o=a>0?i/a:0;return{twap:Number(o.toFixed(2)),weightedPrices:n}}function kD(e,t="D"){if(!Array.isArray(e)||e.length===0)return{beta:0,confidence:0,marketCorrelation:0};const r=e.filter(n=>n&&Array.isArray(n.historicalData)&&n.historicalData.length>0);if(r.length===0)return{beta:0,confidence:0,marketCorrelation:0};try{const n=r.map(d=>{const f=[...d.historicalData].sort((g,x)=>new Date(g.timestamp)-new Date(x.timestamp));if(f.length<2)return null;let h=[];const y={D:1,W:7,M:30,Y:365}[t]||1;for(let g=y;g<f.length;g++){const x=Number(f[g].price),b=Number(f[g-y].price);if(b>0){const w=(x-b)/b*100;h.push(w)}}return{symbol:d.symbol,returns:h,avgReturn:h.length>0?h.reduce((g,x)=>g+x,0)/h.length:0,volatility:h.length>0?Math.sqrt(h.reduce((g,x)=>g+Math.pow(x-h.reduce((b,w)=>b+w,0)/h.length,2),0)/h.length):0}}).filter(d=>d!==null);if(n.length===0)return{beta:0,confidence:0,marketCorrelation:0};const i=r.reduce((d,f)=>{const h=Number(f.historicalData[f.historicalData.length-1]?.price||0);return d+h},0),a=r.reduce((d,f,h)=>{const m=Number(f.historicalData[f.historicalData.length-1]?.price||0),y=i>0?m/i:0,g=n.find(x=>x.symbol===f.symbol);return d+y*(g?.volatility||0)},0),o=n.reduce((d,f)=>d+f.volatility,0)/n.length,s=o>0?a/o:1,l=n.reduce((d,f)=>d+f.returns.length,0)/n.length,u=Math.min(100,Math.max(0,l/30*100)),c=Math.min(1,Math.max(-1,s*.8));return{beta:Number(s.toFixed(2)),confidence:Number(u.toFixed(0)),marketCorrelation:Number(c.toFixed(2)),portfolioVolatility:Number(a.toFixed(2)),avgMarketVolatility:Number(o.toFixed(2))}}catch(n){return console.error("Error calculating portfolio beta:",n),{beta:0,confidence:0,marketCorrelation:0}}}const nt="rgb(140,185,162)",CD=e=>e>=90?"excellent":e>=75?"good":e>=50?"fair":e>=25?"poor":"unreliable";function OD(){const e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),r=t.getDay(),n=t.getHours(),i=t.getMinutes();return!(r===0||r===6||n<9||n===9&&i<30||n>16||n===16&&i>0)}const ED=()=>{const{slug:e}=ol(),t=Er(),r=sr(),[n,i]=v.useState("D"),[a,o]=v.useState(null),[s,l]=v.useState({}),[u,c]=v.useState(""),[d,f]=v.useState(null),[h,m]=v.useState(null),[y,g]=v.useState(!1),{notification:x,notificationType:b,setNotification:w,setNotificationType:j}=nn(),[A,k]=v.useState(!1),{isInverted:P}=Jt(),T=v.useRef(!1),I=v.useRef(null),$=Ic(a?.items||[],n),O=PD(a?.items||[]),z=jD(a?.items||[]),N=kD(a?.items||[],n),D=Array.isArray(a?.items)?a.items.filter(re=>re.type==="real"&&!re.isMock).length:0;v.useRef(null);const U=async(re=!1,E=!1)=>{if(!a||!Array.isArray(a.items))return;const F=await Xe.startFetch(e,a.items,(Q,W)=>{const C={...a,items:Q},H=Object.keys(s).find(V=>s[V].slug===e);if(H){const V={...s,[H]:C};ee(V)}},re,E);F.success?localStorage.setItem(`burnlist_last_refresh_${e}`,new Date().toISOString()):F.message&&(w(F.message),j("info"))},R=Xe.getFetchStatus(e),L=R&&R.status==="active",Z=async()=>{if(L)Xe.cancelFetch(e),w("Fetch cancelled","info");else{if(!OD()&&!T.current){w("Market is closed. Click again to force refresh."),j("error"),T.current=!0,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{T.current=!1},5e3);return}const re=T.current;T.current=!1,await U(!0,re)}};v.useEffect(()=>{try{const re=localStorage.getItem("burnlist_watchlists");if(re)try{const E=JSON.parse(re);l(E);const F=Object.values(E).find(Q=>Q.slug===e);F&&(F.items=F.items?.map(qi),F.items=F.items?.filter(Q=>{const W=Q&&Number(Q.buyPrice)>0&&Array.isArray(Q.historicalData)&&Number(Q.historicalData[0]?.price)>0;return W||console.warn("🧨 Invalid item detected during hydration:",Q),W})),o(F||null)}catch{localStorage.removeItem("burnlist_watchlists"),o(null)}}catch{o(null)}},[e]),v.useEffect(()=>()=>{Xe.pauseFetch(e)},[e]),v.useEffect(()=>{g(!0);const re=setTimeout(()=>g(!1),350);return()=>clearTimeout(re)},[n,a]);const ee=re=>{if(!(!re||typeof re!="object"||Array.isArray(re)))try{const E=Object.values(re).find(Q=>Q.slug===e);E&&o(E);const F=JSON.stringify(re);localStorage.setItem("burnlist_watchlists",F),l(re)}catch{}},le=(re,E)=>{o(F=>{if(!F||!Array.isArray(F.items))return F;const Q=F.items.map((C,H)=>H===re?{...C,buyPrice:E}:C),W={...F,items:Q};return l(C=>{const H=Object.keys(C).find(M=>C[M].slug===e);if(!H)return C;const V={...C,[H]:W};return localStorage.setItem("burnlist_watchlists",JSON.stringify(V)),V}),W})},ne=(re,E)=>{const F=new Date().toISOString().slice(0,10);E>F||o(Q=>{if(!Q||!Array.isArray(Q.items))return Q;const W=Q.items.map((H,V)=>V===re?{...H,buyDate:E}:H),C={...Q,items:W};return l(H=>{const V=Object.keys(H).find(ue=>H[ue].slug===e);if(!V)return H;const M={...H,[V]:C};return localStorage.setItem("burnlist_watchlists",JSON.stringify(M)),M}),C})},Y=async re=>{if(!a||!Array.isArray(a.items))return;const E=a.items[re];if(!E||!E.symbol||!E.buyDate){console.warn("Cannot refresh: missing symbol or buy date");return}try{console.log(`🔄 Refreshing price for ${E.symbol} at date ${E.buyDate}`);let F=E.historicalData||[];if(F.length===0){console.log(`📡 No existing historical data for ${E.symbol}, fetching from API...`);const{fetchQuote:V}=await oD(async()=>{const{fetchQuote:ue}=await Promise.resolve().then(()=>GT);return{fetchQuote:ue}},void 0),M=await V(E.symbol);M&&M.historicalData&&(F=M.historicalData)}if(F.length===0){console.warn(`No historical data found for ${E.symbol}`);return}const Q=new Date(E.buyDate);let W=null,C=null,H=1/0;for(const V of F){const M=new Date(V.timestamp);if(M.toDateString()===Q.toDateString()){W=V.price,C=V.timestamp,console.log(`✅ Found exact date match for ${E.symbol}: ${W} at ${C}`);break}const ue=Math.abs(M-Q);ue<H&&(H=ue,W=V.price,C=V.timestamp)}if(W===null){console.warn(`No historical price found for ${E.symbol} at ${E.buyDate}`);return}console.log(`📊 Updating ${E.symbol} buy price from ${E.buyPrice} to ${W} (date: ${C})`),o(V=>{if(!V||!Array.isArray(V.items))return V;const M=V.items.map((X,ae)=>ae===re?{...X,buyPrice:W}:X),ue={...V,items:M};return l(X=>{const ae=Object.keys(X).find(fe=>X[fe].slug===e);if(!ae)return X;const Pe={...X,[ae]:ue};return localStorage.setItem("burnlist_watchlists",JSON.stringify(Pe)),Pe}),ue}),w(`${E.symbol} buy price updated to ${W.toFixed(2)}`),w(`Refreshed ${E.symbol} price`,"success")}catch(F){console.error(`Error refreshing ${E.symbol}:`,F),w(`Failed to refresh ${E.symbol}`,"error")}},he=re=>{o(E=>{if(!E||!Array.isArray(E.items))return E;const F=E.items.filter((W,C)=>C!==re),Q={...E,items:F};return l(W=>{const C=Object.keys(W).find(V=>W[V].slug===e);if(!C)return W;const H={...W,[C]:Q};return localStorage.setItem("burnlist_watchlists",JSON.stringify(H)),H}),Q})};return a?p.jsxs("div",{style:{backgroundColor:P?"rgb(140,185,162)":"transparent",minHeight:"100vh",color:P?"#000000":"#ffffff",padding:"0","@media (max-width: 768px)":{padding:"0",paddingBottom:"80px"},"@media (max-width: 480px)":{paddingBottom:"80px"}},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${nt}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>t("/universes"),style:{background:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?nt:"transparent",color:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?"#000000":nt,border:`1px solid ${nt}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>t("/journal"),style:{background:r.pathname==="/journal"?nt:"transparent",color:r.pathname==="/journal"?"#000000":nt,border:`1px solid ${nt}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>t("/"),style:{background:r.pathname==="/"||r.pathname.startsWith("/burn/")?nt:"transparent",color:r.pathname==="/"||r.pathname.startsWith("/burn/")?"#000000":nt,border:`1px solid ${nt}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"BURNPAGE"})]}),O&&O.averagePrice>0&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:10002,backgroundColor:"rgba(0,0,0,0.9)",borderBottom:`2px solid ${nt}`,padding:"8px 20px","@media (max-width: 768px)":{padding:"6px 16px"},"@media (max-width: 480px)":{padding:"4px 12px"}},children:p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px",fontFamily:"'Courier New', monospace",fontSize:"14px",color:nt,"@media (max-width: 768px)":{fontSize:"12px",gap:"10px"},"@media (max-width: 480px)":{fontSize:"11px",gap:"8px",flexDirection:"column",alignItems:"center"}},children:[p.jsxs("div",{style:{fontWeight:"bold"},children:["ETF Price: $",O.averagePrice.toFixed(2)]}),p.jsxs("div",{style:{color:"#888"},children:["Beta: ",N.beta," (",CD(N.confidence),")"]}),p.jsxs("div",{style:{color:"#888"},children:[Number.isFinite($)?`${$.toFixed(2)}%`:"–%"," (",n?.toUpperCase()||"N/A",")"]}),p.jsxs("div",{style:{color:O.totalGainLoss>=0?nt:"#e31507",fontWeight:"bold"},children:["P&L: $",O.totalGainLoss.toFixed(2)," (",O.averageGainLossPercent.toFixed(2),"%)"]})]})}),x&&p.jsx("div",{style:{position:"fixed",top:O&&O.averagePrice>0?60:24,left:0,right:0,zIndex:10001,display:"flex",justifyContent:"center",pointerEvents:"none","@media (max-width: 480px)":{top:O&&O.averagePrice>0?50:12}},children:p.jsx("div",{style:{minWidth:320,maxWidth:480,pointerEvents:"auto","@media (max-width: 480px)":{minWidth:"90vw",maxWidth:"90vw"}},children:p.jsx(yt,{message:x,type:b,onClose:()=>w("")})})}),p.jsx("div",{style:{padding:"20px 20px 0 20px",marginBottom:"50px",marginTop:O&&O.averagePrice>0?"50px":"0px","@media (max-width: 768px)":{padding:"16px 16px 0 16px",marginBottom:"60px",marginTop:O&&O.averagePrice>0?"45px":"0px"},"@media (max-width: 480px)":{padding:"12px 12px 0 12px",marginBottom:"40px",marginTop:O&&O.averagePrice>0?"40px":"0px"}},children:p.jsx(Uy,{name:a.name,averageReturn:$,selected:n,notification:y?"Calculating returns and updating chart...":null,onNotificationClose:()=>g(!1),onRefresh:Z,realStockCount:D,etfPriceData:O,twapData:z})}),p.jsxs("div",{style:{padding:"5px 20px 10px 20px","@media (max-width: 768px)":{padding:"4px 16px 8px 16px"},"@media (max-width: 480px)":{padding:"3px 12px 6px 12px"}},children:[p.jsx(AD,{height:505,style:{"@media (max-width: 768px)":{height:"calc(49.5vw / 2 - 5px)",width:"100vw",marginLeft:"-16px",marginRight:"-16px"},"@media (max-width: 480px)":{height:"calc(49.5vw / 2 - 5px)",width:"100vw",marginLeft:"-12px",marginRight:"-12px"}},children:p.jsx(Nc,{portfolioReturnData:a.items?.map(re=>({symbol:re.symbol,buyDate:re.buyDate,buyPrice:re.buyPrice,historicalData:re.historicalData,timeframe:n}))||[],showBacktestLine:!1,height:500,suppressEmptyMessage:!0})}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10,flexWrap:"wrap",gap:"8px","@media (max-width: 480px)":{flexDirection:"column",alignItems:"stretch",gap:"12px"}},children:[p.jsx(Hy,{selected:n,onChange:i}),p.jsx(wD,{editMode:A,setEditMode:k})]}),Array.isArray(a.items)&&a.items.length>0?p.jsx(Ky,{items:a.items,selectedTimeframe:n,editMode:A,handleBuyPriceChange:le,handleBuyDateChange:ne,handleDelete:he,handleRefreshPrice:Y}):null,(!Array.isArray(a.items)||a.items.length===0)&&p.jsx("div",{style:{fontFamily:"'Courier New', monospace",color:"#999",textAlign:"center",marginTop:"20px","@media (max-width: 480px)":{marginTop:"16px",fontSize:"14px"}},children:"⚠️ No valid data to display yet."}),p.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px","@media (max-width: 768px)":{marginTop:"24px"},"@media (max-width: 480px)":{marginTop:"20px"}},children:p.jsx(xD,{watchlists:s,setWatchlists:ee,currentSlug:e,bulkSymbols:u,setBulkSymbols:c,buyPrice:d,setBuyPrice:f,buyDate:h,setBuyDate:m,setNotification:w,setNotificationType:j,handleBulkAdd:async re=>{if(!(!re||re.length===0))try{const E=localStorage.getItem("burnlist_watchlists");if(!E||E==="undefined")return;const F=JSON.parse(E),Q=e,W=Object.values(F).find(ae=>ae.slug===Q);if(!W||!Array.isArray(W.items))return;const C=re.filter(ae=>ae&&ae.symbol&&typeof ae.symbol=="string"&&Array.isArray(ae.historicalData)),H=new Set((W.items||[]).map(ae=>ae.symbol)),M=C.filter(ae=>!H.has(ae.symbol)).filter(ae=>Array.isArray(ae.historicalData)&&ae.historicalData.length>0);W.items.push(...M);const ue={...F},X=Object.keys(ue).find(ae=>ue[ae].slug===Q);if(X)ue[X]=W;else return;localStorage.setItem("burnlist_watchlists",JSON.stringify(ue)),l(ue)}catch{}}})})]})]}):p.jsx("div",{style:{backgroundColor:P?"rgb(140,185,162)":"#000000",color:P?"#000000":"#ffffff",padding:"20px"},children:p.jsx("h2",{style:{color:"#e31507",fontFamily:"'Courier New', monospace"},children:"⚠️ Watchlist not found."})})},Op="burnlist_mock_watchlist",TD=()=>{const[e,t]=v.useState("D"),[r,n]=v.useState(null),{isInverted:i}=Jt();v.useEffect(()=>{let o=null;try{o=JSON.parse(localStorage.getItem(Op))}catch{o=null}if(o&&o.items&&Array.isArray(o.items)&&o.items.length>0)n(o);else{const s=Wi({numTickers:4,days:130,pointsPerDay:25});n(s),localStorage.setItem(Op,JSON.stringify(s))}},[]);const a=Ic(r?.items||[],e);return r?p.jsxs("div",{style:{backgroundColor:i?"rgb(140,185,162)":"black",minHeight:"100vh",color:i?"#000000":"#FFA500"},children:[p.jsx("div",{style:{background:"#FFA500",color:"black",fontWeight:"bold",textAlign:"center",padding:"12px 0",fontFamily:"Courier New",letterSpacing:2},children:"DEV MODE: MOCK WATCHLIST (ORANGE = DEV)"}),p.jsx("div",{style:{padding:"20px 20px 0 20px",marginBottom:"100px"},children:p.jsx(Uy,{name:r.name,averageReturn:a,selected:e,color:"#FFA500"})}),p.jsxs("div",{style:{padding:"20px"},children:[p.jsx(Nc,{portfolioReturnData:r.items.map(o=>({symbol:o.symbol,buyDate:o.buyDate,historicalData:o.historicalData,timeframe:e})),showBacktestLine:!1,height:500,lineColor:"#FFA500"}),p.jsx(Hy,{selected:e,onChange:t,color:"#FFA500"}),Array.isArray(r.items)&&r.items.length>0?p.jsx("div",{style:{maxWidth:900,margin:"40px auto 0 auto"},children:p.jsx(Ky,{items:r.items,selectedTimeframe:e,color:"#FFA500"})}):p.jsx("div",{style:{fontFamily:"Courier New, monospace",color:"#999",textAlign:"center",marginTop:"20px"},children:"⚠️ No valid data to display yet."})]})]}):p.jsx("div",{style:{color:"#FFA500",background:i?"rgb(140,185,162)":"black",padding:40,fontFamily:"Courier New"},children:"Loading mock watchlist..."})};function hn(e,t,r){return e<=t?0:e>=r?100:(e-t)/(r-t)*100}function DD(e){return e<=15?100:e<=30?70:e<=50?40:0}function ND(e){return e>=1.2&&e<=2.5?100:50}function _D({epsGrowth:e,avgVolume:t,relVolume:r,technicalFlags:n,earningsDaysAway:i,price:a,pe:o,marketCap:s,beta:l,newsFlag:u,sectorAlignment:c,marketSupport:d,volatilityClear:f,breadthHealthy:h}={}){let m=0,y=0;e!=null&&e!==""&&(m+=hn(e,0,50)*.15,y+=.15),t!=null&&t!==""&&(m+=hn(t,5e5,2e6)*.12,y+=.12),r!=null&&r!==""&&(m+=hn(r,1,3)*.1,y+=.1),n!=null&&(m+=(n?100:0)*.1,y+=.1),i!=null&&i!==""&&(m+=(i>5?100:0)*.1,y+=.1),a!=null&&a!==""&&(m+=hn(a,7,50)*.08,y+=.08),o!=null&&o!==""&&(m+=DD(o)*.08,y+=.08),s!=null&&s!==""&&(m+=hn(s,5e8,5e10)*.07,y+=.07),l!=null&&l!==""&&(m+=ND(l)*.05,y+=.05),u!=null&&(m+=(u?100:0)*.02,y+=.02);const g=y>0?m*(70/(100*y)):0;let x=0;c&&(x+=10),d&&(x+=10),f&&(x+=5),h&&(x+=5);const b=g+x;let w="Standby";return b>=90?w="Prime Entry":b>=75&&(w="Almost Ready"),{coreSetupScore:Math.round(g*100)/100,contextScore:x,totalBuyScore:Math.round(b*100)/100,tag:w}}var Vy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ep=Lt.createContext&&Lt.createContext(Vy),ID=["attr","size","title"];function MD(e,t){if(e==null)return{};var r=$D(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $D(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}function Tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tp(Object(r),!0).forEach(function(n){RD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RD(e,t,r){return t=BD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=LD(e,"string");return typeof t=="symbol"?t:t+""}function LD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(e){return e&&e.map((t,r)=>Lt.createElement(t.tag,Vi({key:r},t.attr),Yy(t.child)))}function FD(e){return t=>Lt.createElement(zD,Ki({attr:Vi({},e.attr)},t),Yy(e.child))}function zD(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=MD(e,ID),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),Lt.createElement("svg",Ki({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Vi(Vi({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Lt.createElement("title",null,a),e.children)};return Ep!==void 0?Lt.createElement(Ep.Consumer,null,r=>t(r)):t(Vy)}function WD(e){return FD({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const vn="/assets/greenflag-BcWhcZdx.png",ai="/assets/redflag-DW5QesGB.png",qD="/assets/yellowflag-BVDadLB5.png",Dp="/assets/box-BER_scjZ.png",Np="/assets/checkbox-BVlAGvim.png",q="rgb(140,185,162)",Ie={breakout:{name:"Breakout",checklists:["Horizontal resistance tested at least 2–3 times","Tight consolidation range (3–7 bars) near resistance","No overlapping wicks or indecision candles near breakout zone","Volume increasing into resistance (1-day Relative Volume > 1.5)","RSI between 50–65 and rising","MACD bullish crossover or trending upward","Price within 5% of 52-week high","No major macro event or earnings within next 7 days","Clean air above breakout level (no nearby supply)"],newsValidation:["Catalyst present in last 3 days (e.g. earnings beat, analyst upgrade, sector momentum)","Headline or PR confirms why price is reacting","Price action matches news intensity (no fade after news)"]},pullback:{name:"Pullback",checklists:["Strong uptrend visible on daily chart","Pullback to support (20 EMA, 50 SMA, or breakout retest)","Low volume during the pullback vs prior rally","Candle structure is clean (no breakdown bars or gaps)","Reversal signal forming (hammer, engulfing, inside bar)","RSI between 35–50, curling up","MACD flattening or turning bullish","Relative Volume (3–5 day avg) > 1.2","No earnings within next 5 days","Pullback has not broken prior swing low"],newsValidation:["Recent catalyst (earnings, analyst note, macro driver) caused last rally","Catalyst is still relevant (not priced in / not reversed)","If no news, chart structure alone justifies trade"]},shortSqueeze:{name:"Short Squeeze",checklists:["Wide-range breakout candle on high volume","Gap + hold or strong Day 1/Day 2 continuation behavior","Relative Volume (1-day) > 2.0","Beta > 2.0 or Volatility > 4%","RSI between 55–70 (not overbought)","MACD trending upward or freshly crossed","High short float (20%+) confirmed externally (Finviz, Fintel, etc.)","Small float or prior squeeze chart behavior","Room above — no major resistance overhead"],newsValidation:["Confirmed event or sentiment driver (e.g. earnings beat, activist, insider buys)","Headline present within last 3 days","If no news: verify price is moving *only* due to float pressure (pure squeeze logic)"]},postEarnings:{name:"Post-Earnings Momentum",checklists:["Earnings occurred within last 3 trading days","Large green candle on earnings day with strong close","Price gapped up and held or built above 20 EMA","Day 2 or Day 3 shows continuation or controlled pullback","Relative Volume (1–3 day avg) > 1.5","RSI between 55–70","MACD bullish","No major macro interference (Fed, CPI, etc.) within 3 days","Target zone has room for extension (no hard resistance above)"],newsValidation:["Confirm earnings beat — look for revenue + EPS beat and guidance raise","Check press release or SA earnings summary","Ensure market reaction aligns with numbers (not a fake pump)"]}},UD=(e,t,r,n)=>{const i=r*(n/100),a=3.5,o=1.25*t,s=Math.min(e*(a/100),o),l=e-s,u=e+2*s,c=i/s;return{stopLoss:Number(l.toFixed(5)),takeProfit:Number(u.toFixed(5)),positionSize:Number(c.toFixed(5))}},HD=()=>{const{slug:e}=ol(),t=Er(),r=sr(),[n,i]=v.useState(null),[a,o]=v.useState({}),[s,l]=v.useState(""),{notification:u,notificationType:c,setNotification:d,setNotificationType:f}=nn(),[h,m]=v.useState(!1),[y,g]=v.useState(new Set),[x,b]=v.useState({key:"symbol",direction:"asc"}),[w,j]=v.useState(()=>{const S=localStorage.getItem("burnlist_screener_settings");return S?JSON.parse(S):{accountSize:1e4,riskPercent:2}}),{isInverted:A}=Jt(),[k,P]=v.useState(!1),[T,I]=v.useState(null),[$,O]=v.useState(""),[z,N]=v.useState({}),[D,U]=v.useState(""),[R,L]=v.useState(""),[Z,ee]=v.useState(""),[le,ne]=v.useState(""),[Y,he]=v.useState("2"),[re,E]=v.useState(""),[F,Q]=v.useState(!1),[W,C]=v.useState(new Set);v.useEffect(()=>{try{const S=localStorage.getItem("burnlist_universes");if(S){const K=JSON.parse(S);o(K);const B=Object.values(K).find(ge=>ge.slug===e);B&&i(B)}}catch(S){console.error("Failed to load universes:",S)}},[e]),v.useEffect(()=>{if(n){const S={...a},K=Object.keys(S).find(B=>S[B].id===n.id);K&&(S[K]=n,localStorage.setItem("burnlist_universes",JSON.stringify(S)))}},[n]),v.useEffect(()=>{localStorage.setItem("burnlist_screener_settings",JSON.stringify(w))},[w]);const H=async()=>{if(!s.trim()){d("Please enter ticker symbols"),f("error");return}m(!0),d("Adding tickers to universe..."),f("loading");try{const S=s.split(/[,	\s]+/).map(me=>me.trim().toUpperCase()).filter(Boolean).filter(al);if(S.length===0){d("No valid ticker symbols found"),f("error");return}const K=new Set((n?.items||[]).map(me=>me.symbol)),B=S.filter(me=>!K.has(me));if(B.length===0){d("All symbols already exist in universe"),f("info");return}const ge=[];for(const me of B){const je=Da(me),pt={id:si(),symbol:je,lastPrice:0,atr:0,flags:{news:!1},tradeType:"",tradeTypeName:"",quickTradeType:"",quickTradeTypeName:"",journalVerdict:"",journalVerdictType:"",journalVerdictFlag:"",entryPrice:"",notes:"",stopLoss:"",takeProfit:"",positionSize:""};ge.push(pt)}i(me=>({...me,items:[...me?.items||[],...ge]})),l(""),d(`Added ${ge.length} tickers to universe. You can now manually enter prices.`),f("success")}catch(S){console.error("Error adding tickers:",S),d("Failed to add tickers"),f("error")}finally{m(!1)}},V=(S,K,B)=>{i(ge=>({...ge,items:(ge?.items||[]).map(me=>{if(me.id===S){const je={...me};if(K==="flags"?je.flags={...je.flags,...B}:je[K]=B,K==="entryPrice"||K==="atr"){const pt=K==="entryPrice"?parseFloat(B):je.entryPrice,Ce=K==="atr"?parseFloat(B):je.atr;if(pt&&Ce&&pt>0&&Ce>0){const{stopLoss:rt,takeProfit:Wn,positionSize:Na}=UD(pt,Ce,w.accountSize,w.riskPercent);je.stopLoss=rt.toFixed(2),je.takeProfit=Wn.toFixed(2),je.positionSize=Na.toFixed(2)}}return je}return me})}))},M=S=>{i(K=>({...K,items:(K?.items||[]).filter(B=>B.id!==S)})),g(K=>{const B=new Set(K);return B.delete(S),B}),C(K=>{const B=new Set(K);return B.delete(S),B})},ue=()=>{y.size===(n?.items?.length||0)?g(new Set):g(new Set((n?.items||[]).map(S=>S.id)))},X=S=>{C(K=>{const B=new Set(K);return B.has(S)?B.delete(S):B.add(S),B})},ae=()=>{W.size===(n?.items?.length||0)?C(new Set):C(new Set((n?.items||[]).map(S=>S.id)))},Pe=()=>{if(y.size===0){d("Please select at least one ticker"),f("error");return}try{const S=(n?.items||[]).filter(Ce=>y.has(Ce.id)),K=JSON.parse(localStorage.getItem("burnlist_watchlists")||"{}"),B=si(),ge=`Screener ${Hi(new Date)}`,me=ge.toLowerCase().replace(/[^a-z0-9]/g,"-"),je={id:B,name:ge,slug:me,items:S.map(Ce=>({symbol:Ce.symbol,buyPrice:parseFloat(Ce.entryPrice)||parseFloat(Ce.lastPrice)||0,buyDate:new Date().toISOString(),historicalData:[{price:parseFloat(Ce.entryPrice)||parseFloat(Ce.lastPrice)||0,timestamp:new Date().toISOString()}],addedAt:new Date().toISOString(),type:"real",isMock:!1})),reason:`Created from screener with ${S.length} tickers`,createdAt:new Date().toISOString()},pt={...K,[B]:je};localStorage.setItem("burnlist_watchlists",JSON.stringify(pt)),d(`Created watchlist "${ge}" with ${S.length} tickers`),f("success"),g(new Set)}catch(S){console.error("Error creating watchlist:",S),d("Failed to create watchlist"),f("error")}},fe=S=>{b(K=>K.key===S?{key:S,direction:K.direction==="asc"?"desc":"asc"}:{key:S,direction:"asc"})},Ne=[...n?.items||[]].map(S=>{const K={epsGrowth:S.epsGrowth||0,avgVolume:S.avgVolume||0,relVolume:S.relVolume||1,technicalFlags:!!(S.tradeType&&S.journalVerdictType==="qualified"),earningsDaysAway:S.earningsDaysAway||10,price:S.lastPrice||0,pe:S.pe||15,marketCap:S.marketCap||5e8,debtEquity:S.debtEquity||.25,pb:S.pb||1.1,beta:S.beta||1.5,newsFlag:S.flags.news||!1,sectorAlignment:S.sectorAlignment||!1,marketSupport:S.marketSupport||!1,volatilityClear:S.volatilityClear||!1,breadthHealthy:S.breadthHealthy||!1},B=_D(K);return{...S,_buyScore:B.totalBuyScore,_buyTag:B.tag}}).sort((S,K)=>{const B=(Ce,rt)=>rt.includes(".")?rt.split(".").reduce((Na,rv)=>Na?.[rv],Ce):Ce[rt],ge=B(S,x.key),me=B(K,x.key);if(x.key==="symbol"||x.key==="tradeType"||x.key==="quickTradeType"||x.key==="notes"||x.key==="journalVerdict"){const Ce=String(ge||""),rt=String(me||"");return x.direction==="asc"?Ce.localeCompare(rt):rt.localeCompare(Ce)}if(x.key==="flags.news"){const Ce=!!ge,rt=!!me;return Ce===rt?0:x.direction==="asc"?Ce?1:-1:rt?1:-1}const je=parseFloat(ge)||0,pt=parseFloat(me)||0;return x.direction==="asc"?je-pt:pt-je}),Se=S=>x.key!==S?"":x.direction==="asc"?"↑":"↓",Xt=()=>{if(!D||!R||!Z)return null;const S=parseFloat(D),K=parseFloat(R),B=parseFloat(Z);if(S<=0||K<=0||B<=0)return null;const ge=Math.abs(S-K),me=Math.abs(B-S);return ge===0?null:(me/ge).toFixed(2)},Ir=()=>{if(!le||!Y||!D||!R)return null;const S=parseFloat(le),K=parseFloat(Y)/100,B=parseFloat(D),ge=parseFloat(R);if(S<=0||K<=0||B<=0||ge<=0)return null;const me=S*K,je=Math.abs(B-ge);return je===0?null:Math.floor(me/je)},Et=()=>{if(!$||Object.keys(z).length===0)return null;const S=Object.keys(z).length,K=Object.values(z).filter(Boolean).length,B=S-K;return B===0?{type:"qualified",text:"Qualified",flag:vn}:B<=2?{type:"discretionary",text:"Discretionary",flag:qD}:{type:"blocked",text:"Blocked",flag:ai}},zn=S=>{N(K=>({...K,[S]:!K[S]}))},Gy=S=>{if(I(S),P(!0),O(S.tradeType||""),U(S.entryPrice?S.entryPrice.toString():S.lastPrice?S.lastPrice.toString():""),L(S.stopLoss?S.stopLoss.toString():""),ee(S.target?S.target.toString():""),ne(S.accountSize?S.accountSize.toString():""),he(S.riskPerTrade?S.riskPerTrade.toString():"2"),E(S.overrideReason||""),S.checklistItems&&Object.keys(S.checklistItems).length>0)N(S.checklistItems);else if(S.tradeType&&Ie[S.tradeType]){const K={};Ie[S.tradeType].checklists.forEach(B=>{K[B]=!1}),Ie[S.tradeType].newsValidation.forEach(B=>{K[B]=!1}),N(K)}else N({})},Mc=()=>{P(!1),I(null)},Jy=()=>{if(!T||!$)return;const S=Et();S&&(i(K=>({...K,items:(K?.items||[]).map(B=>{if(B.id===T.id){const me=Ie[$].newsValidation.every(je=>z[je]);return{...B,tradeType:$,tradeTypeName:Ie[$].name,journalVerdict:S.text,journalVerdictType:S.type,journalVerdictFlag:S.flag,entryPrice:D,stopLoss:R,target:Z,takeProfit:Z,accountSize:le,riskPerTrade:Y,riskReward:Xt(),positionSize:Ir(),checklistItems:{...z},overrideReason:S.type!=="qualified"?re:"",journaledAt:new Date().toISOString(),flags:{...B.flags,news:me}}}return B})})),P(!1),I(null),O(""),N({}),U(""),L(""),ee(""),ne(""),he("2"),E(""))};v.useEffect(()=>{if(!k||!$||!Ie[$])return;if(Object.keys(z).length===0){const K={};Ie[$].checklists.forEach(B=>{K[B]=!1}),Ie[$].newsValidation.forEach(B=>{K[B]=!1}),N(K)}},[$,k]);const Xy=S=>{if(!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target){d("Complete journal entry first"),f("error");return}try{const K=parseFloat(S.entryPrice),B=parseFloat(S.stopLoss),ge=parseFloat(S.target),me=Math.abs(K-B),je=Math.abs(ge-K),pt=me>0?(je/me).toFixed(2):"0",Ce={id:Date.now(),ticker:S.symbol,setup:S.tradeTypeName||S.tradeType,riskReward:pt,verdict:S.journalVerdict||"Not journaled",outcome:"Open",entryPrice:parseFloat(S.entryPrice),stopLoss:parseFloat(S.stopLoss),target:parseFloat(S.target),positionSize:S.positionSize,accountSize:S.accountSize,riskPerTrade:S.riskPerTrade,executedAt:new Date().toISOString(),notes:S.notes||""},rt=JSON.parse(localStorage.getItem("trade_journal_trades")||"[]"),Wn=[Ce,...rt];localStorage.setItem("trade_journal_trades",JSON.stringify(Wn)),d(`Trade executed: ${S.symbol} logged to journal`),f("success")}catch(K){console.error("Error executing trade:",K),d("Failed to execute trade"),f("error")}},Qy=S=>{O(S),N({}),U(""),L(""),ee(""),ne(""),he("2"),E("")},Zy=(S,K)=>{i(B=>({...B,items:(B?.items||[]).map(ge=>ge.id===S?{...ge,quickTradeType:K,quickTradeTypeName:K?Ie[K]?.name||K:""}:ge)}))},ev=S=>{if(W.size===0){d("Please select at least one stock first"),f("error");return}i(K=>({...K,items:(K?.items||[]).map(B=>W.has(B.id)?{...B,quickTradeType:S,quickTradeTypeName:S?Ie[S]?.name||S:""}:B)})),d(`Set ${W.size} stocks to ${Ie[S]?.name||S}`),f("success")},tv=S=>{if(!S)return;const K=`https://elite.finviz.com/charts?t=${S.toUpperCase()}&p=d&l=1h1v`;window.open(K,"_blank")};return p.jsxs("div",{style:{backgroundColor:A?"rgb(140,185,162)":"transparent",minHeight:"100vh",color:A?"#000000":"#ffffff",padding:"0"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${q}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>t("/universes"),style:{background:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?q:"transparent",color:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?"#000000":q,border:`1px solid ${q}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>t("/journal"),style:{background:r.pathname==="/journal"?q:"transparent",color:r.pathname==="/journal"?"#000000":q,border:`1px solid ${q}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>t("/market"),style:{background:r.pathname==="/market"?q:"transparent",color:r.pathname==="/market"?"#000000":q,border:`1px solid ${q}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"}),p.jsx(ce,{onClick:()=>t("/"),style:{background:r.pathname==="/"||r.pathname.startsWith("/burn/")?q:"transparent",color:r.pathname==="/"||r.pathname.startsWith("/burn/")?"#000000":q,border:`1px solid ${q}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"BURNPAGE"})]}),p.jsxs("div",{style:{padding:"20px"},children:[u&&p.jsx("div",{style:{position:"fixed",top:24,left:0,right:0,zIndex:10001,display:"flex",justifyContent:"center",pointerEvents:"none"},children:p.jsx("div",{style:{minWidth:320,maxWidth:480,pointerEvents:"auto"},children:p.jsx(yt,{message:u,type:c,onClose:()=>d("")})})}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[p.jsx(Gi,{to:"/universes",style:{display:"inline-flex",alignItems:"center",border:"none",background:"none",padding:0,margin:0,textDecoration:"none"},"aria-label":"back to universes",children:p.jsx("img",{src:qy,alt:"back",style:{width:24,height:24,filter:A?"invert(1)":"none"}})}),p.jsx("h1",{style:{color:q,fontFamily:"'Courier New', monospace",margin:0,marginLeft:0,textAlign:"right",flex:1},children:n?.name||"UNIVERSE SCREENER"})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:ue,children:y.size===(n?.items?.length||0)?"DESELECT ALL":"SELECT ALL"}),p.jsxs(ce,{onClick:Pe,disabled:y.size===0,children:["CREATE WATCHLIST FROM SELECTED (",y.size,")"]}),F&&p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("span",{style:{color:q,fontSize:"12px",fontFamily:"'Courier New', monospace"},children:"MASS SET:"}),Object.keys(Ie).map(S=>p.jsx("button",{onClick:()=>ev(S),disabled:W.size===0,style:{background:"transparent",color:q,border:`1px solid ${q}`,padding:"4px 8px",fontFamily:"Courier New",fontSize:10,cursor:W.size===0?"not-allowed":"pointer",borderRadius:0,opacity:W.size===0?.5:1,transition:"all 0.2s"},title:`Set ${W.size} selected stocks to ${Ie[S].name}`,children:S.charAt(0).toUpperCase()+S.slice(1).replace(/([A-Z])/g," $1")},S))]})]}),(n?.items?.length||0)>0&&p.jsxs("div",{style:{overflowX:"auto"},children:[(n?.items?.length||0)>0&&p.jsx("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:16},children:p.jsx("button",{onClick:()=>Q(S=>!S),style:{background:"none",border:"none",color:q,fontFamily:"'Courier New', monospace",fontSize:"12px",padding:"2px 8px",borderRadius:0,fontWeight:400,textTransform:"lowercase",letterSpacing:0,cursor:"pointer",transition:"all 0.2s",minWidth:0,boxShadow:"none"},children:F?"done":"edit"})}),p.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,color:q,background:"black",fontFamily:"Courier New",border:`2px solid ${q}`,fontSize:"15px",boxShadow:"0 2px 16px 0 rgba(140,185,162,0.08)",tableLayout:"fixed"},children:[p.jsx("thead",{style:{position:"sticky",top:0,zIndex:5,background:"black",borderBottom:`2px solid ${q}`},children:p.jsxs("tr",{style:{borderBottom:`2px solid ${q}`},children:[p.jsx("th",{style:{width:"7.14%",padding:"8px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black"},children:F?p.jsx("input",{type:"checkbox",checked:W.size===(n?.items?.length||0)&&(n?.items?.length||0)>0,onChange:ae,style:{accentColor:q}}):null}),p.jsxs("th",{onClick:()=>fe("symbol"),style:{width:"7.14%",padding:"8px",textAlign:"left",borderBottom:`1px solid ${q}`,background:"black",cursor:"pointer"},children:["Symbol ",Se("symbol")]}),p.jsxs("th",{onClick:()=>fe("tradeType"),style:{width:"7.14%",padding:"8px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["Trade Type ",Se("tradeType")]}),p.jsxs("th",{onClick:()=>fe("quickTradeType"),style:{width:"7.14%",padding:"8px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["Quick Type ",Se("quickTradeType")]}),p.jsxs("th",{onClick:()=>fe("lastPrice"),style:{width:"7.14%",padding:"8px",textAlign:"right",borderBottom:`1px solid ${q}`,background:"black",cursor:"pointer"},children:["Last Price ",Se("lastPrice")]}),p.jsxs("th",{onClick:()=>fe("tradeType"),style:{width:"7.14%",padding:"2px 4px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["SETUP ",Se("tradeType")]}),p.jsxs("th",{onClick:()=>fe("flags.news"),style:{width:"7.14%",padding:"2px 4px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["NEWS ",Se("flags.news")]}),p.jsxs("th",{onClick:()=>fe("journalVerdict"),style:{width:"7.14%",padding:"2px 4px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["VERDICT ",Se("journalVerdict")]}),p.jsxs("th",{onClick:()=>fe("entryPrice"),style:{width:"7.14%",padding:"8px",textAlign:"right",borderBottom:`1px solid ${q}`,background:"black",cursor:"pointer"},children:["Entry Price ",Se("entryPrice")]}),p.jsxs("th",{onClick:()=>fe("stopLoss"),style:{width:"7.14%",padding:"8px",textAlign:"right",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["SL ",Se("stopLoss")]}),p.jsxs("th",{onClick:()=>fe("takeProfit"),style:{width:"7.14%",padding:"8px",textAlign:"right",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["TP ",Se("takeProfit")]}),p.jsxs("th",{onClick:()=>fe("positionSize"),style:{width:"7.14%",padding:"8px",textAlign:"right",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["Position ",Se("positionSize")]}),p.jsxs("th",{onClick:()=>fe("notes"),style:{width:"7.14%",padding:"8px",textAlign:"left",borderBottom:`1px solid ${q}`,background:"black",fontSize:15,cursor:"pointer"},children:["Notes ",Se("notes")]}),p.jsx("th",{style:{width:"7.14%",padding:"8px",textAlign:"center",borderBottom:`1px solid ${q}`,background:"black",fontSize:15},children:"Execute"})]})}),p.jsx("tbody",{children:Ne.map((S,K)=>p.jsxs("tr",{style:{borderBottom:`1px solid ${q}`,background:K%2===0?"#0a0a0a":"#181818",transition:"background 0.2s",boxShadow:"none",outline:"none",cursor:"pointer"},onMouseEnter:B=>B.currentTarget.style.background="#232323",onMouseLeave:B=>B.currentTarget.style.background=K%2===0?"#0a0a0a":"#181818",onClick:B=>{B.target.closest("button")||B.target.tagName==="BUTTON"||B.target.closest("input")||Gy(S)},children:[p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"center"},children:F?p.jsx("input",{type:"checkbox",checked:W.has(S.id),onChange:()=>X(S.id),style:{accentColor:q}}):null}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"left"},children:p.jsxs("span",{onClick:B=>{B.stopPropagation(),tv(S.symbol)},style:{color:q,cursor:"pointer",fontFamily:"'Courier New', monospace",fontSize:14,display:"flex",alignItems:"center",gap:"4px",textDecoration:"underline"},title:`Click to open ${S.symbol} chart in new tab`,children:[S.symbol,p.jsx("img",{src:vn,alt:"Open Chart",style:{width:12,height:12,verticalAlign:"middle"}})]})}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"center",cursor:F?"pointer":"default"},onClick:F?()=>{const B=document.querySelector(`select[data-item-id="${S.id}"][data-field="tradeType"]`);B&&B.focus()}:void 0,children:F?p.jsxs("select",{value:S.tradeType||"",onChange:B=>V(S.id,"tradeType",B.target.value),"data-item-id":S.id,"data-field":"tradeType",style:{background:"black",color:q,border:`1px solid ${q}`,padding:"2px 4px",fontFamily:"Courier New",fontSize:12},children:[p.jsx("option",{value:"",children:"Select"}),p.jsx("option",{value:"breakout",children:"Breakout"}),p.jsx("option",{value:"pullback",children:"Pullback"}),p.jsx("option",{value:"shortSqueeze",children:"Short Squeeze"}),p.jsx("option",{value:"postEarnings",children:"Post-Earnings"})]}):p.jsx("span",{style:{fontSize:14},children:S.tradeTypeName||"-"})}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"center"},children:p.jsxs("select",{value:S.quickTradeType||"",onChange:B=>{B.stopPropagation(),Zy(S.id,B.target.value)},style:{background:"transparent",color:q,border:"none",borderBottom:`1px solid ${q}`,padding:"1px 2px",fontFamily:"Courier New",fontSize:14,cursor:"pointer",borderRadius:0,width:"90%",textAlign:"center",height:"20px",minHeight:"20px",outline:"none"},onClick:B=>B.stopPropagation(),children:[p.jsx("option",{value:"",children:"-"}),Object.keys(Ie).map(B=>p.jsx("option",{value:B,children:Ie[B].name},B))]})}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"right",cursor:F?"text":"default"},onClick:F?()=>{const B=document.querySelector(`input[data-item-id="${S.id}"][data-field="lastPrice"]`);B&&B.focus()}:void 0,children:F?p.jsx("input",{type:"number",step:"0.01",value:S.lastPrice||"",onChange:B=>V(S.id,"lastPrice",parseFloat(B.target.value)||0),placeholder:"0.00","data-item-id":S.id,"data-field":"lastPrice",style:{backgroundColor:"black",color:q,border:`1px solid ${q}`,padding:"4px 6px",fontFamily:"'Courier New', monospace",fontSize:14,width:"60px",textAlign:"right",borderRadius:0}}):p.jsxs("span",{children:["$",S.lastPrice?S.lastPrice.toFixed(2):"0.00"]})}),p.jsx("td",{style:{width:"7.14%",padding:"2px 4px",textAlign:"center"},children:p.jsx("img",{src:S.tradeType?vn:ai,alt:"SETUP",title:S.tradeTypeName||"No setup selected",style:{width:13,height:13,verticalAlign:"middle",filter:"drop-shadow(0 0 1px #222)"}})}),p.jsx("td",{style:{width:"7.14%",padding:"2px 4px",textAlign:"center"},children:p.jsx("img",{src:S.flags.news||S.newsFlag?vn:ai,alt:"NEWS",title:"NEWS",style:{width:13,height:13,verticalAlign:"middle",filter:"drop-shadow(0 0 1px #222)"}})}),p.jsx("td",{style:{width:"7.14%",padding:"2px 4px",textAlign:"center"},children:p.jsx("img",{src:S.journalVerdictFlag||ai,alt:"VERDICT",title:S.journalVerdict||"Not journaled",style:{width:13,height:13,verticalAlign:"middle",filter:"drop-shadow(0 0 1px #222)"}})}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"right"},children:S.entryPrice!==void 0&&S.entryPrice!==null?S.entryPrice:"-"}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"right"},children:S.stopLoss?`$${S.stopLoss}`:"-"}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"right"},children:S.target?`$${S.target}`:S.takeProfit?`$${S.takeProfit}`:"-"}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"right"},children:S.positionSize?S.positionSize:"-"}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"left",cursor:F?"text":"default"},onClick:F?()=>{const B=document.querySelector(`input[data-item-id="${S.id}"][data-field="notes"]`);B&&B.focus()}:void 0,children:F?p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("input",{type:"text",value:S.notes,onChange:B=>V(S.id,"notes",B.target.value),placeholder:"Notes...","data-item-id":S.id,"data-field":"notes",style:{backgroundColor:"black",color:q,borderRadius:0,border:`1px solid ${q}`,fontSize:14,boxShadow:S.notes.trim()?`0 0 4px 0 ${q}22`:"none",fontFamily:"'Courier New', monospace",width:"80px",padding:"4px 6px"}}),p.jsx("button",{onClick:()=>M(S.id),style:{background:"none",border:"none",color:q,padding:0,margin:0,cursor:"pointer",fontSize:14,display:"inline-flex",alignItems:"center",transition:"all 0.2s"},title:"Delete Ticker",children:p.jsx(WD,{})})]}):p.jsx("span",{style:{color:q,fontFamily:"'Courier New', monospace",fontSize:14},children:S.notes||"-"})}),p.jsx("td",{style:{width:"7.14%",padding:"8px",textAlign:"center"},children:p.jsx("button",{onClick:()=>Xy(S),disabled:!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target,style:{background:!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target?"#222":q,color:!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target?q:"black",border:`1px solid ${q}`,borderRadius:0,padding:"6px 12px",fontFamily:"'Courier New', monospace",fontWeight:700,fontSize:14,cursor:!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target?"not-allowed":"pointer",transition:"all 0.2s",minWidth:60,height:"32px",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center"},title:!S.tradeType||!S.entryPrice||!S.stopLoss||!S.target?"Complete journal entry first":"Execute trade",children:"EXECUTE"})})]},S.id))})]})]}),!n&&p.jsx("div",{style:{textAlign:"center",color:"#999",fontFamily:"'Courier New', monospace",marginTop:"50px"},children:"⚠️ Universe not found."}),n&&(n?.items?.length||0)===0&&p.jsx("div",{style:{textAlign:"center",color:"#999",fontFamily:"'Courier New', monospace",marginTop:"50px"},children:"⚠️ No tickers in universe yet. Add some tickers above to get started."}),k&&T&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:Mc,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",zIndex:10009,pointerEvents:"auto"}}),p.jsxs("div",{style:{position:"fixed",top:0,right:0,width:800,height:"100vh",background:"#0a0a0a",color:q,zIndex:10010,boxShadow:`-4px 0 24px 0 ${q}33`,borderLeft:`2px solid ${q}`,display:"flex",flexDirection:"column",transition:"transform 0.3s",fontFamily:"Courier New",padding:0,pointerEvents:"auto"},onClick:S=>S.stopPropagation(),onMouseDown:S=>S.stopPropagation(),children:[p.jsxs("div",{style:{padding:28,flex:1,overflowY:"auto"},children:[p.jsxs("h2",{style:{color:q,marginBottom:18,fontWeight:700,fontSize:24},children:["Journal: ",T.symbol]}),p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"1. SELECT SETUP TYPE"}),p.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:Object.entries(Ie).map(([S,K])=>p.jsx("button",{onClick:()=>Qy(S),style:{background:$===S?q:"transparent",color:$===S?"#000":q,border:`2px solid ${q}`,fontWeight:$===S?"bold":"normal",padding:"8px 16px",fontFamily:"Courier New",cursor:"pointer"},children:K.name},S))})]}),$&&p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsxs("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:["2. VERIFY SETUP CRITERIA (",Ie[$].name,")"]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"10px",border:`2px solid ${q}`,padding:"16px",borderRadius:"4px",background:"rgba(140,185,162,0.04)",marginBottom:"20px"},children:Ie[$].checklists.map((S,K)=>p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",cursor:"pointer"},children:[p.jsx("span",{onClick:()=>zn(S),style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},tabIndex:0,onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&zn(S)},role:"checkbox","aria-checked":z[S]||!1,children:p.jsx("img",{src:z[S]?Np:Dp,alt:z[S]?"Checked":"Unchecked",style:{width:22,height:22}})}),p.jsx("span",{style:{fontSize:"14px"},children:S})]},K))}),p.jsxs("div",{style:{marginTop:24},children:[p.jsx("h4",{style:{marginBottom:"10px",fontSize:"16px",color:q},children:"News Validation"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"10px",border:`2px solid ${q}`,padding:"16px",borderRadius:"4px",background:"rgba(140,185,162,0.04)"},children:Ie[$].newsValidation.map((S,K)=>p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",cursor:"pointer"},children:[p.jsx("span",{onClick:()=>zn(S),style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},tabIndex:0,onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&zn(S)},role:"checkbox","aria-checked":z[S]||!1,children:p.jsx("img",{src:z[S]?Np:Dp,alt:z[S]?"Checked":"Unchecked",style:{width:22,height:22}})}),p.jsx("span",{style:{fontSize:"14px"},children:S})]},K))})]})]}),$&&p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"3. ENTRY DETAILS"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Entry Price:"}),p.jsx("input",{type:"number",step:"0.01",value:D,onChange:S=>U(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Stop Loss:"}),p.jsx("input",{type:"number",step:"0.01",value:R,onChange:S=>L(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Target:"}),p.jsx("input",{type:"number",step:"0.01",value:Z,onChange:S=>ee(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New"}})]})]})]}),$&&p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"4. RISK MANAGEMENT"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Account Size ($):"}),p.jsx("input",{type:"number",value:le,onChange:S=>ne(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Risk Per Trade (%):"}),p.jsx("input",{type:"number",step:"0.1",value:Y,onChange:S=>he(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New"}})]})]}),p.jsx("div",{style:{marginTop:"15px",padding:"15px",border:`1px solid ${q}`,background:"rgba(140,185,162,0.1)"},children:p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Risk:Reward:"})," ",Xt()?`${Xt()}:1`:"N/A"]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Position Size:"})," ",Ir()?`${Ir()} shares`:"N/A"]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Risk Amount:"})," ",le&&Y?`$${(parseFloat(le)*parseFloat(Y)/100).toFixed(2)}`:"N/A"]})]})})]}),Et()&&p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:"5. SETUP VERDICT"}),p.jsxs("div",{style:{padding:"15px",border:`2px solid ${q}`,textAlign:"center",fontSize:"18px",fontWeight:"bold",background:Et().type==="qualified"?"rgba(0,255,0,0.1)":Et().type==="discretionary"?"rgba(255,165,0,0.1)":"rgba(255,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[p.jsx("img",{src:Et().flag,alt:Et().text,style:{width:"24px",height:"24px"}}),Et().text]}),Et().type!=="qualified"&&p.jsxs("div",{style:{marginTop:"15px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Override Reason (Required for Discretionary/Blocked):"}),p.jsx("textarea",{value:re,onChange:S=>E(S.target.value),style:{width:"100%",padding:"8px",background:"transparent",border:`1px solid ${q}`,color:q,fontFamily:"Courier New",minHeight:"60px"},placeholder:"Explain why you're proceeding despite failed criteria..."})]})]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:16,padding:20,borderTop:`1.5px solid ${q}`,background:"#111"},children:[p.jsx("button",{onClick:Mc,style:{fontFamily:"Courier New",fontWeight:700,fontSize:17,borderRadius:4,padding:"8px 28px",cursor:"pointer",transition:"all 0.2s",background:"black",color:q,border:`2px solid ${q}`},children:"Cancel"}),p.jsx("button",{onClick:Jy,style:{fontFamily:"Courier New",fontWeight:700,fontSize:17,borderRadius:4,padding:"8px 28px",cursor:"pointer",transition:"all 0.2s",background:q,color:"black",border:`2px solid ${q}`},children:"Save Journal"})]})]})]}),p.jsx("div",{style:{marginTop:32,display:"flex",justifyContent:"center"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",width:420,gap:10,height:"32px"},children:[p.jsx("input",{type:"text",value:s,onChange:S=>l(S.target.value),placeholder:"e.g. AAPL, MSFT, GOOGL, TSLA",style:{flex:1,fontFamily:"'Courier New', Courier, monospace",fontSize:"14px",backgroundColor:"black",border:`1px solid ${q}`,color:q,padding:"6px 12px",boxSizing:"border-box",minWidth:0,borderRadius:0,height:"32px",maxHeight:"32px",minHeight:"32px",margin:0,outline:"none",lineHeight:"20px"},onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),H())}}),p.jsx(ce,{onClick:H,disabled:h||!s.trim(),mobile:!1,title:"Add ticker(s)",style:{backgroundColor:h?"#666666":q,color:"black",opacity:h?.6:1,minWidth:0,height:"32px",minHeight:"32px",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px 12px",borderRadius:0},children:h?"...":"+++"})]})})]})]})},Ge="rgb(140,185,162)",KD=()=>{const e=Er(),t=sr(),[r,n]=v.useState({}),{notification:i,notificationType:a,setNotification:o,setNotificationType:s}=nn(),[l,u]=v.useState(!1),[c,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(null),{isInverted:g}=Jt(),x=oe(Ge),b=oe("black"),w=oe("#e31507"),j=oe("#888");v.useEffect(()=>{try{const N=localStorage.getItem("burnlist_universes");if(N){const D=JSON.parse(N);n(D)}}catch(N){console.error("Failed to load universes:",N)}},[]),v.useEffect(()=>{localStorage.setItem("burnlist_universes",JSON.stringify(r))},[r]);const A=()=>{d(!0),setTimeout(()=>d(!1),150);const D=`Universe ${Hi(new Date)}`,U=si(),R=D.toLowerCase().replace(/[^a-z0-9]/g,"-");if(Object.values(r).some(le=>le.name&&le.name.toLowerCase()===D.toLowerCase())){o("⚠️ Universe name already exists"),s("error");return}const Z={id:U,name:D,slug:R,items:[],reason:"",createdAt:new Date().toISOString()},ee={...r,[U]:Z};n(ee),localStorage.setItem("burnlist_universes",JSON.stringify(ee)),o("")},k=N=>{const D=Object.keys(r).find(L=>r[L].id===N);if(!D){console.log("🗑️ Could not find universe with id:",N);return}const{[D]:U,...R}=r;n(R),localStorage.setItem("burnlist_universes",JSON.stringify(R)),U?console.log("🗑️ Deleted universe:",U.name):console.log("🗑️ Deleted universe with id:",N)};v.useCallback((N,D)=>{if(Object.values(r).some(R=>R.id!==N&&R.name&&R.name.toLowerCase()===D.toLowerCase())){o("⚠️ Name already exists"),s("error");return}n(R=>{const L={...R};return L[N]&&(L[N]={...L[N],name:D,slug:D.toLowerCase().replace(/[^a-z0-9]/g,"-")}),localStorage.setItem("burnlist_universes",JSON.stringify(L)),L})},[n,r]);const P=v.useCallback((N,D)=>{const U={...r,[N]:{...r[N],reason:D}};n(U),localStorage.setItem("burnlist_universes",JSON.stringify(U))},[n,r]),[T,I]=v.useState({});v.useEffect(()=>{if(l){const N={};Object.values(r).forEach(D=>{N[D.id]={value:D.name,prev:D.name}}),I(N)}else I({})},[l,r]);const $=(N,D)=>{I(U=>({...U,[N]:{...U[N],value:D}}))},O=N=>{const D=T[N]?.value||"";if(Object.values(r).some(R=>R.id!==N&&R.name&&R.name.toLowerCase()===D.toLowerCase())){o("⚠️ Name already exists"),s("error"),I(R=>({...R,[N]:{...R[N],value:R[N].prev}}));return}n(R=>{const L={...R};return L[N]&&(L[N]={...L[N],name:D,slug:D.toLowerCase().replace(/[^a-z0-9]/g,"-")}),localStorage.setItem("burnlist_universes",JSON.stringify(L)),L}),I(R=>({...R,[N]:{...R[N],prev:D}}))},z=v.useMemo(()=>Object.values(r),[r]);return p.jsx("div",{style:{fontFamily:"Courier New",color:x,backgroundColor:b,minHeight:"100vh",padding:"0"},children:p.jsxs("div",{style:{padding:"32px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[p.jsx("div",{children:p.jsx("strong",{style:{fontSize:"170%",color:b},children:"UNIVERSE SCREENER"})}),p.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:p.jsxs("span",{style:{color:x},children:["UNIVERSES: ",Object.keys(r).length]})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${Ge}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>e("/universes"),style:{background:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?Ge:"transparent",color:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?"#000000":Ge,border:`1px solid ${Ge}`,padding:"8px 16px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>e("/journal"),style:{background:t.pathname==="/journal"?Ge:"transparent",color:t.pathname==="/journal"?"#000000":Ge,border:`1px solid ${Ge}`,padding:"8px 16px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>e("/market"),style:{background:t.pathname==="/market"?Ge:"transparent",color:t.pathname==="/market"?"#000000":Ge,border:`1px solid ${Ge}`,padding:"8px 16px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"}),p.jsx(ce,{onClick:()=>e("/"),style:{background:t.pathname==="/"||t.pathname.startsWith("/burn/")?Ge:"transparent",color:t.pathname==="/"||t.pathname.startsWith("/burn/")?"#000000":Ge,border:`1px solid ${Ge}`,padding:"8px 16px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"BURNPAGE"})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[p.jsx("style",{children:`
            .clicked-button {
              background-color: ${b} !important;
              color: ${x} !important;
            }
          `}),p.jsx(ce,{onClick:()=>{u(!l),console.log("🛠️ Edit mode:",!l)},style:{backgroundColor:l?x:b,color:l?b:x},children:l?"DONE":"EDIT"})]}),i&&p.jsx("div",{style:{position:"fixed",top:24,left:0,right:0,zIndex:10001,display:"flex",justifyContent:"center",pointerEvents:"none"},children:p.jsx("div",{style:{minWidth:320,maxWidth:480,pointerEvents:"auto"},children:p.jsx(yt,{message:i,type:a,onClose:()=>o("")})})}),f&&p.jsx(yt,{message:"Loading universes...",type:"loading"}),m&&p.jsx(yt,{message:m,type:"error",onClose:()=>y(null)}),Object.keys(r).length===0&&p.jsx("p",{style:{textAlign:"center",color:j,marginTop:"50px"},children:"No universes found. Create your first universe to get started."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 252px)",rowGap:"20px",columnGap:"20px",margin:"70px 0 1px 0",justifyContent:"center",alignItems:"start"},children:z.map((N,D)=>{const U=N.items||[],R=p.jsxs("div",{style:{width:252,height:l?250:120,fontFamily:"Courier New",background:"transparent",padding:"10px 8px",margin:0,border:`1px solid ${x}`,borderRadius:0,boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",position:"relative",boxSizing:"border-box",overflow:"hidden"},children:[l?p.jsx("input",{value:T[N.id]?.value??N.name,onChange:L=>$(N.id,L.target.value),onBlur:()=>O(N.id),onKeyDown:L=>{L.key==="Enter"&&(L.preventDefault(),O(N.id))},style:{fontFamily:"Courier New",fontSize:18,color:x,background:b,border:`1px solid ${j}`,marginBottom:4,padding:"2px 4px",width:"100%",fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}):p.jsx("div",{style:{fontSize:18,color:x,fontWeight:"bold",marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.name||`UNIVERSE ${D+1}`}),l&&p.jsx(ce,{onClick:()=>k(N.id),style:{backgroundColor:b,color:w,border:`1px solid ${w}`,padding:"2px 6px",marginBottom:4,fontSize:10,width:"100%",fontWeight:"bold"},children:"DELETE"}),l?p.jsx("input",{value:N.reason||"",onChange:L=>P(N.id,L.target.value),style:{fontFamily:"Courier New",fontSize:14,color:x,background:b,border:`1px solid ${j}`,marginBottom:4,padding:"2px 4px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},placeholder:"Reason..."}):p.jsx("div",{style:{fontSize:14,color:x,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.reason||"N/A"}),p.jsxs("div",{style:{fontSize:13,color:x,marginBottom:2},children:[U.length," tickers"]}),p.jsx("div",{style:{fontSize:11,color:j,marginBottom:2},children:Hi(N.createdAt)}),p.jsx("div",{style:{fontSize:19,color:x,fontWeight:"bold",marginBottom:2},children:U.length>0?"ACTIVE":"EMPTY"})]});return p.jsx("div",{style:{margin:0},children:l?R:p.jsx(Gi,{to:`/universe/${N.slug}`,style:{textDecoration:"none",color:"inherit"},children:R})},N.id)})}),p.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px",marginBottom:"20px"},children:p.jsx(ce,{onClick:A,className:c?"clicked-button":"",style:{backgroundColor:x,color:b,transition:"all 0.2s ease-in-out",padding:"8px 16px",fontSize:"14px",fontWeight:"bold"},children:"+++"})})]})})},_p="rgb(140,185,162)",VD=({value:e,onSelect:t})=>{const[r,n]=v.useState([]);return v.useEffect(()=>{try{const i=localStorage.getItem("burnlist_watchlists");if(i){const a=JSON.parse(i),o=Object.values(a).map(s=>({name:s.name,slug:s.slug}));n(o)}}catch{n([])}},[]),p.jsxs("select",{value:e||"",onChange:i=>t&&t(i.target.value),style:{background:"black",color:_p,border:`1px solid ${_p}`,fontFamily:"Courier New, monospace",fontSize:16,padding:"6px 12px",borderRadius:4,outline:"none",minWidth:180,margin:0},children:[p.jsx("option",{value:"",disabled:!0,children:"Select Watchlist"}),r.map(i=>p.jsx("option",{value:i.slug,children:i.name},i.slug))]})},se="rgb(140,185,162)",YD="#e31507",gn={border:`1.5px solid ${se}`,borderRadius:4,background:"black",color:se,fontFamily:"Courier New",padding:16,marginBottom:24,boxShadow:"0 2px 8px 0 rgba(140,185,162,0.08)"};function GD(e){if(!e||!Array.isArray(e.historicalData)||e.historicalData.length<2)return{latest:null,change:null};const t=e.historicalData[e.historicalData.length-1]?.price,r=e.historicalData[e.historicalData.length-2]?.price;if(typeof t!="number"||typeof r!="number"||r===0)return{latest:null,change:null};const n=(t-r)/r*100;return{latest:t,change:n}}function JD(){const e=v.useRef(null);return v.useEffect(()=>{e.current&&(e.current.innerHTML="");const t=document.createElement("script");return t.type="text/javascript",t.async=!0,t.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",t.innerHTML=JSON.stringify({allow_symbol_change:!0,calendar:!1,details:!1,hide_side_toolbar:!0,hide_top_toolbar:!0,hide_legend:!0,hide_volume:!0,hotlist:!1,interval:"D",locale:"en",save_image:!1,style:"1",symbol:"NASDAQ:AAPL",theme:"dark",timezone:"Etc/UTC",backgroundColor:"rgba(0, 0, 0, 1)",gridColor:"rgba(102, 187, 106, 0.06)",watchlist:[],withdateranges:!1,compareSymbols:[],studies:["STD;DEMA"],autosize:!0,overrides:{"mainSeriesProperties.candleStyle.upColor":"#00aaff","mainSeriesProperties.candleStyle.downColor":"#ffe600","mainSeriesProperties.candleStyle.borderUpColor":"#00aaff","mainSeriesProperties.candleStyle.borderDownColor":"#ffe600","mainSeriesProperties.candleStyle.wickUpColor":"#00aaff","mainSeriesProperties.candleStyle.wickDownColor":"#ffe600"}}),e.current&&e.current.appendChild(t),()=>{e.current&&(e.current.innerHTML="")}},[]),p.jsxs("div",{className:"tradingview-widget-container",style:{height:"150px",width:"100%"},children:[p.jsx("div",{ref:e,className:"tradingview-widget-container__widget",style:{height:"167px",width:"100%"}}),p.jsx("div",{className:"tradingview-widget-copyright",children:p.jsx("a",{href:"https://www.tradingview.com/",rel:"noopener nofollow",target:"_blank",children:p.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})}const XD=()=>{const e=Er(),t=sr(),[r,n]=v.useState(""),[i,a]=v.useState(null);return v.useEffect(()=>{if(!r){a(null);return}try{const o=localStorage.getItem("burnlist_watchlists");if(o){const s=JSON.parse(o),l=Object.values(s).find(u=>u.slug===r);a(l||null)}else a(null)}catch{a(null)}},[r]),p.jsxs("div",{style:{fontFamily:"Courier New",color:se,background:"black",minHeight:"100vh",padding:"0"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${se}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(CustomButton,{onClick:()=>e("/universes"),style:{background:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?se:"transparent",color:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?"#000000":se,border:`1px solid ${se}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(CustomButton,{onClick:()=>e("/journal"),style:{background:t.pathname==="/journal"?se:"transparent",color:t.pathname==="/journal"?"#000000":se,border:`1px solid ${se}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(CustomButton,{onClick:()=>e("/market"),style:{background:t.pathname==="/market"?se:"transparent",color:t.pathname==="/market"?"#000000":se,border:`1px solid ${se}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"}),p.jsx(CustomButton,{onClick:()=>e("/"),style:{background:t.pathname==="/"||t.pathname.startsWith("/burn/")?se:"transparent",color:t.pathname==="/"||t.pathname.startsWith("/burn/")?"#000000":se,border:`1px solid ${se}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"BURNPAGE"})]}),p.jsxs("div",{style:{padding:"32px"},children:[p.jsxs("div",{style:{...gn,display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:18},children:[p.jsx("div",{children:"Total Equity: $100,000"}),p.jsx("div",{children:"Cash: $20,000"}),p.jsxs("div",{children:["Open P/L: ",p.jsx("span",{style:{color:se},children:"+$1,200"})]}),p.jsxs("div",{children:["% Allocated: ",p.jsx("span",{style:{border:`1px solid ${se}`,padding:"2px 12px",borderRadius:2},children:"80%"})]}),p.jsx("div",{children:"Exposure: Long 70% / Short 10%"})]}),p.jsxs("div",{style:{display:"flex",gap:32},children:[p.jsx("div",{style:{flex:2},children:p.jsxs("div",{style:{...gn,minHeight:320},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[p.jsx("div",{style:{fontWeight:700,fontSize:17},children:"Positions"}),p.jsx("button",{style:{background:"none",color:se,border:`1px solid ${se}`,fontFamily:"Courier New",fontSize:15,padding:"4px 18px",borderRadius:2,cursor:"pointer"},children:"Add Position"}),p.jsx("button",{style:{background:"none",color:se,border:`1px solid ${se}`,fontFamily:"Courier New",fontSize:15,padding:"4px 18px",borderRadius:2,cursor:"pointer"},children:"Export .json"})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:`1.5px solid ${se}`},children:[p.jsx("th",{style:{textAlign:"left",padding:6},children:"Ticker"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"Buy"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"Current"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"% Return"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"$ Return"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"Size"}),p.jsx("th",{style:{textAlign:"right",padding:6},children:"Held"}),p.jsx("th",{style:{textAlign:"center",padding:6},children:"Status"}),p.jsx("th",{style:{textAlign:"center",padding:6},children:"Notes"}),p.jsx("th",{style:{textAlign:"center",padding:6},children:"Trade"})]})}),p.jsx("tbody",{children:[1,2,3].map(o=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{style:{padding:6},children:"AAPL"}),p.jsx("td",{style:{padding:6,textAlign:"right"},children:"$180.00"}),p.jsx("td",{style:{padding:6,textAlign:"right"},children:"$185.00"}),p.jsx("td",{style:{padding:6,textAlign:"right",color:se},children:"+2.8%"}),p.jsx("td",{style:{padding:6,textAlign:"right",color:se},children:"+$50"}),p.jsx("td",{style:{padding:6,textAlign:"right"},children:"$1,000"}),p.jsx("td",{style:{padding:6,textAlign:"right"},children:"3d"}),p.jsx("td",{style:{padding:6,textAlign:"center"},children:"Open"}),p.jsx("td",{style:{padding:6,textAlign:"center"},children:"📝"}),p.jsx("td",{style:{padding:6,textAlign:"center"},children:p.jsx("button",{style:{background:"none",color:se,border:`1px solid ${se}`,fontFamily:"Courier New",fontSize:14,padding:"2px 10px",borderRadius:2,cursor:"pointer"},children:"Trade"})})]},o))})]})]})}),p.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:24},children:[p.jsxs("div",{style:{...gn,minHeight:60,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",padding:0},children:[p.jsx("div",{style:{padding:16,borderBottom:i&&Array.isArray(i.items)&&i.items.length>0?"1px solid #222":"none"},children:p.jsx(VD,{value:r,onSelect:n})}),i&&Array.isArray(i.items)&&i.items.length>0&&p.jsx("div",{style:{maxHeight:220,overflowY:"auto",padding:0},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:`1.5px solid ${se}`},children:[p.jsx("th",{style:{textAlign:"left",padding:6,position:"sticky",top:0,background:"black",zIndex:1},children:"Symbol"}),p.jsx("th",{style:{textAlign:"right",padding:6,position:"sticky",top:0,background:"black",zIndex:1},children:"Latest"}),p.jsx("th",{style:{textAlign:"right",padding:6,position:"sticky",top:0,background:"black",zIndex:1},children:"% Change"})]})}),p.jsx("tbody",{children:i.items.map((o,s)=>{const{latest:l,change:u}=GD(o);return p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{style:{padding:6},children:o.symbol}),p.jsx("td",{style:{padding:6,textAlign:"right"},children:typeof l=="number"?`$${l.toFixed(2)}`:"--"}),p.jsx("td",{style:{padding:6,textAlign:"right",color:typeof u=="number"?u>=0?se:YD:"#888"},children:typeof u=="number"?`${u>=0?"+":""}${u.toFixed(2)}%`:"--"})]},o.symbol||s)})})]})})]}),p.jsx("div",{style:{...gn,minHeight:180},children:p.jsx(JD,{})})]})]}),p.jsxs("div",{style:{...gn,maxWidth:420,margin:"40px auto 0 auto",background:"#181818"},children:[p.jsx("div",{style:{fontWeight:700,fontSize:16,marginBottom:8},children:"Quick Trade Panel"}),p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:8},children:[p.jsx("input",{placeholder:"Symbol",style:{flex:1,background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New"}}),p.jsxs("select",{style:{background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New"},children:[p.jsx("option",{children:"Long"}),p.jsx("option",{children:"Short"})]}),p.jsx("input",{placeholder:"Amount",style:{width:80,background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New"}})]}),p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:8},children:[p.jsx("input",{placeholder:"Stop-loss ($ or %)",style:{flex:1,background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New"}}),p.jsx("input",{placeholder:"Take-profit ($ or %)",style:{flex:1,background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New"}})]}),p.jsx("textarea",{placeholder:"Reason (optional)",style:{width:"100%",background:"black",color:se,border:`1px solid ${se}`,borderRadius:2,padding:"4px 8px",fontFamily:"Courier New",minHeight:40,marginBottom:8}}),p.jsx("button",{style:{width:"100%",background:se,color:"black",border:"none",borderRadius:2,fontFamily:"Courier New",fontWeight:700,fontSize:15,padding:"8px 0",cursor:"pointer"},children:"Submit Trade"})]})]})]})},J="rgb(140,185,162)",QD=()=>{const{isInverted:e}=Jt(),t=Er(),r=sr(),[n,i]=v.useState([]),{notification:a,notificationType:o,setNotification:s}=nn(),[l,u]=v.useState(!1),[c,d]=v.useState(new Set);v.useEffect(()=>{const P=localStorage.getItem("trade_journal_trades");if(P)try{i(JSON.parse(P))}catch(T){console.error("Error loading trades:",T)}},[]),v.useEffect(()=>{localStorage.setItem("trade_journal_trades",JSON.stringify(n))},[n]);const f=(P,T)=>{i(I=>I.map($=>$.id===P?{...$,...T}:$))},h=P=>{i(T=>T.filter(I=>I.id!==P)),s("Trade deleted","success")},m=P=>new Date(P).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}),y=P=>{if(!P)return;const T=`https://elite.finviz.com/charts?t=${P.toUpperCase()}&p=d&l=1h1v`;window.open(T,"_blank")},x=(()=>{if(!n||n.length===0)return{totalTrades:0,winTrades:0,lossTrades:0,openTrades:0,winRate:0,averageReturn:0};const P=n.filter(D=>D.outcome&&D.outcome!=="Open"),T=P.filter(D=>D.outcome==="Win").length,I=P.filter(D=>D.outcome==="Loss").length,$=n.filter(D=>!D.outcome||D.outcome==="Open").length,O=P.length>0?T/P.length*100:0,z=P.reduce((D,U)=>{if(!U.entryPrice||!U.target)return D;const R=parseFloat(U.entryPrice),L=parseFloat(U.target);if(isNaN(R)||isNaN(L)||R<=0)return D;const Z=(L-R)/R*100;return D+Z},0),N=P.length>0?z/P.length:0;return{totalTrades:n.length,winTrades:T,lossTrades:I,openTrades:$,winRate:O,averageReturn:N}})(),b=()=>{u(!l),d(new Set)},w=P=>{d(T=>{const I=new Set(T);return I.has(P)?I.delete(P):I.add(P),I})},j=()=>{c.size===n.length?d(new Set):d(new Set(n.map(P=>P.id)))},A=()=>{if(c.size===0){s("Please select at least one trade to delete","error");return}i(P=>P.filter(T=>!c.has(T.id))),d(new Set),s(`Deleted ${c.size} trades`,"success")},k=()=>{if(c.size===0){s("Please select at least one trade to create burnlist","error");return}const P=n.filter(D=>c.has(D.id)),T=JSON.parse(localStorage.getItem("burnlist_watchlists")||"{}"),I=`Journal_${new Date().toISOString().split("T")[0]}`,$=`journal_${Date.now()}`,O=I.toLowerCase().replace(/[^a-z0-9]/g,"-"),z={id:$,name:I,slug:O,items:P.map(D=>({symbol:D.ticker,buyPrice:parseFloat(D.entryPrice)||0,buyDate:D.executedAt||D.date||new Date().toISOString(),historicalData:[]})),reason:`Created from journal with ${P.length} trades`,createdAt:new Date().toISOString()},N={...T,[$]:z};localStorage.setItem("burnlist_watchlists",JSON.stringify(N)),s(`Created burnlist "${I}" with ${P.length} stocks`,"success"),d(new Set)};return p.jsxs("div",{style:{backgroundColor:e?"rgb(140,185,162)":"#000000",color:e?"#000000":"#ffffff",minHeight:"100vh",padding:"0",fontFamily:"'Courier New', monospace"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:`2px solid ${J}`,background:"rgba(0,0,0,0.3)"},children:[p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:p.jsx("h1",{style:{color:J,margin:0,fontSize:"24px",fontWeight:"bold"},children:"TRADE JOURNAL"})}),p.jsxs("div",{style:{color:J,fontSize:"14px"},children:[n.length," Trades Logged"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${J}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>t("/universes"),style:{background:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?J:"transparent",color:r.pathname==="/universes"||r.pathname.startsWith("/universe/")?"#000000":J,border:`1px solid ${J}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>t("/journal"),style:{background:r.pathname==="/journal"?J:"transparent",color:r.pathname==="/journal"?"#000000":J,border:`1px solid ${J}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>t("/market"),style:{background:r.pathname==="/market"?J:"transparent",color:r.pathname==="/market"?"#000000":J,border:`1px solid ${J}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"}),p.jsx(ce,{onClick:()=>t("/"),style:{background:r.pathname==="/"||r.pathname.startsWith("/burn/")?J:"transparent",color:r.pathname==="/"||r.pathname.startsWith("/burn/")?"#000000":J,border:`1px solid ${J}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"BURNPAGE"})]}),x.totalTrades>0&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",padding:"12px 20px",background:"rgba(0,0,0,0.2)","@media (max-width: 768px)":{flexDirection:"column",gap:"8px",padding:"8px 16px"}},children:[p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"TOTAL TRADES"}),p.jsx("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:x.totalTrades})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"WINS"}),p.jsx("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:x.winTrades})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"LOSSES"}),p.jsx("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:x.lossTrades})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"OPEN"}),p.jsx("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:x.openTrades})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"WIN RATE"}),p.jsxs("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:[x.winRate.toFixed(1),"%"]})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{color:J,fontSize:"14px",fontWeight:"bold"},children:"AVG RETURN"}),p.jsxs("div",{style:{color:J,fontSize:"18px",fontWeight:"bold"},children:[x.averageReturn.toFixed(1),"%"]})]})]}),a&&p.jsx(yt,{message:a,type:o,onClose:()=>s("")}),p.jsxs("div",{style:{padding:"20px"},children:[p.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:p.jsx("button",{onClick:b,style:{background:"none",border:"none",color:J,fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",padding:"4px 8px",textDecoration:"underline"},children:l?"DONE":"EDIT"})}),n.length===0?p.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:J,fontSize:"18px"},children:[p.jsx("div",{style:{marginBottom:"20px"},children:"📊 No executed trades yet"}),p.jsx("div",{style:{fontSize:"14px",opacity:.7},children:"Execute trades from the Universe page to see them here"})]}):p.jsx("div",{style:{overflowX:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:`1px solid ${J}`,fontSize:"14px",tableLayout:"fixed",lineHeight:"24px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{background:"rgba(140,185,162,0.1)",borderBottom:`2px solid ${J}`,height:"40px"},children:[l&&p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden",width:"40px"},children:p.jsx("input",{type:"checkbox",checked:c.size===n.length&&n.length>0,onChange:j,style:{accentColor:J}})}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Ticker"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Setup"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"R:R"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Verdict"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Outcome"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Entry"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Stop"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Target"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Position"}),p.jsx("th",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Date"}),l&&p.jsx("th",{style:{padding:"0px",textAlign:"center",height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:"Actions"})]})}),p.jsx("tbody",{children:n.map((P,T)=>p.jsxs("tr",{style:{borderBottom:`1px solid ${J}`,background:T%2===0?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.1)",height:"40px"},children:[l&&p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden",width:"40px"},children:p.jsx("input",{type:"checkbox",checked:c.has(P.id),onChange:()=>w(P.id),style:{accentColor:J}})}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,fontWeight:"bold",height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:p.jsx("span",{onClick:()=>y(P.ticker),style:{cursor:"pointer",textDecoration:"underline",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},title:`Click to open ${P.ticker} chart in new tab`,children:P.ticker})}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:P.setup||P.setupType||"Manual"}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:P.riskReward?`${P.riskReward}:1`:"N/A"}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",height:"24px",maxHeight:"24px"},children:[p.jsx("img",{src:P.verdictFlag||vn,alt:P.verdict,style:{width:"14px",height:"14px"}}),p.jsx("span",{style:{fontSize:"12px",lineHeight:"14px"},children:P.verdict||"Qualified"})]})}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:p.jsxs("select",{value:P.outcome||"Open",onChange:I=>f(P.id,{outcome:I.target.value}),style:{background:"transparent",color:J,border:"none",padding:"2px 4px",fontFamily:"'Courier New', monospace",fontSize:"11px",cursor:"pointer",height:"35px",maxHeight:"35px",lineHeight:"31px"},children:[p.jsx("option",{value:"Open",children:"Open"}),p.jsx("option",{value:"Win",children:"Win"}),p.jsx("option",{value:"Loss",children:"Loss"}),p.jsx("option",{value:"Break Even",children:"Break Even"})]})}),p.jsxs("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:["$",P.entryPrice?P.entryPrice.toFixed(2):"N/A"]}),p.jsxs("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:["$",P.stopLoss?P.stopLoss.toFixed(2):"N/A"]}),p.jsxs("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:["$",P.target?P.target.toFixed(2):"N/A"]}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:P.positionSize?`${P.positionSize} shares`:"N/A"}),p.jsx("td",{style:{padding:"0px",textAlign:"center",borderRight:`1px solid ${J}`,height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:P.executedAt?m(P.executedAt):m(P.date)}),l&&p.jsx("td",{style:{padding:"8px",textAlign:"center",height:"40px",minHeight:"40px",maxHeight:"40px",lineHeight:"24px",boxSizing:"border-box",verticalAlign:"middle",overflow:"hidden"},children:p.jsx(ce,{onClick:()=>h(P.id),style:{background:"none",border:"none",color:"#ff4444",padding:"2px 4px",fontSize:"10px",cursor:"pointer",height:"20px",maxHeight:"20px",lineHeight:"16px"},children:"DELETE"})})]},P.id))})]})})]}),l&&p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${J}`,background:"rgba(0,0,0,0.2)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:j,style:{background:c.size===n.length?J:"transparent",color:c.size===n.length?"#000000":J,border:`1px solid ${J}`,padding:"6px 12px",fontFamily:"'Courier New', monospace",fontSize:"10px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},children:c.size===n.length?"DESELECT ALL":"SELECT ALL"}),p.jsxs(ce,{onClick:A,disabled:c.size===0,style:{background:c.size===0?"rgba(0,0,0,0.3)":"transparent",color:c.size===0?"#666":"#e31507",border:`1px solid ${c.size===0?"#666":"#e31507"}`,padding:"6px 12px",fontFamily:"'Courier New', monospace",fontSize:"10px",fontWeight:"bold",cursor:c.size===0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:["DELETE (",c.size,")"]}),p.jsxs(ce,{onClick:k,disabled:c.size===0,style:{background:c.size===0?"rgba(0,0,0,0.3)":"transparent",color:c.size===0?"#666":J,border:`1px solid ${c.size===0?"#666":J}`,padding:"6px 12px",fontFamily:"'Courier New', monospace",fontSize:"10px",fontWeight:"bold",cursor:c.size===0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:["CREATE BURNLIST (",c.size,")"]})]})]})},ZD=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(null),[i,a]=v.useState(!1),[o,s]=v.useState(""),l=async()=>{a(!0),s(""),n(null);try{const u=await fetch(`http://localhost:3001/api/finviz-quote?ticker=${e.toUpperCase()}`);if(!u.ok)throw new Error("Failed to fetch");const c=await u.json();Array.isArray(c)&&c.length>0&&c[0].Close?n(c[0].Close):s("No price data found")}catch{s("Error fetching price")}a(!1)};return p.jsxs("div",{style:{maxWidth:400,margin:"60px auto",padding:24,background:"#111",color:"#C0FFC0",borderRadius:8,fontFamily:"monospace"},children:[p.jsx("h2",{style:{color:"#C0FFC0"},children:"Add Stock & Get Current Price"}),p.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter ticker (e.g. SPY)",style:{width:"100%",padding:8,fontSize:18,marginBottom:12,borderRadius:4,border:"1px solid #333",background:"#222",color:"#C0FFC0"}}),p.jsx("button",{onClick:l,disabled:i||!e,style:{width:"100%",padding:10,fontSize:18,background:"#C0FFC0",color:"#111",border:"none",borderRadius:4,cursor:"pointer",fontWeight:"bold"},children:i?"Loading...":"Get Price"}),r&&p.jsxs("div",{style:{marginTop:24,fontSize:22,color:"#C0FFC0"},children:["Current Price: ",p.jsx("span",{style:{fontWeight:"bold"},children:r})]}),o&&p.jsx("div",{style:{marginTop:16,color:"#FF5555"},children:o})]})},At="rgb(140,185,162)",e2=()=>{const e=Er(),t=sr(),{isInverted:r,toggleTheme:n}=Jt(),i=oe(At),a=oe("black"),o=oe("#e31507"),{notification:s,notificationType:l,setNotification:u}=nn();return p.jsx("div",{style:{fontFamily:"Courier New",color:i,backgroundColor:a,minHeight:"100vh",padding:"0"},children:p.jsxs("div",{style:{padding:"32px","@media (max-width: 768px)":{padding:"16px",paddingBottom:"80px"},"@media (max-width: 480px)":{padding:"12px",paddingBottom:"80px"}},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24,flexWrap:"wrap",gap:"12px","@media (max-width: 768px)":{flexDirection:"column",alignItems:"flex-start",marginBottom:16}},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,"@media (max-width: 480px)":{gap:8}},children:[p.jsx("button",{onClick:n,style:{border:"none",background:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",minHeight:"44px"},"aria-label":"Toggle theme",children:p.jsx("img",{src:r?Wy:zy,alt:"Burnlist Logo",style:{width:40,height:40,marginRight:10,transition:"filter 0.3s","@media (max-width: 480px)":{width:32,height:32,marginRight:8}}})}),p.jsx("strong",{style:{fontSize:"170%",lineHeight:"40px",display:"inline-block",color:i,"@media (max-width: 768px)":{fontSize:"140%",lineHeight:"32px"},"@media (max-width: 480px)":{fontSize:"120%",lineHeight:"28px"}},children:"BURNLIST v1.1"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,"@media (max-width: 768px)":{alignSelf:"flex-end"}},children:[p.jsx("span",{style:{color:o,fontWeight:"bold",fontSize:12},children:"19"}),p.jsx("span",{style:{color:i,fontWeight:"bold",fontSize:12},children:"6"}),p.jsx("span",{style:{color:i},children:"ACCOUNT: local"})]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",borderBottom:`1px solid ${At}`,background:"rgba(0,0,0,0.3)",gap:"10px",marginBottom:"20px"},children:[p.jsx(ce,{onClick:()=>e("/universes"),style:{background:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?At:"transparent",color:t.pathname==="/universes"||t.pathname.startsWith("/universe/")?"#000000":At,border:`1px solid ${At}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"UNIVERSE"}),p.jsx(ce,{onClick:()=>e("/journal"),style:{background:t.pathname==="/journal"?At:"transparent",color:t.pathname==="/journal"?"#000000":At,border:`1px solid ${At}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"JOURNAL"}),p.jsx(ce,{onClick:()=>e("/market"),style:{background:t.pathname==="/market"?At:"transparent",color:t.pathname==="/market"?"#000000":At,border:`1px solid ${At}`,padding:"9px 18px",fontFamily:"'Courier New', monospace",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",minWidth:"80px",textAlign:"center"},children:"MARKET"})]}),p.jsxs("div",{style:{textAlign:"center",marginTop:"50px",color:i},children:[p.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px"},children:"MARKET DATA"}),p.jsx("p",{style:{fontSize:"16px",marginBottom:"30px"},children:"Market analysis and data will be displayed here."})]}),s&&p.jsx("div",{style:{position:"fixed",top:24,left:0,right:0,zIndex:10001,display:"flex",justifyContent:"center",pointerEvents:"none","@media (max-width: 768px)":{top:16}},children:p.jsx("div",{style:{minWidth:320,maxWidth:480,pointerEvents:"auto","@media (max-width: 768px)":{minWidth:280,maxWidth:"calc(100vw - 32px)"}},children:p.jsx(yt,{message:s,type:l,onClose:()=>u("")})})})]})})},t2="rgb(140,185,162)",r2=()=>{const e=sr(),t=oe(t2),r=oe("black"),n=[{path:"/universes",label:"UNIVERSE"},{path:"/journal",label:"DASHBOARD"},{path:"/market",label:"MARKET"},{path:"/",label:"GRAPH VIEW"}];return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
          .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: ${r};
            border-top: 1px solid ${t};
            padding: 12px 16px;
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            align-items: center;
            gap: 8px;
          }
          
          @media (min-width: 769px) {
            .mobile-nav {
              display: none !important;
            }
          }
          
          .mobile-nav-button {
            background: ${r};
            color: ${t};
            border: 1px solid ${t};
            padding: 8px 12px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }
          
          .mobile-nav-button:active {
            background: ${t};
            color: ${r};
          }
          
          @media (max-width: 480px) {
            .mobile-nav {
              padding: 8px 12px;
              gap: 6px;
            }
            .mobile-nav-button {
              font-size: 10px;
              padding: 6px 8px;
              letter-spacing: 0.3px;
            }
          }
        `}),p.jsx("div",{className:"mobile-nav",children:n.map(i=>{const a=e.pathname===i.path;return p.jsx(Gi,{to:i.path,className:"mobile-nav-button",style:{backgroundColor:a?t:r,color:a?r:t},children:i.label},i.path)})})]})};function n2(){const[e,t]=v.useState(()=>{try{const r=localStorage.getItem("burnlist_watchlists");return console.log("Loaded watchlists from localStorage:",r),r?JSON.parse(r):{}}catch{return{}}});return v.useEffect(()=>{console.log("Saving watchlists to localStorage:",e),localStorage.setItem("burnlist_watchlists",JSON.stringify(e))},[e]),v.useEffect(()=>()=>{Xe.cleanup()},[]),p.jsx(KT,{children:p.jsxs(av,{children:[p.jsxs(ov,{children:[p.jsx(It,{path:"/",element:p.jsx(nD,{watchlists:e,setWatchlists:t})}),p.jsx(It,{path:"/watchlist/:slug",element:p.jsx(ED,{watchlists:e,setWatchlists:t})}),p.jsx(It,{path:"/mockwatchlist",element:p.jsx(TD,{})}),p.jsx(It,{path:"/universes",element:p.jsx(KD,{})}),p.jsx(It,{path:"/universe/:slug",element:p.jsx(HD,{})}),p.jsx(It,{path:"/trade",element:p.jsx(XD,{})}),p.jsx(It,{path:"/journal",element:p.jsx(QD,{})}),p.jsx(It,{path:"/add-stock-price",element:p.jsx(ZD,{})}),p.jsx(It,{path:"/market",element:p.jsx(e2,{})})]}),p.jsx(r2,{})]})})}console.log("MAIN.JSX is running");fv.createRoot(document.getElementById("root")).render(p.jsx(n2,{}));
